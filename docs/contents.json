{
  "paths": [
    {
      "type": "file",
      "value": "index.md"
    },
    {
      "type": "dir",
      "name": "1_WHEEL_introduction",
      "children": [
        {
          "type": "dir",
          "name": "how_to_boot",
          "children": [
            {
              "type": "file",
              "value": "1_WHEEL_introduction/how_to_boot/boot.md"
            }
          ]
        }
      ]
    },
    {
      "type": "dir",
      "name": "2_WHEEL_manual",
      "children": [
        {
          "type": "dir",
          "name": "1_home_screen",
          "children": [
            {
              "type": "file",
              "value": "2_WHEEL_manual/1_home_screen/home.md"
            }
          ]
        },
        {
          "type": "dir",
          "name": "2_remotehost_screen",
          "children": [
            {
              "type": "file",
              "value": "2_WHEEL_manual/2_remotehost_screen/remotehost.md"
            }
          ]
        },
        {
          "type": "dir",
          "name": "3_workflow_screen",
          "children": [
            {
              "type": "file",
              "value": "2_WHEEL_manual/3_workflow_screen/1_graphview.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/3_workflow_screen/2_listview.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/3_workflow_screen/3_editor.md"
            }
          ]
        },
        {
          "type": "dir",
          "name": "4_component",
          "children": [
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/00_common.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/01_Task.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/02_If.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/03_For.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/04_while.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/05_Foreach.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/06_PS.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/07_Workflow.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/08_Storage.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/09_Source.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/10_Viewer.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/11_Stepjob.md"
            },
            {
              "type": "file",
              "value": "2_WHEEL_manual/4_component/12_BulkjobTask.md"
            }
          ]
        },
        {
          "type": "file",
          "value": "2_WHEEL_manual/index.md"
        }
      ]
    },
    {
      "type": "dir",
      "name": "3_WHEEL_tutorial",
      "children": [
        {
          "type": "file",
          "value": "3_WHEEL_tutorial/1_hello_world.md"
        },
        {
          "type": "dir",
          "name": "2_OpenFOAM_PS_sample",
          "children": [
            {
              "type": "file",
              "value": "3_WHEEL_tutorial/2_OpenFOAM_PS_sample/OpenFOAM_PS_sample.md"
            }
          ]
        },
        {
          "type": "dir",
          "name": "3_OpenFOAM_KPrepostCloud_sample",
          "children": [
            {
              "type": "file",
              "value": "3_WHEEL_tutorial/3_OpenFOAM_KPrepostCloud_sample/OpenFOAM_KPrepostCloud_sample.md"
            }
          ]
        },
        {
          "type": "dir",
          "name": "4_OpenFOAM_TCS_sample",
          "children": [
            {
              "type": "file",
              "value": "3_WHEEL_tutorial/4_OpenFOAM_TCS_sample/OpenFOAM_TCS_sample.md"
            }
          ]
        },
        {
          "type": "dir",
          "name": "5_TensorFlow_UGE_sample",
          "children": [
            {
              "type": "file",
              "value": "3_WHEEL_tutorial/5_TensorFlow_UGE_sample/TensorFlow_UGE_sample.md"
            }
          ]
        },
        {
          "type": "file",
          "value": "3_WHEEL_tutorial/index.md"
        }
      ]
    },
    {
      "type": "dir",
      "name": "4_ATTENTION",
      "children": [
        {
          "type": "file",
          "value": "4_ATTENTION/ATTENTION.md"
        }
      ]
    }
  ],
  "contents": [
    {
      "path": "index.md",
      "url": "index.html",
      "content": "# WHEEL　ユーザーガイド\n本ユーザガイドは次の3部構成となっています。\n\n[WHEEL起動手順書](1_WHEEL_introduction/how_to_boot/boot.md)\n\n[WHEELリファレンスマニュアル](2_WHEEL_manual/index.md)\n\n[WHEELチュートリアル](3_WHEEL_tutorial/index.md)\n\n### 制約事項\nWHEELは開発中のソフトウェアであり、いくつかの制約事項が残っています。\nこれらは次のページにまとまっていますのでご一読ください。\n\n[WHEEL制約事項](4_ATTENTION/ATTENTION.md)\n",
      "html": "<h1 id=\"wheel-%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%AC%E3%82%A4%E3%83%89\">WHEEL　ユーザーガイド <a class=\"heading-anchor-permalink\" href=\"#wheel-%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%AC%E3%82%A4%E3%83%89\">#</a></h1>\n<p>本ユーザガイドは次の3部構成となっています。</p>\n<p><a href=\"1_WHEEL_introduction/how_to_boot/boot.html\">WHEEL起動手順書</a></p>\n<p><a href=\"2_WHEEL_manual/index.html\">WHEELリファレンスマニュアル</a></p>\n<p><a href=\"3_WHEEL_tutorial/index.html\">WHEELチュートリアル</a></p>\n<h3 id=\"%E5%88%B6%E7%B4%84%E4%BA%8B%E9%A0%85\">制約事項 <a class=\"heading-anchor-permalink\" href=\"#%E5%88%B6%E7%B4%84%E4%BA%8B%E9%A0%85\">#</a></h3>\n<p>WHEELは開発中のソフトウェアであり、いくつかの制約事項が残っています。\nこれらは次のページにまとまっていますのでご一読ください。</p>\n<p><a href=\"4_ATTENTION/ATTENTION.html\">WHEEL制約事項</a></p>\n",
      "id": 0
    },
    {
      "path": "1_WHEEL_introduction/how_to_boot/boot.md",
      "url": "1_WHEEL_introduction/how_to_boot/boot.html",
      "content": "# WHEELの起動方法\n\n## 事前準備\nWHEELの起動にはdockerを使用します。\n最新の [docker](https://www.docker.com/) を取得してください。\n\n## 起動方法\n1. 任意の場所にディレクトリを作成します。(以降では、このディレクトリを`CONFIG_DIR`とします。)\n2. `CONFIG_DIR`に以下の2つのファイルをダウンロードします。\n    - [jobScheduler.json](https://raw.githubusercontent.com/RIKEN-RCCS/OPEN-WHEEL/master/app/config/jobScheduler.json)\n    - [server.json](https://raw.githubusercontent.com/RIKEN-RCCS/OPEN-WHEEL/master/app/config/server.json)\n3.  HTTP通信用のサーバ証明書および鍵ファイルを作成し、`CONFIG_DIR`に格納します。(HTTP通信用自己証明書の作成方法は、[self-signed certification](../../../self-signed_certification.md)を参考ください。)\n4. ターミナルを起動し、以下のコマンドを入力します。\n\n```\n> docker run -d -v ${HOME}:/root -v CONFIG_DIR:/usr/src/app/config -p 8089:8089 tmkawanabe/wheel:latest\n```\n\nこのとき、`CONFIG_DIR`は、ホストマシン上での絶対パスである必要があります。\n\n上記コマンドでは、\n\n- プロジェクトファイルの作成先を${HOME}に指定しています\n- WHHELのポート番号を8089に指定しています。\n\nWHEELサーバが起動したら、ホストマシン上でwebブラウザを開いて、`https://localhost:8089`にアクセスしてください。\n\n\n\n--------\n[トップページに戻る](../../index.md)\n",
      "html": "<h1 id=\"wheel%E3%81%AE%E8%B5%B7%E5%8B%95%E6%96%B9%E6%B3%95\">WHEELの起動方法 <a class=\"heading-anchor-permalink\" href=\"#wheel%E3%81%AE%E8%B5%B7%E5%8B%95%E6%96%B9%E6%B3%95\">#</a></h1>\n<h2 id=\"%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99\">事前準備 <a class=\"heading-anchor-permalink\" href=\"#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99\">#</a></h2>\n<p>WHEELの起動にはdockerを使用します。\n最新の <a href=\"https://www.docker.com/\">docker</a> を取得してください。</p>\n<h2 id=\"%E8%B5%B7%E5%8B%95%E6%96%B9%E6%B3%95\">起動方法 <a class=\"heading-anchor-permalink\" href=\"#%E8%B5%B7%E5%8B%95%E6%96%B9%E6%B3%95\">#</a></h2>\n<ol>\n<li>任意の場所にディレクトリを作成します。(以降では、このディレクトリを<code>CONFIG_DIR</code>とします。)</li>\n<li><code>CONFIG_DIR</code>に以下の2つのファイルをダウンロードします。\n<ul>\n<li><a href=\"https://raw.githubusercontent.com/RIKEN-RCCS/OPEN-WHEEL/master/app/config/jobScheduler.json\">jobScheduler.json</a></li>\n<li><a href=\"https://raw.githubusercontent.com/RIKEN-RCCS/OPEN-WHEEL/master/app/config/server.json\">server.json</a></li>\n</ul>\n</li>\n<li>HTTP通信用のサーバ証明書および鍵ファイルを作成し、<code>CONFIG_DIR</code>に格納します。(HTTP通信用自己証明書の作成方法は、<a href=\"../../../self-signed_certification.html\">self-signed certification</a>を参考ください。)</li>\n<li>ターミナルを起動し、以下のコマンドを入力します。</li>\n</ol>\n<pre><code>&gt; docker run -d -v ${HOME}:/root -v CONFIG_DIR:/usr/src/app/config -p 8089:8089 tmkawanabe/wheel:latest\n</code></pre>\n<p>このとき、<code>CONFIG_DIR</code>は、ホストマシン上での絶対パスである必要があります。</p>\n<p>上記コマンドでは、</p>\n<ul>\n<li>プロジェクトファイルの作成先を${HOME}に指定しています</li>\n<li>WHHELのポート番号を8089に指定しています。</li>\n</ul>\n<p>WHEELサーバが起動したら、ホストマシン上でwebブラウザを開いて、<code>https://localhost:8089</code>にアクセスしてください。</p>\n<hr>\n<p><a href=\"../../index.html\">トップページに戻る</a></p>\n",
      "id": 1
    },
    {
      "path": "2_WHEEL_manual/1_home_screen/home.md",
      "url": "2_WHEEL_manual/1_home_screen/home.html",
      "content": "# プロジェクトの作成と編集\n新規プロジェクトの作成や既存プロジェクトの編集はホーム画面で行います。\nホーム画面の構成は以下のようになっています。\n\n![img](./img/home.png \"home\")\n1. Open ボタン                : 既存プロジェクトを開く\n1. New ボタン                 : 新規プロジェクトの作成\n1. Remove from list ボタン    : 画面下部のプロジェクト一覧に表示されているプロジェクトを表示しないようにする\n1. Remove ボタン              : プロジェクトの削除\n1. batch mode スイッチ        : 複数プロジェクトの一括削除モードへの切り替えスイッチ\n1. ナビゲーションドロワー     : ユーザガイド、リモートホスト設定画面へのリンクを含むドロアーを開く\n1. プロジェクト一覧表示エリア : 過去に開いたプロジェクトのリスト\n\nプロジェクト一覧表示エリアには、以下の項目が表示されます。\n- 名前\n- 説明文\n- プロジェクトファイルのルートディレクトリパス\n- 作成日\n- 更新日\n- 実行状況\n\n\n## 1. 新規プロジェクトの作成\n次の手順で新規プロジェクトを作成します。\n\n1. [New] ボタンをクリックし、新規プロジェクト作成ダイアログを表示させる\n1. ダイアログ下部のディレクトリツリーでプロジェクトデータ作成場所を選択する\n1. プロジェクト名を入力する\n1. [CREATE] ボタンをクリックする\n\n![img](./img/new.png \"new\")\n\n新規プロジェクトが作成されると、プロジェクト一覧に表示されるので次の「プロジェクトを開く」の手順に沿って\nワークフロー画面に遷移してください。\n\n## 2. プロジェクトを開く\n次の手順で、プロジェクトを開いてワークフロー画面に遷移します。\n1. プロジェクト一覧表示エリアで開きたいプロジェクト名の左にあるチェックボックスをクリックして選択します。\n1. [OPEN] ボタンをクリックするとワークフロー画面に遷移します。\n\n![img](./img/open.png \"open\")\n\n## 3. プロジェクト名の変更\nプロジェクト一覧表示部分のプロジェクト名をクリックすると、プロジェクト名変更ダイアログが表示されます。\nプロジェクト名を編集してenterキーを押下するとプロジェクト名が変更されます。\n\n![img](./img/changeName.png \"changeName\")\n\nなお、プロジェクト名はディレクトリ名の一部として使われるため同名のディレクトリが既に存在する場合などは、末尾に.1,\n(.1も使われている時は.2 .3・・・と順次大きい数値)を追加した名前に変更されます\n\n## 4. プロジェクトの削除\n次の手順でプロジェクトを削除します。\n1. プロジェクト一覧表示エリアで削除したいプロジェクト名の左にあるチェックボックスをクリックして選択します。\n1. [REMOVE] ボタンをクリックすると選択したプロジェクトが削除されます。\n   この時、代わりに [REMOVE FROM LIST] ボタンをクリックすると、\n   プロジェクト一覧表示からは削除されますが、プロジェクトの実体となるファイルはサーバ側に残したままにできます。\n\n## 5. 複数プロジェクトの一括削除\n[batch mode] スイッチを有効にすると、複数のプロジェクトを選択できるようになり\nこの状態で、[REMOVE]または[REMOVE FROM LIST] ボタンをクリックすると複数プロジェクトを\n一括で削除することができます。\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E7%B7%A8%E9%9B%86\">プロジェクトの作成と編集 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E7%B7%A8%E9%9B%86\">#</a></h1>\n<p>新規プロジェクトの作成や既存プロジェクトの編集はホーム画面で行います。\nホーム画面の構成は以下のようになっています。</p>\n<p><img src=\"./img/home.png\" alt=\"img\" title=\"home\"></p>\n<ol>\n<li>Open ボタン                : 既存プロジェクトを開く</li>\n<li>New ボタン                 : 新規プロジェクトの作成</li>\n<li>Remove from list ボタン    : 画面下部のプロジェクト一覧に表示されているプロジェクトを表示しないようにする</li>\n<li>Remove ボタン              : プロジェクトの削除</li>\n<li>batch mode スイッチ        : 複数プロジェクトの一括削除モードへの切り替えスイッチ</li>\n<li>ナビゲーションドロワー     : ユーザガイド、リモートホスト設定画面へのリンクを含むドロアーを開く</li>\n<li>プロジェクト一覧表示エリア : 過去に開いたプロジェクトのリスト</li>\n</ol>\n<p>プロジェクト一覧表示エリアには、以下の項目が表示されます。</p>\n<ul>\n<li>名前</li>\n<li>説明文</li>\n<li>プロジェクトファイルのルートディレクトリパス</li>\n<li>作成日</li>\n<li>更新日</li>\n<li>実行状況</li>\n</ul>\n<h2 id=\"1.-%E6%96%B0%E8%A6%8F%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\">1. 新規プロジェクトの作成 <a class=\"heading-anchor-permalink\" href=\"#1.-%E6%96%B0%E8%A6%8F%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\">#</a></h2>\n<p>次の手順で新規プロジェクトを作成します。</p>\n<ol>\n<li>[New] ボタンをクリックし、新規プロジェクト作成ダイアログを表示させる</li>\n<li>ダイアログ下部のディレクトリツリーでプロジェクトデータ作成場所を選択する</li>\n<li>プロジェクト名を入力する</li>\n<li>[CREATE] ボタンをクリックする</li>\n</ol>\n<p><img src=\"./img/new.png\" alt=\"img\" title=\"new\"></p>\n<p>新規プロジェクトが作成されると、プロジェクト一覧に表示されるので次の「プロジェクトを開く」の手順に沿って\nワークフロー画面に遷移してください。</p>\n<h2 id=\"2.-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E9%96%8B%E3%81%8F\">2. プロジェクトを開く <a class=\"heading-anchor-permalink\" href=\"#2.-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E9%96%8B%E3%81%8F\">#</a></h2>\n<p>次の手順で、プロジェクトを開いてワークフロー画面に遷移します。</p>\n<ol>\n<li>プロジェクト一覧表示エリアで開きたいプロジェクト名の左にあるチェックボックスをクリックして選択します。</li>\n<li>[OPEN] ボタンをクリックするとワークフロー画面に遷移します。</li>\n</ol>\n<p><img src=\"./img/open.png\" alt=\"img\" title=\"open\"></p>\n<h2 id=\"3.-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%90%8D%E3%81%AE%E5%A4%89%E6%9B%B4\">3. プロジェクト名の変更 <a class=\"heading-anchor-permalink\" href=\"#3.-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%90%8D%E3%81%AE%E5%A4%89%E6%9B%B4\">#</a></h2>\n<p>プロジェクト一覧表示部分のプロジェクト名をクリックすると、プロジェクト名変更ダイアログが表示されます。\nプロジェクト名を編集してenterキーを押下するとプロジェクト名が変更されます。</p>\n<p><img src=\"./img/changeName.png\" alt=\"img\" title=\"changeName\"></p>\n<p>なお、プロジェクト名はディレクトリ名の一部として使われるため同名のディレクトリが既に存在する場合などは、末尾に.1,\n(.1も使われている時は.2 .3・・・と順次大きい数値)を追加した名前に変更されます</p>\n<h2 id=\"4.-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%89%8A%E9%99%A4\">4. プロジェクトの削除 <a class=\"heading-anchor-permalink\" href=\"#4.-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%89%8A%E9%99%A4\">#</a></h2>\n<p>次の手順でプロジェクトを削除します。</p>\n<ol>\n<li>プロジェクト一覧表示エリアで削除したいプロジェクト名の左にあるチェックボックスをクリックして選択します。</li>\n<li>[REMOVE] ボタンをクリックすると選択したプロジェクトが削除されます。\nこの時、代わりに [REMOVE FROM LIST] ボタンをクリックすると、\nプロジェクト一覧表示からは削除されますが、プロジェクトの実体となるファイルはサーバ側に残したままにできます。</li>\n</ol>\n<h2 id=\"5.-%E8%A4%87%E6%95%B0%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%B8%80%E6%8B%AC%E5%89%8A%E9%99%A4\">5. 複数プロジェクトの一括削除 <a class=\"heading-anchor-permalink\" href=\"#5.-%E8%A4%87%E6%95%B0%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%B8%80%E6%8B%AC%E5%89%8A%E9%99%A4\">#</a></h2>\n<p>[batch mode] スイッチを有効にすると、複数のプロジェクトを選択できるようになり\nこの状態で、[REMOVE]または[REMOVE FROM LIST] ボタンをクリックすると複数プロジェクトを\n一括で削除することができます。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 2
    },
    {
      "path": "2_WHEEL_manual/2_remotehost_screen/remotehost.md",
      "url": "2_WHEEL_manual/2_remotehost_screen/remotehost.html",
      "content": "# リモートホストの登録\nワークフロー内でWHEELサーバ外の計算環境（以下、リモートホスト）を用いる場合、対象とするリモートホストにSSH接続し処理を実行します。\nWHEELでは、ワークフロー画面（Taskコンポーネント）にて使用するリモートホストの情報及びリモートホストに登録されているユーザ情報をリモートホスト登録画面にて設定します。\n\n## リモートホスト登録画面への移動\nリモートホスト登録画面は、画面右上のハンバーガーメニューをクリックした時に表示されるリンクを\nクリックすると表示されます\n\n![img](./img/hanberger.png \"hanberger.png\")\n![img](./img/drawer.png \"drawer.png\")\n\n\n## リモートホスト登録画面\nリモートホスト登録画面の構成は以下のようになっています。\n![img](./img/remotehost.png \"remotehost\")\n\n1. タイトル　：ホーム画面遷移ボタン\n1. 新規リモートホスト登録ボタン：リモートホストへの接続情報を新しく作成します\n1. 新規クラウド設定登録ボタン  ：クラウド上にクラスタを構成する設定を新しく作成します\n1. リモートホストリスト：登録済みリモートホスト情報\n    1. テストボタン: 設定した接続情報でリモートホストにアクセスできるかどうかを確認します\n    1. 編集ボタン  : 入力済の接続情報を編集します\n    1. 削除ボタン  : 入力済の接続情報を削除します\n\n### 新規リモートホスト登録画面\n新規リモートホスト登録ボタンをクリックすると次の画面が表示されます。\n\n![img](./img/new_remotehost.png \"new_remotehost\")\n\nフォームの各部には次の情報を設定してください。\n\n|||\n|----------|---------------------------------|\n|label| 接続情報を区別するための一意な文字列|\n|Hostname| 接続先のホスト名(IPアドレスでも可)|\n|Port number| 接続先のポート番号|\n|User ID| ログインに使用するユーザ名|\n|Host work dir| 接続先で、実行に使うディレクトリの最上位のパス|\n|use public key authentication| on にすると公開鍵認証が、offにするとパスワード認証が使われます。|\n|private key path|秘密鍵のファイルパス(use public key...がonの時のみ表示されます |\n|job scheduler|リモートホストで使われているジョブサーバ|\n|max number of jobs|同時に投入するジョブの最大値|\n|available queues|リモートホスト上で利用可能なキューの名前。カンマ区切りで記載してください|\n|use bulkjob|(富岳のみ)バルクジョブを使えるサイトかどうか|\n|use stepjob|(富岳のみ)ステップジョブを使えるサイトかどうか|\n|shared host|ストレージを共用している他のリモートホストのラベル|\n|shared path on shared host|shared host上でHost work dirへアクセスするためのパス|\n\n`Advanced settings`の右にある▽をクリックすると、詳細設定の入力フォームが開きます。\n\n![img](./img/new_remotehost_advance.png \"new_remotehost_advance\")\n\n|||\n|----------|---------------------------------|\n| connection renewal interval(min.) | sshを定期的に再接続する時の間隔 [分]<br> 0の時(デフォルト)は再接続しない|\n| connection renewal delay(sec.) | 再接続時の待ち時間[秒] （デフォルト値 0）|\n| status check interval(sec.) | ジョブ投入後のステータス確認を行う間隔[秒]（デフォルト値 10）|\n| max number of status check error allowed | ステータス確認の失敗を何回まで許容するか|\n| interval time between each executions | 1つのジョブ実行が終わった後、次のジョブを実行するまでの待ち時間[秒] |\n| timeout during handhake phase(msec.) | sshのハンドシェイク時の待ち時間[ミリ秒]|\n| interval time between keep alive packet(msec.) | sshクライアントがkeep alive packetを投げる間隔[ミリ秒]|\n\n必要な情報を入力し、OKボタンをクリックするとリモートホスト接続設定が保存されます。\n\n### Cloud\n詳細は[Cloud(AWS)インスタンス利用方法](../../../doc/Cloud.md)を参照ください\n\n新規クラウド設定登録ボタンをクリックすると次の画面が表示されます。\n\n![img](./img/new_cloud.png \"new_cloud\")\n\nフォームの各部には次の情報を設定してください。\n\n||||\n|----|----|----|\n| Label | リモートホスト識別ラベル | 重複不可 * |\n| Cloud service provider | クラウドサービスプロバイダー名 | 現バージョン(ver2.1.0)では、「aws」のみ対応 * |\n| OS | OS名 | 現バージョン(ver2.1.0)では、「ubuntu16」のみ対応 * |\n| region | インスタンスを起動するリージョン | *  ex. ap-northeast-1 |\n| numNodes | 起動するノード数 | * |\n| InstanceType | 起動するインスタンスタイプ | * ex. t2.micro |\n| rootVolume | rootのEBSボリューム | 起動するインスタンスにアタッチされるrootのEBSボリュームのサイズ（デフォルト値 8 [GB]） |\n| shareStorage | 共有ストレージの利用設定 |（デフォルト値 利用する）|\n| mpi | MPI | ー |\n| compiler | コンパイラ | ー |\n| playbook | 起動時に実行されるplaybook | ー |\n| additionalParams | aws-sdkのEC2.runInstancesに渡すことのできる設定値 | access keyおよび secret access key等を設定可能 |\n| additionalParamsForHead | additionalParamsのうちヘッドノードのみに適用する値 | ー |\n| JobScheduler | WHEELに登録されているジョブスケジューラ名 | app/config/jobSceduler.jsonに定義されているジョブスケジューラ名を設定する <br> ただし、インスタンスにジョブスケジューラがインストールされている必要がある。<br> ジョブスケジューラ「PBSPro」を設定した場合、WHEELが起動するクラスタにPBSProをインストールする|\n| Max Job | ジョブ投入制限数 | 接続先リモートホストから同時に投入できる最大ジョブ数（デフォルト値 5）|\n| Queue | Queue名 | 接続先ホストからジョブを投入する時に使えるキュー、カンマ区切りで複数入力可（ex. A, B, C）|\n\n`Advance settings` の項目はリモートホストと同じです。\n\n必要な情報を入力し、OKボタンをクリックするとクラウド設定が登録されます。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E3%81%AE%E7%99%BB%E9%8C%B2\">リモートホストの登録 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E3%81%AE%E7%99%BB%E9%8C%B2\">#</a></h1>\n<p>ワークフロー内でWHEELサーバ外の計算環境（以下、リモートホスト）を用いる場合、対象とするリモートホストにSSH接続し処理を実行します。\nWHEELでは、ワークフロー画面（Taskコンポーネント）にて使用するリモートホストの情報及びリモートホストに登録されているユーザ情報をリモートホスト登録画面にて設定します。</p>\n<h2 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E7%94%BB%E9%9D%A2%E3%81%B8%E3%81%AE%E7%A7%BB%E5%8B%95\">リモートホスト登録画面への移動 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E7%94%BB%E9%9D%A2%E3%81%B8%E3%81%AE%E7%A7%BB%E5%8B%95\">#</a></h2>\n<p>リモートホスト登録画面は、画面右上のハンバーガーメニューをクリックした時に表示されるリンクを\nクリックすると表示されます</p>\n<p><img src=\"./img/hanberger.png\" alt=\"img\" title=\"hanberger.png\">\n<img src=\"./img/drawer.png\" alt=\"img\" title=\"drawer.png\"></p>\n<h2 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E7%94%BB%E9%9D%A2\">リモートホスト登録画面 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E7%94%BB%E9%9D%A2\">#</a></h2>\n<p>リモートホスト登録画面の構成は以下のようになっています。\n<img src=\"./img/remotehost.png\" alt=\"img\" title=\"remotehost\"></p>\n<ol>\n<li>タイトル　：ホーム画面遷移ボタン</li>\n<li>新規リモートホスト登録ボタン：リモートホストへの接続情報を新しく作成します</li>\n<li>新規クラウド設定登録ボタン  ：クラウド上にクラスタを構成する設定を新しく作成します</li>\n<li>リモートホストリスト：登録済みリモートホスト情報\n<ol>\n<li>テストボタン: 設定した接続情報でリモートホストにアクセスできるかどうかを確認します</li>\n<li>編集ボタン  : 入力済の接続情報を編集します</li>\n<li>削除ボタン  : 入力済の接続情報を削除します</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"%E6%96%B0%E8%A6%8F%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E7%94%BB%E9%9D%A2\">新規リモートホスト登録画面 <a class=\"heading-anchor-permalink\" href=\"#%E6%96%B0%E8%A6%8F%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E7%94%BB%E9%9D%A2\">#</a></h3>\n<p>新規リモートホスト登録ボタンをクリックすると次の画面が表示されます。</p>\n<p><img src=\"./img/new_remotehost.png\" alt=\"img\" title=\"new_remotehost\"></p>\n<p>フォームの各部には次の情報を設定してください。</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>label</td>\n<td>接続情報を区別するための一意な文字列</td>\n</tr>\n<tr>\n<td>Hostname</td>\n<td>接続先のホスト名(IPアドレスでも可)</td>\n</tr>\n<tr>\n<td>Port number</td>\n<td>接続先のポート番号</td>\n</tr>\n<tr>\n<td>User ID</td>\n<td>ログインに使用するユーザ名</td>\n</tr>\n<tr>\n<td>Host work dir</td>\n<td>接続先で、実行に使うディレクトリの最上位のパス</td>\n</tr>\n<tr>\n<td>use public key authentication</td>\n<td>on にすると公開鍵認証が、offにするとパスワード認証が使われます。</td>\n</tr>\n<tr>\n<td>private key path</td>\n<td>秘密鍵のファイルパス(use public key…がonの時のみ表示されます</td>\n</tr>\n<tr>\n<td>job scheduler</td>\n<td>リモートホストで使われているジョブサーバ</td>\n</tr>\n<tr>\n<td>max number of jobs</td>\n<td>同時に投入するジョブの最大値</td>\n</tr>\n<tr>\n<td>available queues</td>\n<td>リモートホスト上で利用可能なキューの名前。カンマ区切りで記載してください</td>\n</tr>\n<tr>\n<td>use bulkjob</td>\n<td>(富岳のみ)バルクジョブを使えるサイトかどうか</td>\n</tr>\n<tr>\n<td>use stepjob</td>\n<td>(富岳のみ)ステップジョブを使えるサイトかどうか</td>\n</tr>\n<tr>\n<td>shared host</td>\n<td>ストレージを共用している他のリモートホストのラベル</td>\n</tr>\n<tr>\n<td>shared path on shared host</td>\n<td>shared host上でHost work dirへアクセスするためのパス</td>\n</tr>\n</tbody>\n</table>\n<p><code>Advanced settings</code>の右にある▽をクリックすると、詳細設定の入力フォームが開きます。</p>\n<p><img src=\"./img/new_remotehost_advance.png\" alt=\"img\" title=\"new_remotehost_advance\"></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>connection renewal interval(min.)</td>\n<td>sshを定期的に再接続する時の間隔 [分]<br> 0の時(デフォルト)は再接続しない</td>\n</tr>\n<tr>\n<td>connection renewal delay(sec.)</td>\n<td>再接続時の待ち時間[秒] （デフォルト値 0）</td>\n</tr>\n<tr>\n<td>status check interval(sec.)</td>\n<td>ジョブ投入後のステータス確認を行う間隔[秒]（デフォルト値 10）</td>\n</tr>\n<tr>\n<td>max number of status check error allowed</td>\n<td>ステータス確認の失敗を何回まで許容するか</td>\n</tr>\n<tr>\n<td>interval time between each executions</td>\n<td>1つのジョブ実行が終わった後、次のジョブを実行するまでの待ち時間[秒]</td>\n</tr>\n<tr>\n<td>timeout during handhake phase(msec.)</td>\n<td>sshのハンドシェイク時の待ち時間[ミリ秒]</td>\n</tr>\n<tr>\n<td>interval time between keep alive packet(msec.)</td>\n<td>sshクライアントがkeep alive packetを投げる間隔[ミリ秒]</td>\n</tr>\n</tbody>\n</table>\n<p>必要な情報を入力し、OKボタンをクリックするとリモートホスト接続設定が保存されます。</p>\n<h3 id=\"cloud\">Cloud <a class=\"heading-anchor-permalink\" href=\"#cloud\">#</a></h3>\n<p>詳細は<a href=\"../../../doc/Cloud.html\">Cloud(AWS)インスタンス利用方法</a>を参照ください</p>\n<p>新規クラウド設定登録ボタンをクリックすると次の画面が表示されます。</p>\n<p><img src=\"./img/new_cloud.png\" alt=\"img\" title=\"new_cloud\"></p>\n<p>フォームの各部には次の情報を設定してください。</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Label</td>\n<td>リモートホスト識別ラベル</td>\n<td>重複不可 *</td>\n</tr>\n<tr>\n<td>Cloud service provider</td>\n<td>クラウドサービスプロバイダー名</td>\n<td>現バージョン(ver2.1.0)では、「aws」のみ対応 *</td>\n</tr>\n<tr>\n<td>OS</td>\n<td>OS名</td>\n<td>現バージョン(ver2.1.0)では、「ubuntu16」のみ対応 *</td>\n</tr>\n<tr>\n<td>region</td>\n<td>インスタンスを起動するリージョン</td>\n<td>*  ex. ap-northeast-1</td>\n</tr>\n<tr>\n<td>numNodes</td>\n<td>起動するノード数</td>\n<td>*</td>\n</tr>\n<tr>\n<td>InstanceType</td>\n<td>起動するインスタンスタイプ</td>\n<td>* ex. t2.micro</td>\n</tr>\n<tr>\n<td>rootVolume</td>\n<td>rootのEBSボリューム</td>\n<td>起動するインスタンスにアタッチされるrootのEBSボリュームのサイズ（デフォルト値 8 [GB]）</td>\n</tr>\n<tr>\n<td>shareStorage</td>\n<td>共有ストレージの利用設定</td>\n<td>（デフォルト値 利用する）</td>\n</tr>\n<tr>\n<td>mpi</td>\n<td>MPI</td>\n<td>ー</td>\n</tr>\n<tr>\n<td>compiler</td>\n<td>コンパイラ</td>\n<td>ー</td>\n</tr>\n<tr>\n<td>playbook</td>\n<td>起動時に実行されるplaybook</td>\n<td>ー</td>\n</tr>\n<tr>\n<td>additionalParams</td>\n<td>aws-sdkのEC2.runInstancesに渡すことのできる設定値</td>\n<td>access keyおよび secret access key等を設定可能</td>\n</tr>\n<tr>\n<td>additionalParamsForHead</td>\n<td>additionalParamsのうちヘッドノードのみに適用する値</td>\n<td>ー</td>\n</tr>\n<tr>\n<td>JobScheduler</td>\n<td>WHEELに登録されているジョブスケジューラ名</td>\n<td>app/config/jobSceduler.jsonに定義されているジョブスケジューラ名を設定する <br> ただし、インスタンスにジョブスケジューラがインストールされている必要がある。<br> ジョブスケジューラ「PBSPro」を設定した場合、WHEELが起動するクラスタにPBSProをインストールする</td>\n</tr>\n<tr>\n<td>Max Job</td>\n<td>ジョブ投入制限数</td>\n<td>接続先リモートホストから同時に投入できる最大ジョブ数（デフォルト値 5）</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>Queue名</td>\n<td>接続先ホストからジョブを投入する時に使えるキュー、カンマ区切りで複数入力可（ex. A, B, C）</td>\n</tr>\n</tbody>\n</table>\n<p><code>Advance settings</code> の項目はリモートホストと同じです。</p>\n<p>必要な情報を入力し、OKボタンをクリックするとクラウド設定が登録されます。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 3
    },
    {
      "path": "2_WHEEL_manual/3_workflow_screen/1_graphview.md",
      "url": "2_WHEEL_manual/3_workflow_screen/1_graphview.html",
      "content": "# 1. グラフビュー画面\n本章では、グラフビュー画面の機能について説明します。\n\nワークフローの作成・実行方法の具体例は、[チュートリアル](../../3_WHEEL_tutorial/index.md)をご参照ください\n\nグラフビュー画面は以下のように構成されています。\n\n![img](./img/workflow_graphview.png \"workflow_graghview\")\n\n 1. タイトル　　　　　　　　　　　　　：ホーム画面遷移ボタン\n 2. プロジェクト名　　　　　　　　　　：ワークフロー編集中のプロジェクト名\n 3. 状態表示エリア　　　　　　　　　　：プロジェクトのstate（実行状態）表示\n 4. 編集日時表示エリア　　　　　　　　：プロジェクトの作成、更新日時\n 5. ワークフロー画面切替ボタン　　　　：グラフビュー、リストビュー、テキストエディタの切替ボタン\n 6. プロジェクト操作ボタンエリア　　　：プロジェクトの実行、停止、クリーンボタン\n 7. プロジェクト編集ボタンエリア　　　：プロジェクトの保存、変更の破棄ボタン\n 8. 階層表示・遷移ボタン　　　　　　　：現在表示中のプロジェクトディレクトリの階層表示\n 9. 環境変数エディタ表示ボタン　　　　：ワークフロー作成用のライブラリ表示用ボタン\n10. コンポーネントライブラリ　　　　　：ワークフローの構成要素であるコンポーネントを追加するためのパレット\n11. ログ表示ボタン　　　　　　　　　　：ワークフローの作成、実行に関するログ表示用ボタン\n\n次に各エリア、ボタンの詳細について説明します。\n\n### 状態表示エリア\n状態表示エリアは、プロジェクト全体の進行状態によって以下の状態を示します。\n\n1. not-started：プロジェクト実行前\n\n![img](./img/not-started.png \"not_started\")\n\n2. running    ：プロジェクト実行中\n\n![img](./img/running.png \"running\")\n\n3. finished   ：プロジェクト終了(正常終了)\n\n![img](./img/finished.png \"finished\")\n\n4. failed     ：プロジェクト終了(エラー発生)\n\n![img](./img/failed.png \"failed\")\n\n5. holding     : 投入済ジョブ確認中\n\n![img](./img/holding.png \"holding\")\n\n6. unknonw     : プロジェクトの状態不明\n\n![img](./img/unknown.png \"unknown\")\n\n### 操作ボタンエリア\nこのエリアには、プロジェクトの実行に関わるボタンが表示されます。\n\n![img](./img/project_control_btn.png \"control_button_area\")\n\n1. run ボタン：プロジェクトの実行開始\n1. stop ボタン：プロジェクトの実行を停止し実行前の状態に戻す\n1. clean：プロジェクトの実行中に生成されたファイルなどを削除し、実行開始前の状態に戻す\n\n### 保存ボタンエリア\nこのエリアには編集したプロジェクトの保存に関わるボタンが表示されます。\n\n![img](./img/project_save.png \"save_button_area\")\n\n1. save ボタン：プロジェクトを保存する\n1. revert ボタン：プロジェクトを直前の保存状態に戻す\n\nWHEELでは、gitを用いたファイル管理を行っております。\nグラフビュー画面上での編集内容はサーバサイドのファイルにすぐに反映されますが\nSAVEボタンをクリックするまではgitリポジトリには登録されません。\nrevertボタンをクリックすると最後にコミットしてから後に行なった変更を全て破棄して\nリポジトリに最後にコミットした時の状態に戻します\n\ngit操作の詳細については開発者向けドキュメント[詳細設計書](../../../doc/design/design.md)をご確認ください。\n\n\n### 画面表示切替ボタン\n初期表示のグラフビュー画面から、listビューおよびテキストエディタ画面へ遷移するためのボタンです\n\n![img](./img/change_view.png \"change_view_area\")\n\n1. graph view ボタン\n2. list view ボタン\n3. テキストエディタボタン\n\nテキストエディタへの遷移は、\nファイルの選択状態やプロジェクトの選択状態によって制限されており、\n遷移できない時はボタンがクリックできない状態になっています。\n\n\n### 階層表示・遷移ボタン\nワークフローはコンポーネントの階層構造を持ちますが、\nグラフビュー画面では同一階層のコンポーネントしか同時に表示できません。\n\n階層表示部には現在表示中のコンポーネントが、プロジェクトのルートコンポーネントから\nどのような階層を降りてきた位置に存在するのか表示します。\n\n![img](./img/breadcrumbs.png \"breadcrumbs\")\n\nまた、階層表示部の左端にある、ツリー表示ボタンをクリックすると\nプロジェクト全体の階層構造が表示されます。\n\n![img](./img/component_tree.png \"component_tree\")\n\nどちらの表示でも、コンポーネントをクリックすると、表示されているコンポーネントに表示が切り替わります。\n\n### 環境変数エディタ表示ボタン\nこのボタンをクリックすると\nプロジェクト内で実行されるシェルスクリプトなどで使える環境変数を\n設定するための画面が表示されます。\n\n![img](./img/environment_variables_editor.png \"environment_variables_editor\")\n\n- name欄に環境変数名、value欄に値を入力して[+]ボタンをクリックすると、新しく環境変数を追加することができます。\n- 環境変数、値ともに表示領域をクリックすることで変更することができます。\n- 右端に表示されているゴミ箱アイコンをクリックすることで設定済の環境変数を削除できます。\n\n設定を変更した後は、[SAVE] ボタンをクリックすることで変更内容が実際に反映されます。\n変更を破棄して終了する場合は [CANCEL] ボタンをクリックしてください。\n\n### ワークフロー作成用エリア\n現在表示中のコンポーネントが持つ子コンポーネントが表示されています。\n初期状態ではプロジェクトのルートコンポーネントの直接の子コンポーネントが表示されています。\n\nこの領域に、コンポーネントライブラリから、ドラッグ&ドロップすることでプロジェクトにコンポーネントを追加します。\n\n表示されているコンポーネントをダブルクリックすることで、\nそのコンポーネントの下位コンポーネントを表示するように切り替わります。\n\n上位コンポーネントへの切り替えは、前述の階層表示部またはコンポーネントツリーを使ってください。\n\n表示されているコンポーネントをシングルクリックすると\nそのコンポーネントの設定値(プロパティ)を編集する領域が表示されます。\n\n![img](./img/component_property.png \"component_property\")\n\n1. closeボタン : プロパティ表示を閉じます\n2. cleanボタン : コンポーネント(もしあれば下位コンポーネントも)の状態を最新の保存状態に巻き戻します\n3. deleteボタン: コンポーネントを削除します\n\nコンポーネントの種類毎にこの領域に表示される内容は異なります。\nプロパティへの設定内容は[コンポーネント](../4_component/00_common.md)の章をご参照ください\n\n\n### ログ表示ボタン\nワークフローの作成時や実行時等に出力されるログを表示します。\n\nボタンをクリックすると、次のようなログ表示エリアが表れます。\n\n![img](./img/log_screen.png \"log_screen\")\n\nログ表示は内容に応じて複数のタブにそれぞれ出力されます。\n\n1. Info：エラー、ワーニングなどの重大な情報と、プロジェクトの実行状況や操作に関する一般的な情報\n1. Stdout：ローカルホストで実行されたtaskの標準出力\n1. Stderr：ローカルホストで実行されたtaskの標準エラー出力\n1. Stdout(SSH)：リモートホストで実行されたtaskの標準出力\n1. Stderr(SSH)：リモートホストで実行されたtaskの標準エラー出力\n\nラベルの色は次の意味を現わします。\n- 青: 現在表示中\n- 緑: 新規情報があり、未表示\n- 灰: 非表示中\n\n[CLEAR ALL LOG] ボタンをクリックすると、それまでに表示された全てのログが消去されます。\n\n最上部の△ボタンをクリックするとログ表示部が下部に折り畳まれます。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"1.-%E3%82%B0%E3%83%A9%E3%83%95%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">1. グラフビュー画面 <a class=\"heading-anchor-permalink\" href=\"#1.-%E3%82%B0%E3%83%A9%E3%83%95%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">#</a></h1>\n<p>本章では、グラフビュー画面の機能について説明します。</p>\n<p>ワークフローの作成・実行方法の具体例は、<a href=\"../../3_WHEEL_tutorial/index.html\">チュートリアル</a>をご参照ください</p>\n<p>グラフビュー画面は以下のように構成されています。</p>\n<p><img src=\"./img/workflow_graphview.png\" alt=\"img\" title=\"workflow_graghview\"></p>\n<ol>\n<li>タイトル　　　　　　　　　　　　　：ホーム画面遷移ボタン</li>\n<li>プロジェクト名　　　　　　　　　　：ワークフロー編集中のプロジェクト名</li>\n<li>状態表示エリア　　　　　　　　　　：プロジェクトのstate（実行状態）表示</li>\n<li>編集日時表示エリア　　　　　　　　：プロジェクトの作成、更新日時</li>\n<li>ワークフロー画面切替ボタン　　　　：グラフビュー、リストビュー、テキストエディタの切替ボタン</li>\n<li>プロジェクト操作ボタンエリア　　　：プロジェクトの実行、停止、クリーンボタン</li>\n<li>プロジェクト編集ボタンエリア　　　：プロジェクトの保存、変更の破棄ボタン</li>\n<li>階層表示・遷移ボタン　　　　　　　：現在表示中のプロジェクトディレクトリの階層表示</li>\n<li>環境変数エディタ表示ボタン　　　　：ワークフロー作成用のライブラリ表示用ボタン</li>\n<li>コンポーネントライブラリ　　　　　：ワークフローの構成要素であるコンポーネントを追加するためのパレット</li>\n<li>ログ表示ボタン　　　　　　　　　　：ワークフローの作成、実行に関するログ表示用ボタン</li>\n</ol>\n<p>次に各エリア、ボタンの詳細について説明します。</p>\n<h3 id=\"%E7%8A%B6%E6%85%8B%E8%A1%A8%E7%A4%BA%E3%82%A8%E3%83%AA%E3%82%A2\">状態表示エリア <a class=\"heading-anchor-permalink\" href=\"#%E7%8A%B6%E6%85%8B%E8%A1%A8%E7%A4%BA%E3%82%A8%E3%83%AA%E3%82%A2\">#</a></h3>\n<p>状態表示エリアは、プロジェクト全体の進行状態によって以下の状態を示します。</p>\n<ol>\n<li>not-started：プロジェクト実行前</li>\n</ol>\n<p><img src=\"./img/not-started.png\" alt=\"img\" title=\"not_started\"></p>\n<ol start=\"2\">\n<li>running    ：プロジェクト実行中</li>\n</ol>\n<p><img src=\"./img/running.png\" alt=\"img\" title=\"running\"></p>\n<ol start=\"3\">\n<li>finished   ：プロジェクト終了(正常終了)</li>\n</ol>\n<p><img src=\"./img/finished.png\" alt=\"img\" title=\"finished\"></p>\n<ol start=\"4\">\n<li>failed     ：プロジェクト終了(エラー発生)</li>\n</ol>\n<p><img src=\"./img/failed.png\" alt=\"img\" title=\"failed\"></p>\n<ol start=\"5\">\n<li>holding     : 投入済ジョブ確認中</li>\n</ol>\n<p><img src=\"./img/holding.png\" alt=\"img\" title=\"holding\"></p>\n<ol start=\"6\">\n<li>unknonw     : プロジェクトの状態不明</li>\n</ol>\n<p><img src=\"./img/unknown.png\" alt=\"img\" title=\"unknown\"></p>\n<h3 id=\"%E6%93%8D%E4%BD%9C%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%A8%E3%83%AA%E3%82%A2\">操作ボタンエリア <a class=\"heading-anchor-permalink\" href=\"#%E6%93%8D%E4%BD%9C%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%A8%E3%83%AA%E3%82%A2\">#</a></h3>\n<p>このエリアには、プロジェクトの実行に関わるボタンが表示されます。</p>\n<p><img src=\"./img/project_control_btn.png\" alt=\"img\" title=\"control_button_area\"></p>\n<ol>\n<li>run ボタン：プロジェクトの実行開始</li>\n<li>stop ボタン：プロジェクトの実行を停止し実行前の状態に戻す</li>\n<li>clean：プロジェクトの実行中に生成されたファイルなどを削除し、実行開始前の状態に戻す</li>\n</ol>\n<h3 id=\"%E4%BF%9D%E5%AD%98%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%A8%E3%83%AA%E3%82%A2\">保存ボタンエリア <a class=\"heading-anchor-permalink\" href=\"#%E4%BF%9D%E5%AD%98%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%A8%E3%83%AA%E3%82%A2\">#</a></h3>\n<p>このエリアには編集したプロジェクトの保存に関わるボタンが表示されます。</p>\n<p><img src=\"./img/project_save.png\" alt=\"img\" title=\"save_button_area\"></p>\n<ol>\n<li>save ボタン：プロジェクトを保存する</li>\n<li>revert ボタン：プロジェクトを直前の保存状態に戻す</li>\n</ol>\n<p>WHEELでは、gitを用いたファイル管理を行っております。\nグラフビュー画面上での編集内容はサーバサイドのファイルにすぐに反映されますが\nSAVEボタンをクリックするまではgitリポジトリには登録されません。\nrevertボタンをクリックすると最後にコミットしてから後に行なった変更を全て破棄して\nリポジトリに最後にコミットした時の状態に戻します</p>\n<p>git操作の詳細については開発者向けドキュメント<a href=\"../../../doc/design/design.html\">詳細設計書</a>をご確認ください。</p>\n<h3 id=\"%E7%94%BB%E9%9D%A2%E8%A1%A8%E7%A4%BA%E5%88%87%E6%9B%BF%E3%83%9C%E3%82%BF%E3%83%B3\">画面表示切替ボタン <a class=\"heading-anchor-permalink\" href=\"#%E7%94%BB%E9%9D%A2%E8%A1%A8%E7%A4%BA%E5%88%87%E6%9B%BF%E3%83%9C%E3%82%BF%E3%83%B3\">#</a></h3>\n<p>初期表示のグラフビュー画面から、listビューおよびテキストエディタ画面へ遷移するためのボタンです</p>\n<p><img src=\"./img/change_view.png\" alt=\"img\" title=\"change_view_area\"></p>\n<ol>\n<li>graph view ボタン</li>\n<li>list view ボタン</li>\n<li>テキストエディタボタン</li>\n</ol>\n<p>テキストエディタへの遷移は、\nファイルの選択状態やプロジェクトの選択状態によって制限されており、\n遷移できない時はボタンがクリックできない状態になっています。</p>\n<h3 id=\"%E9%9A%8E%E5%B1%A4%E8%A1%A8%E7%A4%BA%E3%83%BB%E9%81%B7%E7%A7%BB%E3%83%9C%E3%82%BF%E3%83%B3\">階層表示・遷移ボタン <a class=\"heading-anchor-permalink\" href=\"#%E9%9A%8E%E5%B1%A4%E8%A1%A8%E7%A4%BA%E3%83%BB%E9%81%B7%E7%A7%BB%E3%83%9C%E3%82%BF%E3%83%B3\">#</a></h3>\n<p>ワークフローはコンポーネントの階層構造を持ちますが、\nグラフビュー画面では同一階層のコンポーネントしか同時に表示できません。</p>\n<p>階層表示部には現在表示中のコンポーネントが、プロジェクトのルートコンポーネントから\nどのような階層を降りてきた位置に存在するのか表示します。</p>\n<p><img src=\"./img/breadcrumbs.png\" alt=\"img\" title=\"breadcrumbs\"></p>\n<p>また、階層表示部の左端にある、ツリー表示ボタンをクリックすると\nプロジェクト全体の階層構造が表示されます。</p>\n<p><img src=\"./img/component_tree.png\" alt=\"img\" title=\"component_tree\"></p>\n<p>どちらの表示でも、コンポーネントをクリックすると、表示されているコンポーネントに表示が切り替わります。</p>\n<h3 id=\"%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E8%A1%A8%E7%A4%BA%E3%83%9C%E3%82%BF%E3%83%B3\">環境変数エディタ表示ボタン <a class=\"heading-anchor-permalink\" href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E8%A1%A8%E7%A4%BA%E3%83%9C%E3%82%BF%E3%83%B3\">#</a></h3>\n<p>このボタンをクリックすると\nプロジェクト内で実行されるシェルスクリプトなどで使える環境変数を\n設定するための画面が表示されます。</p>\n<p><img src=\"./img/environment_variables_editor.png\" alt=\"img\" title=\"environment_variables_editor\"></p>\n<ul>\n<li>name欄に環境変数名、value欄に値を入力して[+]ボタンをクリックすると、新しく環境変数を追加することができます。</li>\n<li>環境変数、値ともに表示領域をクリックすることで変更することができます。</li>\n<li>右端に表示されているゴミ箱アイコンをクリックすることで設定済の環境変数を削除できます。</li>\n</ul>\n<p>設定を変更した後は、[SAVE] ボタンをクリックすることで変更内容が実際に反映されます。\n変更を破棄して終了する場合は [CANCEL] ボタンをクリックしてください。</p>\n<h3 id=\"%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E4%BD%9C%E6%88%90%E7%94%A8%E3%82%A8%E3%83%AA%E3%82%A2\">ワークフロー作成用エリア <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E4%BD%9C%E6%88%90%E7%94%A8%E3%82%A8%E3%83%AA%E3%82%A2\">#</a></h3>\n<p>現在表示中のコンポーネントが持つ子コンポーネントが表示されています。\n初期状態ではプロジェクトのルートコンポーネントの直接の子コンポーネントが表示されています。</p>\n<p>この領域に、コンポーネントライブラリから、ドラッグ&amp;ドロップすることでプロジェクトにコンポーネントを追加します。</p>\n<p>表示されているコンポーネントをダブルクリックすることで、\nそのコンポーネントの下位コンポーネントを表示するように切り替わります。</p>\n<p>上位コンポーネントへの切り替えは、前述の階層表示部またはコンポーネントツリーを使ってください。</p>\n<p>表示されているコンポーネントをシングルクリックすると\nそのコンポーネントの設定値(プロパティ)を編集する領域が表示されます。</p>\n<p><img src=\"./img/component_property.png\" alt=\"img\" title=\"component_property\"></p>\n<ol>\n<li>closeボタン : プロパティ表示を閉じます</li>\n<li>cleanボタン : コンポーネント(もしあれば下位コンポーネントも)の状態を最新の保存状態に巻き戻します</li>\n<li>deleteボタン: コンポーネントを削除します</li>\n</ol>\n<p>コンポーネントの種類毎にこの領域に表示される内容は異なります。\nプロパティへの設定内容は<a href=\"../4_component/00_common.html\">コンポーネント</a>の章をご参照ください</p>\n<h3 id=\"%E3%83%AD%E3%82%B0%E8%A1%A8%E7%A4%BA%E3%83%9C%E3%82%BF%E3%83%B3\">ログ表示ボタン <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AD%E3%82%B0%E8%A1%A8%E7%A4%BA%E3%83%9C%E3%82%BF%E3%83%B3\">#</a></h3>\n<p>ワークフローの作成時や実行時等に出力されるログを表示します。</p>\n<p>ボタンをクリックすると、次のようなログ表示エリアが表れます。</p>\n<p><img src=\"./img/log_screen.png\" alt=\"img\" title=\"log_screen\"></p>\n<p>ログ表示は内容に応じて複数のタブにそれぞれ出力されます。</p>\n<ol>\n<li>Info：エラー、ワーニングなどの重大な情報と、プロジェクトの実行状況や操作に関する一般的な情報</li>\n<li>Stdout：ローカルホストで実行されたtaskの標準出力</li>\n<li>Stderr：ローカルホストで実行されたtaskの標準エラー出力</li>\n<li>Stdout(SSH)：リモートホストで実行されたtaskの標準出力</li>\n<li>Stderr(SSH)：リモートホストで実行されたtaskの標準エラー出力</li>\n</ol>\n<p>ラベルの色は次の意味を現わします。</p>\n<ul>\n<li>青: 現在表示中</li>\n<li>緑: 新規情報があり、未表示</li>\n<li>灰: 非表示中</li>\n</ul>\n<p>[CLEAR ALL LOG] ボタンをクリックすると、それまでに表示された全てのログが消去されます。</p>\n<p>最上部の△ボタンをクリックするとログ表示部が下部に折り畳まれます。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 4
    },
    {
      "path": "2_WHEEL_manual/3_workflow_screen/2_listview.md",
      "url": "2_WHEEL_manual/3_workflow_screen/2_listview.html",
      "content": "# リストビュー画面\n本章では、リストビュー画面の機能について説明します。\n\nリストビュー画面はプロジェクトに含まれるTaskコンポーネントの実行状況を\nツリー形式で表示する画面です。\n表示内容は以下のように構成されています。\n\n![img](./img/listview.png \"workflow_listview\")\n\n1. Name：コンポーネント名\n1. State：コンポーネント処理進行状況\n1. startTime：コンポーネント処理実行時刻\n1. endTime：コンポーネント処理完了時間\n\nStateは、以下のように分類され、表示されます。\n\n| State名 | State説明 |\n|----|----|\n| not-started | 初期状態 |\n| stage-in | リモートサーバへ必要なファイルを転送している状態 |\n| waiting | Taskコンポーネントの同時実行本数の制限による待ち状態 |\n| running | 処理が実行されている状態 |\n| queued | ジョブをジョブスケジューラに投入し実行開始を待っている状態 |\n| stage-out | リモートサーバでの処理が終了し必要なファイルを転送している状態 |\n| finished | 処理が完了した状態 |\n| unknown | ジョブスケジューラ経由で投入したTaskの処理がステータスチェックに失敗するなど<br>正常終了か異常終了か判定できなかった状態 |\n| failed | 処理が異常終了した状態 |\n\n上記画面のように、Forコンポーネントのような1回のプロジェクト実行中に\n複数回実行されるコンポーネントは、実行された回数分分けて表示されます。\n\nまた、他のコンポーネントの下位コンポーネントであるTaskコンポーネントは\n上流のコンポーネントツリーの中にネストして表示されます。\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"%E3%83%AA%E3%82%B9%E3%83%88%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">リストビュー画面 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%82%B9%E3%83%88%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">#</a></h1>\n<p>本章では、リストビュー画面の機能について説明します。</p>\n<p>リストビュー画面はプロジェクトに含まれるTaskコンポーネントの実行状況を\nツリー形式で表示する画面です。\n表示内容は以下のように構成されています。</p>\n<p><img src=\"./img/listview.png\" alt=\"img\" title=\"workflow_listview\"></p>\n<ol>\n<li>Name：コンポーネント名</li>\n<li>State：コンポーネント処理進行状況</li>\n<li>startTime：コンポーネント処理実行時刻</li>\n<li>endTime：コンポーネント処理完了時間</li>\n</ol>\n<p>Stateは、以下のように分類され、表示されます。</p>\n<table>\n<thead>\n<tr>\n<th>State名</th>\n<th>State説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>not-started</td>\n<td>初期状態</td>\n</tr>\n<tr>\n<td>stage-in</td>\n<td>リモートサーバへ必要なファイルを転送している状態</td>\n</tr>\n<tr>\n<td>waiting</td>\n<td>Taskコンポーネントの同時実行本数の制限による待ち状態</td>\n</tr>\n<tr>\n<td>running</td>\n<td>処理が実行されている状態</td>\n</tr>\n<tr>\n<td>queued</td>\n<td>ジョブをジョブスケジューラに投入し実行開始を待っている状態</td>\n</tr>\n<tr>\n<td>stage-out</td>\n<td>リモートサーバでの処理が終了し必要なファイルを転送している状態</td>\n</tr>\n<tr>\n<td>finished</td>\n<td>処理が完了した状態</td>\n</tr>\n<tr>\n<td>unknown</td>\n<td>ジョブスケジューラ経由で投入したTaskの処理がステータスチェックに失敗するなど<br>正常終了か異常終了か判定できなかった状態</td>\n</tr>\n<tr>\n<td>failed</td>\n<td>処理が異常終了した状態</td>\n</tr>\n</tbody>\n</table>\n<p>上記画面のように、Forコンポーネントのような1回のプロジェクト実行中に\n複数回実行されるコンポーネントは、実行された回数分分けて表示されます。</p>\n<p>また、他のコンポーネントの下位コンポーネントであるTaskコンポーネントは\n上流のコンポーネントツリーの中にネストして表示されます。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 5
    },
    {
      "path": "2_WHEEL_manual/3_workflow_screen/3_editor.md",
      "url": "2_WHEEL_manual/3_workflow_screen/3_editor.html",
      "content": "# テキストエディタ画面\n本章では、テキストエディタ画面の機能について説明します。\n\nテキストエディタ画面には次の3つのモードが存在します。\n- normalモード\n- PS-configモード\n- jobScriptEditorモード\n\nこれらのモードの切り替えは画面上部のドロップダウンリストで行ないますが\nテキストエディタ画面に遷移する前にグラフビュー画面で選択したコンポーネントによっては\n移行できないモードがあります。\n\n![img](./img/editor_mode.png \"editor_mode\")\n\n### normalモード\n本節ではnormalモードおよび全モード共通の機能について説明します。\n![img](./img/editor_normal.png \"editor_normal\")\n\n1. ファイルタブ\n2. 新規ファイルOpenボタン\n3. readonlyモード切り替えスイッチ\n4. 一括セーブボタン\n\nテキストエディタを開いた時、通常はnormalモードとして起動します。\nこのモードは、タブエディタとなっており、グラフビューモードで選択していたファイルが\n1番目のタブに読み込まれた状態で起動します。\n\nファイルタブには開いたファイルのファイル名が表示されており、現在表示中のタブは青色で示されます。\nタブのファイル名をクリックすると [save] または [close without save] の2つのメニューが表示されます。\n\n![img](./img/editor_tab_menu.png \"editor_tab_menu\")\n\n[save]を選択すると編集した内容が保存されますが、この状態ではgitリポジトリにはコミットされておらず、画面上部のrevertボタンをクリックすると編集内容は破棄されます。\n\n[close without save] をクリックすると編集内容を破棄してそのタブを閉じます\n\n新規ファイルOpenボタンをクリックすると、ファイル名の入力が求められ、有効なファイル名を入力すると空ファイルが作成されます。\nファイルは同時に新しいタブで開かれるので、内容を追加して保存してください。\n\nreadonlyモード切り替えスイッチを有効にすると、表示されたテキストに変更が加えられなくなります。\nテキストファイルの内容を確認する時などにご活用ください。\n\n一括セーブボタンをクリックすると、現在開いている全てのタブ、後述のPS-configモードで設定中のパラメータスタディ設定が全てsaveされます。タブの[save]メニューと同じく、この状態ではまだgitリポジトリにはコミットされていないため、画面上部のrevertボタンをクリックすると編集内容は破棄されます。\n\n### PS-configモード\n本節ではPS-configモードの機能を説明します。\n\nパラメータスタディ機能自体は、[PSコンポーネント]( ../4_component/06_PS.md)に解説されているので、そちらも合わせてご確認ください。\n\n![img](./img/editor_ps_config.png \"editor_ps_config\")\n\n1. targetFile入力エリア\n2. parameter入力エリア\n3. scatter設定入力エリア\n4. gather設定入力エリア\n\ntargetFile入力エリアでは、パラスタ実行時にパラメータ値で内容を上書きする元になるファイルを設定します。\n\nparameter入力エリアは、パラスタ実行時に使われるパラメータ空間の定義を行ないます。\n\nscatter設定入力エリアはパラスタ実行前に、各サブコンポーネントに個別に配布されるファイルの設定を行ないます。\n\ngather設定入力エリアはパラスタ完了後に、各サブコンポーネントから回収するファイルの設定を行ないます。\n\n### jobScriptEditorモード\n本節ではjobScriptEditorモードの機能を説明します。\n\n![img](./img/editor_jobscript_editor.png \"editor_jobscript_editor\")\n\n1. 対象スパコン選択リスト\n\njobScriptEditorモードでは、編集中のテキストファイルに対して、\nバッチサーバに投入するジョブスクリプトの冒頭部分に記載する\nオプション行を対話的に生成、編集する機能を提供します。\n\n起動直後は、normalモードと同じタブエディタの右側の領域に\n[HPC center]と書かれたドロップダウンリストが表示されています。\n\nドロップダウンリストから、ジョブを投入する対象のシステムを選択すると\nそのバッチシステムで使われるオプション内容を入力するフォームが表示されます。\n\n![img](./img/editor_jobscript_editor_fugaku.png \"editor_jobscript_editor_fugaku\")\n\n1. LOADボタン\n2. INSERTボタン\n3. CLEARボタン\n4. REGISTERボタン\n5. オプション入力フォーム\n\n[LOAD]ボタンをクリックすると後述の[REGISTER]ボタンで保存したオプション設定をフォーム部に読み込みます。\n\n[INSERT]ボタンをクリックすると現在、フォームに入力されているオプション値を\nジョブスクリプトに適した形式でタブエディタ側で開いているファイルの先頭部分に挿入します。\nまた、タブエディタ側で開いているファイルに既にオプション値が挿入されていた場合はこのボタンの表示は[UPDATE]に切り替わり、クリックすると既に入力された内容を現在の設定値で置き換えるように機能します。\n\n[CLEAR]ボタンをクリックするとフォーム部に入力済の内容を初期値に戻します。\nこの時タブエディタ側のファイルに既に入力された内容はそのまま残ります。\n\n[REGISTER]ボタンをクリックすると、フォーム部に入力された設定値に名前を付けて\n保存することができます。\n保存した内容を[LOAD]ボタンで呼び出すことで、複数のスクリプトに同じ設定を容易に入力することができます。\n\n[REGISTER] で入力した内容はプロジェクトのファイルとは別の場所に保存されているため、他のプロジェクトで用いた設定値を呼び出すことも可能です。\n\n保存済の内容を削除する時は、[LOAD]ボタンをクリックした時に表示されるリストの右端にあるゴミ箱アイコンをクリックしてください。\n\nなお、jobScriptEditorモードのフォームでは入力された値のバリデーションは行なっていません。\n\n例えば、指定可能な書式とは異なる形式でオプションを設定していたり、\n認められているリソース以上のリソースを要求するようなオプションを入力していても、\nジョブスクリプトは生成されますので、ユーザ自身で利用するシステムのドキュメント等を確認して\n有効な設定値を入力してください。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E7%94%BB%E9%9D%A2\">テキストエディタ画面 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E7%94%BB%E9%9D%A2\">#</a></h1>\n<p>本章では、テキストエディタ画面の機能について説明します。</p>\n<p>テキストエディタ画面には次の3つのモードが存在します。</p>\n<ul>\n<li>normalモード</li>\n<li>PS-configモード</li>\n<li>jobScriptEditorモード</li>\n</ul>\n<p>これらのモードの切り替えは画面上部のドロップダウンリストで行ないますが\nテキストエディタ画面に遷移する前にグラフビュー画面で選択したコンポーネントによっては\n移行できないモードがあります。</p>\n<p><img src=\"./img/editor_mode.png\" alt=\"img\" title=\"editor_mode\"></p>\n<h3 id=\"normal%E3%83%A2%E3%83%BC%E3%83%89\">normalモード <a class=\"heading-anchor-permalink\" href=\"#normal%E3%83%A2%E3%83%BC%E3%83%89\">#</a></h3>\n<p>本節ではnormalモードおよび全モード共通の機能について説明します。\n<img src=\"./img/editor_normal.png\" alt=\"img\" title=\"editor_normal\"></p>\n<ol>\n<li>ファイルタブ</li>\n<li>新規ファイルOpenボタン</li>\n<li>readonlyモード切り替えスイッチ</li>\n<li>一括セーブボタン</li>\n</ol>\n<p>テキストエディタを開いた時、通常はnormalモードとして起動します。\nこのモードは、タブエディタとなっており、グラフビューモードで選択していたファイルが\n1番目のタブに読み込まれた状態で起動します。</p>\n<p>ファイルタブには開いたファイルのファイル名が表示されており、現在表示中のタブは青色で示されます。\nタブのファイル名をクリックすると [save] または [close without save] の2つのメニューが表示されます。</p>\n<p><img src=\"./img/editor_tab_menu.png\" alt=\"img\" title=\"editor_tab_menu\"></p>\n<p>[save]を選択すると編集した内容が保存されますが、この状態ではgitリポジトリにはコミットされておらず、画面上部のrevertボタンをクリックすると編集内容は破棄されます。</p>\n<p>[close without save] をクリックすると編集内容を破棄してそのタブを閉じます</p>\n<p>新規ファイルOpenボタンをクリックすると、ファイル名の入力が求められ、有効なファイル名を入力すると空ファイルが作成されます。\nファイルは同時に新しいタブで開かれるので、内容を追加して保存してください。</p>\n<p>readonlyモード切り替えスイッチを有効にすると、表示されたテキストに変更が加えられなくなります。\nテキストファイルの内容を確認する時などにご活用ください。</p>\n<p>一括セーブボタンをクリックすると、現在開いている全てのタブ、後述のPS-configモードで設定中のパラメータスタディ設定が全てsaveされます。タブの[save]メニューと同じく、この状態ではまだgitリポジトリにはコミットされていないため、画面上部のrevertボタンをクリックすると編集内容は破棄されます。</p>\n<h3 id=\"ps-config%E3%83%A2%E3%83%BC%E3%83%89\">PS-configモード <a class=\"heading-anchor-permalink\" href=\"#ps-config%E3%83%A2%E3%83%BC%E3%83%89\">#</a></h3>\n<p>本節ではPS-configモードの機能を説明します。</p>\n<p>パラメータスタディ機能自体は、<a href=\"../4_component/06_PS.html\">PSコンポーネント</a>に解説されているので、そちらも合わせてご確認ください。</p>\n<p><img src=\"./img/editor_ps_config.png\" alt=\"img\" title=\"editor_ps_config\"></p>\n<ol>\n<li>targetFile入力エリア</li>\n<li>parameter入力エリア</li>\n<li>scatter設定入力エリア</li>\n<li>gather設定入力エリア</li>\n</ol>\n<p>targetFile入力エリアでは、パラスタ実行時にパラメータ値で内容を上書きする元になるファイルを設定します。</p>\n<p>parameter入力エリアは、パラスタ実行時に使われるパラメータ空間の定義を行ないます。</p>\n<p>scatter設定入力エリアはパラスタ実行前に、各サブコンポーネントに個別に配布されるファイルの設定を行ないます。</p>\n<p>gather設定入力エリアはパラスタ完了後に、各サブコンポーネントから回収するファイルの設定を行ないます。</p>\n<h3 id=\"jobscripteditor%E3%83%A2%E3%83%BC%E3%83%89\">jobScriptEditorモード <a class=\"heading-anchor-permalink\" href=\"#jobscripteditor%E3%83%A2%E3%83%BC%E3%83%89\">#</a></h3>\n<p>本節ではjobScriptEditorモードの機能を説明します。</p>\n<p><img src=\"./img/editor_jobscript_editor.png\" alt=\"img\" title=\"editor_jobscript_editor\"></p>\n<ol>\n<li>対象スパコン選択リスト</li>\n</ol>\n<p>jobScriptEditorモードでは、編集中のテキストファイルに対して、\nバッチサーバに投入するジョブスクリプトの冒頭部分に記載する\nオプション行を対話的に生成、編集する機能を提供します。</p>\n<p>起動直後は、normalモードと同じタブエディタの右側の領域に\n[HPC center]と書かれたドロップダウンリストが表示されています。</p>\n<p>ドロップダウンリストから、ジョブを投入する対象のシステムを選択すると\nそのバッチシステムで使われるオプション内容を入力するフォームが表示されます。</p>\n<p><img src=\"./img/editor_jobscript_editor_fugaku.png\" alt=\"img\" title=\"editor_jobscript_editor_fugaku\"></p>\n<ol>\n<li>LOADボタン</li>\n<li>INSERTボタン</li>\n<li>CLEARボタン</li>\n<li>REGISTERボタン</li>\n<li>オプション入力フォーム</li>\n</ol>\n<p>[LOAD]ボタンをクリックすると後述の[REGISTER]ボタンで保存したオプション設定をフォーム部に読み込みます。</p>\n<p>[INSERT]ボタンをクリックすると現在、フォームに入力されているオプション値を\nジョブスクリプトに適した形式でタブエディタ側で開いているファイルの先頭部分に挿入します。\nまた、タブエディタ側で開いているファイルに既にオプション値が挿入されていた場合はこのボタンの表示は[UPDATE]に切り替わり、クリックすると既に入力された内容を現在の設定値で置き換えるように機能します。</p>\n<p>[CLEAR]ボタンをクリックするとフォーム部に入力済の内容を初期値に戻します。\nこの時タブエディタ側のファイルに既に入力された内容はそのまま残ります。</p>\n<p>[REGISTER]ボタンをクリックすると、フォーム部に入力された設定値に名前を付けて\n保存することができます。\n保存した内容を[LOAD]ボタンで呼び出すことで、複数のスクリプトに同じ設定を容易に入力することができます。</p>\n<p>[REGISTER] で入力した内容はプロジェクトのファイルとは別の場所に保存されているため、他のプロジェクトで用いた設定値を呼び出すことも可能です。</p>\n<p>保存済の内容を削除する時は、[LOAD]ボタンをクリックした時に表示されるリストの右端にあるゴミ箱アイコンをクリックしてください。</p>\n<p>なお、jobScriptEditorモードのフォームでは入力された値のバリデーションは行なっていません。</p>\n<p>例えば、指定可能な書式とは異なる形式でオプションを設定していたり、\n認められているリソース以上のリソースを要求するようなオプションを入力していても、\nジョブスクリプトは生成されますので、ユーザ自身で利用するシステムのドキュメント等を確認して\n有効な設定値を入力してください。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 6
    },
    {
      "path": "2_WHEEL_manual/4_component/00_common.md",
      "url": "2_WHEEL_manual/4_component/00_common.html",
      "content": "# コンポーネント共通項目\n本節では全コンポーネントに共通する仕様について説明します。\n\n## name,description\n全てのコンポーネントは共通して、`name`プロパティと`description`プロパティを持ちます。\n\n![img](./img/name_description.png \"name_and_description\")\n\nnameは、そのコンポーネントに必要なファイルを格納するディレクトリ名として扱われるため\n同一階層に同じ名前のコンポーネントを作成することはできません。\n\nまた、nameには、英数字、ハイフン`-`、およびアンダーバー`_`しか使うことができません。\n\ndescriptionはnameのような制約が無く自由に記述することができます。\nnameのみでは識別し難いようなコンポーネントを区別したり、\nコンポーネントの処理内容を説明するために(スクリプトやソースコードにおける)コメントのような\n使い方をすることができます。\n\n\n## inputFile/outputFile\nWHEELにはコンポーネント内のファイルを別のコンポーネントで使うために\n転送するinputFile/outputFileという機能があります。\n\n![img](./img/input_output_files.png \"inputFiles_outputFiles\")\n\nあるコンポーネントのoutputFileに指定したファイルと別のコンポーネントのinputFileに指定したファイルを\n画面上で接続すると、後続コンポーネントの実行前に先行コンポーネントのディレクトリ内の\n必要なファイルに対してシンボリックリンクを作成するので\n後続コンポーネント内のスクリプトからもファイルにアクセスすることができます。\n\n![img](./img/input_output_connect.png \"connected input and output file\")\n\ninputFileとoutpuFileの指定方法によってそれぞれ次のような挙動を示します。\n\n### inputFileが空白でoutputFileに通常のパスが指定された時\noutputFileに指定されたファイルまたはディレクトリへのシンボリックリンクが\n後続コンポーネントの最上位ディレクトリに作成されます。\n\n### inputFileが'/'で終わらない文字列、outputFileに通常のパスが指定された時\n後続コンポーネントのディレクトリ内に、outputFileに指定されたファイルまたはディレクトリへの\nシンボリックリンクが、inputFileに指定された名前で作成されます。\n\n### inputFileが'/'で終わらない文字列で、outputFileに指定されたパスがglob(\\*や\\?など)を含む時\n後続コンポーネントのディレクトリ内に、inputFileに指定された文字列のディレクトリが作成され\nその中に、outpuFileで指定されたglobと一致するファイル、ディレクトリへのシンボリックリンクが\n作成されます。\n\n### inputFileに'/'で終わる文字列が指定された時\n後続コンポーネントのディレクトリ内に、inputFileに指定された文字列のディレクトリが作成され\noutputFileに指定されたファイル、ディレクトリへのシンボリックリンクが作成されます。\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%85%B1%E9%80%9A%E9%A0%85%E7%9B%AE\">コンポーネント共通項目 <a class=\"heading-anchor-permalink\" href=\"#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%85%B1%E9%80%9A%E9%A0%85%E7%9B%AE\">#</a></h1>\n<p>本節では全コンポーネントに共通する仕様について説明します。</p>\n<h2 id=\"name%2Cdescription\">name,description <a class=\"heading-anchor-permalink\" href=\"#name%2Cdescription\">#</a></h2>\n<p>全てのコンポーネントは共通して、<code>name</code>プロパティと<code>description</code>プロパティを持ちます。</p>\n<p><img src=\"./img/name_description.png\" alt=\"img\" title=\"name_and_description\"></p>\n<p>nameは、そのコンポーネントに必要なファイルを格納するディレクトリ名として扱われるため\n同一階層に同じ名前のコンポーネントを作成することはできません。</p>\n<p>また、nameには、英数字、ハイフン<code>-</code>、およびアンダーバー<code>_</code>しか使うことができません。</p>\n<p>descriptionはnameのような制約が無く自由に記述することができます。\nnameのみでは識別し難いようなコンポーネントを区別したり、\nコンポーネントの処理内容を説明するために(スクリプトやソースコードにおける)コメントのような\n使い方をすることができます。</p>\n<h2 id=\"inputfile%2Foutputfile\">inputFile/outputFile <a class=\"heading-anchor-permalink\" href=\"#inputfile%2Foutputfile\">#</a></h2>\n<p>WHEELにはコンポーネント内のファイルを別のコンポーネントで使うために\n転送するinputFile/outputFileという機能があります。</p>\n<p><img src=\"./img/input_output_files.png\" alt=\"img\" title=\"inputFiles_outputFiles\"></p>\n<p>あるコンポーネントのoutputFileに指定したファイルと別のコンポーネントのinputFileに指定したファイルを\n画面上で接続すると、後続コンポーネントの実行前に先行コンポーネントのディレクトリ内の\n必要なファイルに対してシンボリックリンクを作成するので\n後続コンポーネント内のスクリプトからもファイルにアクセスすることができます。</p>\n<p><img src=\"./img/input_output_connect.png\" alt=\"img\" title=\"connected input and output file\"></p>\n<p>inputFileとoutpuFileの指定方法によってそれぞれ次のような挙動を示します。</p>\n<h3 id=\"inputfile%E3%81%8C%E7%A9%BA%E7%99%BD%E3%81%A7outputfile%E3%81%AB%E9%80%9A%E5%B8%B8%E3%81%AE%E3%83%91%E3%82%B9%E3%81%8C%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82\">inputFileが空白でoutputFileに通常のパスが指定された時 <a class=\"heading-anchor-permalink\" href=\"#inputfile%E3%81%8C%E7%A9%BA%E7%99%BD%E3%81%A7outputfile%E3%81%AB%E9%80%9A%E5%B8%B8%E3%81%AE%E3%83%91%E3%82%B9%E3%81%8C%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82\">#</a></h3>\n<p>outputFileに指定されたファイルまたはディレクトリへのシンボリックリンクが\n後続コンポーネントの最上位ディレクトリに作成されます。</p>\n<h3 id=\"inputfile%E3%81%8C%E2%80%99%2F'%E3%81%A7%E7%B5%82%E3%82%8F%E3%82%89%E3%81%AA%E3%81%84%E6%96%87%E5%AD%97%E5%88%97%E3%80%81outputfile%E3%81%AB%E9%80%9A%E5%B8%B8%E3%81%AE%E3%83%91%E3%82%B9%E3%81%8C%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82\">inputFileが’/'で終わらない文字列、outputFileに通常のパスが指定された時 <a class=\"heading-anchor-permalink\" href=\"#inputfile%E3%81%8C%E2%80%99%2F'%E3%81%A7%E7%B5%82%E3%82%8F%E3%82%89%E3%81%AA%E3%81%84%E6%96%87%E5%AD%97%E5%88%97%E3%80%81outputfile%E3%81%AB%E9%80%9A%E5%B8%B8%E3%81%AE%E3%83%91%E3%82%B9%E3%81%8C%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82\">#</a></h3>\n<p>後続コンポーネントのディレクトリ内に、outputFileに指定されたファイルまたはディレクトリへの\nシンボリックリンクが、inputFileに指定された名前で作成されます。</p>\n<h3 id=\"inputfile%E3%81%8C%E2%80%99%2F'%E3%81%A7%E7%B5%82%E3%82%8F%E3%82%89%E3%81%AA%E3%81%84%E6%96%87%E5%AD%97%E5%88%97%E3%81%A7%E3%80%81outputfile%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E3%83%91%E3%82%B9%E3%81%8Cglob(*%E3%82%84%3F%E3%81%AA%E3%81%A9)%E3%82%92%E5%90%AB%E3%82%80%E6%99%82\">inputFileが’/'で終わらない文字列で、outputFileに指定されたパスがglob(*や?など)を含む時 <a class=\"heading-anchor-permalink\" href=\"#inputfile%E3%81%8C%E2%80%99%2F'%E3%81%A7%E7%B5%82%E3%82%8F%E3%82%89%E3%81%AA%E3%81%84%E6%96%87%E5%AD%97%E5%88%97%E3%81%A7%E3%80%81outputfile%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E3%83%91%E3%82%B9%E3%81%8Cglob(*%E3%82%84%3F%E3%81%AA%E3%81%A9)%E3%82%92%E5%90%AB%E3%82%80%E6%99%82\">#</a></h3>\n<p>後続コンポーネントのディレクトリ内に、inputFileに指定された文字列のディレクトリが作成され\nその中に、outpuFileで指定されたglobと一致するファイル、ディレクトリへのシンボリックリンクが\n作成されます。</p>\n<h3 id=\"inputfile%E3%81%AB%E2%80%99%2F'%E3%81%A7%E7%B5%82%E3%82%8F%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E3%81%8C%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82\">inputFileに’/'で終わる文字列が指定された時 <a class=\"heading-anchor-permalink\" href=\"#inputfile%E3%81%AB%E2%80%99%2F'%E3%81%A7%E7%B5%82%E3%82%8F%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E3%81%8C%E6%8C%87%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82\">#</a></h3>\n<p>後続コンポーネントのディレクトリ内に、inputFileに指定された文字列のディレクトリが作成され\noutputFileに指定されたファイル、ディレクトリへのシンボリックリンクが作成されます。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 7
    },
    {
      "path": "2_WHEEL_manual/4_component/01_Task.md",
      "url": "2_WHEEL_manual/4_component/01_Task.html",
      "content": "# Task\n\n![img](./img/task.png \"task\")\n\nTaskコンポーネントは、WHEELの用意するコンポーネントの中で最も基本的かつ重要なコンポーネントです。\n[ script ]プロパティに設定されたスクリプトファイルを実行環境(host/useJobScheduler/queueプロパティ)の設定に応じて実行します。\n\nTaskコンポーネントに指定することのできるプロパティは以下のとおりです。\nなお、name, description, inputFile, outpuFileの4項目については[共通項目](./00_common.md)をご参照ください。\n\n### script\nTaskコンポーネントの実行時に呼ぶスクリプトのファイル名を設定します。\n\n![img](./img/task_script.png \"task_script\")\n\nscriptプロパティの入力欄はセレクトボックスになっており、\nTaskコンポーネント内に存在するファイルの中から選ぶことができます。\n\n### host\n[リモートホスト設定](../../2_remotehost_screen/remotehost.md)にて設定されたリモートホストのラベル\nまたは\"localhost\"を設定します。\n\n![img](./img/task_host.png \"task_host\")\n\nhostが\"localhost\"の時は、scriptはWHEELが動作しているマシン上で実行されますが\nそれ以外の値が設定されている時は、リモートホストへsshでディレクトリ全体を転送し\nリモートホスト上で実行されます。(後述のuseJobSchedulerが設定されている時は、バッチサーバにジョブを投入します)\n\n### useJobScheduler\nscriptの実行をバッチサーバに投入する時に有効にします。\nuseJobSchedulerを有効に設定した時のみ、次のqueue, submit optionプロパティを設定することができます。\n\n無効のとき\n![img](./img/task_jobScheduler_disable.png \"task_jobScheduler_disable\")\n\n有効のとき\n![img](./img/task_jobScheduler_enable.png \"task_jobScheduler_enable\")\n\n### queue\nジョブを投入するキューをリモートホスト設定で設定したキューの中から選びます。\n無指定の場合はバッチサーバのデフォルトキューに対してジョブを投入します。\n\n### submit command\nこの欄は実際にはTaskコンポーネントのプロパティではなく、リモートホスト設定で指定された\nバッチサーバにジョブを投入する時のコマンド名が表示されています。\n\nここでは変更することはできません。\n\n### submit option\nジョブ投入時に追加で指定するオプションを設定します。\n\n### number of retry\nTaskコンポーネントの実行に失敗した時に、自動的に再実行を行なう回数を指定します。\n無指定時は再実行は行ないません。\n\n![img](./img/task_num_retry.png \"task_number_of_retry\")\n\n### use javascript expression for condition check\nTaskコンポーネントの成功/失敗を判定するのに\njavascript式を用いるか、シェルスクリプトを用いるか指定します。\n\n無効の時は、シェルスクリプトを選択するドロップダウンリストが表示されており\nTaskコンポーネント実行終了後に指定されたシェルスクリプトが実行されて\n戻り値が0であれば成功、0以外であれば失敗と判定されます。\n\nなお、無指定の時は[script]に指定したスクリプトの戻り値で同様の判定を行ないます。\n\n![img](./img/task_retry_expression_disable.png \"task_retry_expression_disable\")\n\n有効の時は、ジャバスクリプトの式を記述することができます。\nTaskコンポーネントの実行終了後にこの式を評価し、Truthyな値を返せば成功、\nFalthyな値を返せば失敗と判定されます。\n\n![img](./img/task_retry_expression_enable.png \"task_retry_expression_enable\")\n\n### include, exclude\nTaskコンポーネントがリモートホストで実行された後、リモートホスト上のディレクトリ内にあるファイルは\noutputFileに指定されているなど、その後の処理で必要にならない限りそのままの状態で残されます。\n\n実行時にアプリケーションが出力するログファイルなど、その後のワークフローの処理には不要だが\n確認したいファイルなどがは、`include`に指定することでTaskコンポーネント実行終了時にダウンロードされ\nFilesエリアで確認することができます。\n\n`include`にはディレクトリ名やglobなどを指定することができますが、さらに`exclude`を指定すれば\nダウンロード対象除外することができます。\n\n例えば、`include`に`*.txt`、excludeに`foo.txt`を指定して、実行終了時にfoo.txt,bar.txt,baz.txtが生成されていたとすると\n実際にダウンロードされるファイルは、bar.txt, baz.txtの2つのみとなります。\n\n### cleanup flag\nリモートホストでの実行終了後にリモートホスト上に残されたファイルを削除するかどうかを指定します。\n`remove files`を指定すれば削除、`keep files`を指定すればリモートホスト上に保存されます。\n\nデフォルト設定は`same as parent`が指定されており、上位コンポーネントの設定と同じ動作をします。\n\n\n\n\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"task\">Task <a class=\"heading-anchor-permalink\" href=\"#task\">#</a></h1>\n<p><img src=\"./img/task.png\" alt=\"img\" title=\"task\"></p>\n<p>Taskコンポーネントは、WHEELの用意するコンポーネントの中で最も基本的かつ重要なコンポーネントです。\n[ script ]プロパティに設定されたスクリプトファイルを実行環境(host/useJobScheduler/queueプロパティ)の設定に応じて実行します。</p>\n<p>Taskコンポーネントに指定することのできるプロパティは以下のとおりです。\nなお、name, description, inputFile, outpuFileの4項目については<a href=\"./00_common.html\">共通項目</a>をご参照ください。</p>\n<h3 id=\"script\">script <a class=\"heading-anchor-permalink\" href=\"#script\">#</a></h3>\n<p>Taskコンポーネントの実行時に呼ぶスクリプトのファイル名を設定します。</p>\n<p><img src=\"./img/task_script.png\" alt=\"img\" title=\"task_script\"></p>\n<p>scriptプロパティの入力欄はセレクトボックスになっており、\nTaskコンポーネント内に存在するファイルの中から選ぶことができます。</p>\n<h3 id=\"host\">host <a class=\"heading-anchor-permalink\" href=\"#host\">#</a></h3>\n<p><a href=\"../../2_remotehost_screen/remotehost.html\">リモートホスト設定</a>にて設定されたリモートホストのラベル\nまたは&quot;localhost&quot;を設定します。</p>\n<p><img src=\"./img/task_host.png\" alt=\"img\" title=\"task_host\"></p>\n<p>hostが&quot;localhost&quot;の時は、scriptはWHEELが動作しているマシン上で実行されますが\nそれ以外の値が設定されている時は、リモートホストへsshでディレクトリ全体を転送し\nリモートホスト上で実行されます。(後述のuseJobSchedulerが設定されている時は、バッチサーバにジョブを投入します)</p>\n<h3 id=\"usejobscheduler\">useJobScheduler <a class=\"heading-anchor-permalink\" href=\"#usejobscheduler\">#</a></h3>\n<p>scriptの実行をバッチサーバに投入する時に有効にします。\nuseJobSchedulerを有効に設定した時のみ、次のqueue, submit optionプロパティを設定することができます。</p>\n<p>無効のとき\n<img src=\"./img/task_jobScheduler_disable.png\" alt=\"img\" title=\"task_jobScheduler_disable\"></p>\n<p>有効のとき\n<img src=\"./img/task_jobScheduler_enable.png\" alt=\"img\" title=\"task_jobScheduler_enable\"></p>\n<h3 id=\"queue\">queue <a class=\"heading-anchor-permalink\" href=\"#queue\">#</a></h3>\n<p>ジョブを投入するキューをリモートホスト設定で設定したキューの中から選びます。\n無指定の場合はバッチサーバのデフォルトキューに対してジョブを投入します。</p>\n<h3 id=\"submit-command\">submit command <a class=\"heading-anchor-permalink\" href=\"#submit-command\">#</a></h3>\n<p>この欄は実際にはTaskコンポーネントのプロパティではなく、リモートホスト設定で指定された\nバッチサーバにジョブを投入する時のコマンド名が表示されています。</p>\n<p>ここでは変更することはできません。</p>\n<h3 id=\"submit-option\">submit option <a class=\"heading-anchor-permalink\" href=\"#submit-option\">#</a></h3>\n<p>ジョブ投入時に追加で指定するオプションを設定します。</p>\n<h3 id=\"number-of-retry\">number of retry <a class=\"heading-anchor-permalink\" href=\"#number-of-retry\">#</a></h3>\n<p>Taskコンポーネントの実行に失敗した時に、自動的に再実行を行なう回数を指定します。\n無指定時は再実行は行ないません。</p>\n<p><img src=\"./img/task_num_retry.png\" alt=\"img\" title=\"task_number_of_retry\"></p>\n<h3 id=\"use-javascript-expression-for-condition-check\">use javascript expression for condition check <a class=\"heading-anchor-permalink\" href=\"#use-javascript-expression-for-condition-check\">#</a></h3>\n<p>Taskコンポーネントの成功/失敗を判定するのに\njavascript式を用いるか、シェルスクリプトを用いるか指定します。</p>\n<p>無効の時は、シェルスクリプトを選択するドロップダウンリストが表示されており\nTaskコンポーネント実行終了後に指定されたシェルスクリプトが実行されて\n戻り値が0であれば成功、0以外であれば失敗と判定されます。</p>\n<p>なお、無指定の時は[script]に指定したスクリプトの戻り値で同様の判定を行ないます。</p>\n<p><img src=\"./img/task_retry_expression_disable.png\" alt=\"img\" title=\"task_retry_expression_disable\"></p>\n<p>有効の時は、ジャバスクリプトの式を記述することができます。\nTaskコンポーネントの実行終了後にこの式を評価し、Truthyな値を返せば成功、\nFalthyな値を返せば失敗と判定されます。</p>\n<p><img src=\"./img/task_retry_expression_enable.png\" alt=\"img\" title=\"task_retry_expression_enable\"></p>\n<h3 id=\"include%2C-exclude\">include, exclude <a class=\"heading-anchor-permalink\" href=\"#include%2C-exclude\">#</a></h3>\n<p>Taskコンポーネントがリモートホストで実行された後、リモートホスト上のディレクトリ内にあるファイルは\noutputFileに指定されているなど、その後の処理で必要にならない限りそのままの状態で残されます。</p>\n<p>実行時にアプリケーションが出力するログファイルなど、その後のワークフローの処理には不要だが\n確認したいファイルなどがは、<code>include</code>に指定することでTaskコンポーネント実行終了時にダウンロードされ\nFilesエリアで確認することができます。</p>\n<p><code>include</code>にはディレクトリ名やglobなどを指定することができますが、さらに<code>exclude</code>を指定すれば\nダウンロード対象除外することができます。</p>\n<p>例えば、<code>include</code>に<code>*.txt</code>、excludeに<code>foo.txt</code>を指定して、実行終了時にfoo.txt,bar.txt,baz.txtが生成されていたとすると\n実際にダウンロードされるファイルは、bar.txt, baz.txtの2つのみとなります。</p>\n<h3 id=\"cleanup-flag\">cleanup flag <a class=\"heading-anchor-permalink\" href=\"#cleanup-flag\">#</a></h3>\n<p>リモートホストでの実行終了後にリモートホスト上に残されたファイルを削除するかどうかを指定します。\n<code>remove files</code>を指定すれば削除、<code>keep files</code>を指定すればリモートホスト上に保存されます。</p>\n<p>デフォルト設定は<code>same as parent</code>が指定されており、上位コンポーネントの設定と同じ動作をします。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 8
    },
    {
      "path": "2_WHEEL_manual/4_component/02_If.md",
      "url": "2_WHEEL_manual/4_component/02_If.html",
      "content": "# If\n\n![img](./img/if.png \"if\")\n\nIfコンポーネントは、[ condition ]プロパティに設定したスクリプトまたはJavascript式によって\n条件判定を行ない、その後のワークフローの処理を分岐させます。\n\n真の場合はnext（緑）に指定されたコンポーネント、偽の場合はelse（紫）に指定されたコンポーネントが\n後続コンポーネントとして処理されます。\n\nIfコンポーネントに設定できるプロパティは以下のとおりです。\n\n### condition\n条件判定を行うためのシェルスクリプト名または、Javasciprt式を設定することができます。\nTaskコンポーネントのretry処理と同様です。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"if\">If <a class=\"heading-anchor-permalink\" href=\"#if\">#</a></h1>\n<p><img src=\"./img/if.png\" alt=\"img\" title=\"if\"></p>\n<p>Ifコンポーネントは、[ condition ]プロパティに設定したスクリプトまたはJavascript式によって\n条件判定を行ない、その後のワークフローの処理を分岐させます。</p>\n<p>真の場合はnext（緑）に指定されたコンポーネント、偽の場合はelse（紫）に指定されたコンポーネントが\n後続コンポーネントとして処理されます。</p>\n<p>Ifコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h3 id=\"condition\">condition <a class=\"heading-anchor-permalink\" href=\"#condition\">#</a></h3>\n<p>条件判定を行うためのシェルスクリプト名または、Javasciprt式を設定することができます。\nTaskコンポーネントのretry処理と同様です。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 9
    },
    {
      "path": "2_WHEEL_manual/4_component/03_For.md",
      "url": "2_WHEEL_manual/4_component/03_For.html",
      "content": "# For\n\n![img](./img/for.png \"for\")\n\nForコンポーネントは、FortranのDoループのように指定されたインデックス値に応じて\n下位コンポーネントを繰り返し実行します。\n\nForコンポーネントに設定できるプロパティは以下のとおりです。\n\n### start\nインデックスの始値を設定します。\n\n### end\nインデックスの終値を設定します。\n\n### step\nインデックス更新時の更新幅を設定します。\n\n### number of instances to keep\n各インデックスで処理を行なった時のディレクトリを最大何個まで残すかを指定します。\n無指定の時は、全てのディレクトリが保存されます。\n\n## Forコンポーネント実行時の挙動\nForコンポーネントが初めて実行される時、コンポーネントのディレクトリはインデックスの値を末尾につけた名前に\nコピーされます。\nコピーされたディレクトリ内の下位コンポーネントの実行が全て終了すると、新しいインデックス値が計算され\nその値に基いてさらにディレクトリがコピーされます。\n\nこの処理は順次繰り返し実行され、インデックスの値が終値を超えるまで続けられます。\n終値を超えた時点のディレクトリは元のディレクトリにコピーされ、Forコンポーネントの処理は終了します。\nなお、stepにマイナスの値を設定した場合も始値 > 終値 となっていれば正常に実行されます。\nこの場合はインデックスが終値を下回ると実行終了となります。\n\n\n例えば、rt=1, end=3,step=2と設定された `for`というコンポーネントは\n次のように処理されます。\n\n1. `for`ディレクトリが`for_1`ディレクトリにコピーされる\n2. `for_1`ディレクトリ内のコンポーネントが順次実行される\n3. index計算 1+2 = 3  => 終値の3と等しいので次のループを実行する\n4. `for_1`ディレクトリが`for_3`ディレクトリにコピーされる\n5. `for_3`ディレクトリ内のコンポーネントが順次実行される\n6. index計算 3+2 = 5  => 終値の3を超えているので、終了処理を行なう\n7. `for_3`ディレクトリを`for`ディレクトリにコピー\n\nnumber of instance to keepの値が0以外に設定されていた場合は、4,7の処理を行なった時に\n設定された数を超える古いディレクトリ(`for_1`や`for_3`など)を削除します。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"for\">For <a class=\"heading-anchor-permalink\" href=\"#for\">#</a></h1>\n<p><img src=\"./img/for.png\" alt=\"img\" title=\"for\"></p>\n<p>Forコンポーネントは、FortranのDoループのように指定されたインデックス値に応じて\n下位コンポーネントを繰り返し実行します。</p>\n<p>Forコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h3 id=\"start\">start <a class=\"heading-anchor-permalink\" href=\"#start\">#</a></h3>\n<p>インデックスの始値を設定します。</p>\n<h3 id=\"end\">end <a class=\"heading-anchor-permalink\" href=\"#end\">#</a></h3>\n<p>インデックスの終値を設定します。</p>\n<h3 id=\"step\">step <a class=\"heading-anchor-permalink\" href=\"#step\">#</a></h3>\n<p>インデックス更新時の更新幅を設定します。</p>\n<h3 id=\"number-of-instances-to-keep\">number of instances to keep <a class=\"heading-anchor-permalink\" href=\"#number-of-instances-to-keep\">#</a></h3>\n<p>各インデックスで処理を行なった時のディレクトリを最大何個まで残すかを指定します。\n無指定の時は、全てのディレクトリが保存されます。</p>\n<h2 id=\"for%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">Forコンポーネント実行時の挙動 <a class=\"heading-anchor-permalink\" href=\"#for%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">#</a></h2>\n<p>Forコンポーネントが初めて実行される時、コンポーネントのディレクトリはインデックスの値を末尾につけた名前に\nコピーされます。\nコピーされたディレクトリ内の下位コンポーネントの実行が全て終了すると、新しいインデックス値が計算され\nその値に基いてさらにディレクトリがコピーされます。</p>\n<p>この処理は順次繰り返し実行され、インデックスの値が終値を超えるまで続けられます。\n終値を超えた時点のディレクトリは元のディレクトリにコピーされ、Forコンポーネントの処理は終了します。\nなお、stepにマイナスの値を設定した場合も始値 &gt; 終値 となっていれば正常に実行されます。\nこの場合はインデックスが終値を下回ると実行終了となります。</p>\n<p>例えば、rt=1, end=3,step=2と設定された <code>for</code>というコンポーネントは\n次のように処理されます。</p>\n<ol>\n<li><code>for</code>ディレクトリが<code>for_1</code>ディレクトリにコピーされる</li>\n<li><code>for_1</code>ディレクトリ内のコンポーネントが順次実行される</li>\n<li>index計算 1+2 = 3  =&gt; 終値の3と等しいので次のループを実行する</li>\n<li><code>for_1</code>ディレクトリが<code>for_3</code>ディレクトリにコピーされる</li>\n<li><code>for_3</code>ディレクトリ内のコンポーネントが順次実行される</li>\n<li>index計算 3+2 = 5  =&gt; 終値の3を超えているので、終了処理を行なう</li>\n<li><code>for_3</code>ディレクトリを<code>for</code>ディレクトリにコピー</li>\n</ol>\n<p>number of instance to keepの値が0以外に設定されていた場合は、4,7の処理を行なった時に\n設定された数を超える古いディレクトリ(<code>for_1</code>や<code>for_3</code>など)を削除します。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 10
    },
    {
      "path": "2_WHEEL_manual/4_component/04_while.md",
      "url": "2_WHEEL_manual/4_component/04_while.html",
      "content": "# While\n\n![img](./img/while.png \"while\")\n\n\nWhileコンポーネントは、各種プログラミング言語のWhileループと同様に\n設定された条件判定が真の間、\n下位コンポーネントを繰り返し実行します。\n\nWhileコンポーネントに設定できるプロパティは以下のとおりです。\n\n### use javascript expression for condition check\nTaskコンポーネントのretry判定と同じく、\n繰り返し実行を行うかどうかの判定にシェルスクリプトを用いるか\nJavascriptの式を用いるかを指定します。\n\n### script name for condition check\nuse javascript expression for condition checkが無効の時のみ\n条件判定に用いるシェルスクリプトをドロップダウンリストから選択します。\n\n### jacascript expression\nuse javascript expression for condition checkが有効の時のみ\n条件判定に用いるjavascript式を設定します。\n\n### number of instances to keep\n各インデックスで処理を行なった時のディレクトリを最大何個まで残すかを指定します。\n無指定の時は、全てのディレクトリが保存されます。\n\n## Whileコンポーネント実行時の挙動\nForeachコンポーネントもForコンポーネントと同様の挙動をしますが\nディレクトリ名の末尾にはインデックス値の代わりに、\n0から始まる数字を1刻みで使用します。\n\nまた終了判定もインデックス値の計算ではなく設定されたシェルスクリプトの戻り値か\nJavascript式の評価結果を用います。\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"while\">While <a class=\"heading-anchor-permalink\" href=\"#while\">#</a></h1>\n<p><img src=\"./img/while.png\" alt=\"img\" title=\"while\"></p>\n<p>Whileコンポーネントは、各種プログラミング言語のWhileループと同様に\n設定された条件判定が真の間、\n下位コンポーネントを繰り返し実行します。</p>\n<p>Whileコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h3 id=\"use-javascript-expression-for-condition-check\">use javascript expression for condition check <a class=\"heading-anchor-permalink\" href=\"#use-javascript-expression-for-condition-check\">#</a></h3>\n<p>Taskコンポーネントのretry判定と同じく、\n繰り返し実行を行うかどうかの判定にシェルスクリプトを用いるか\nJavascriptの式を用いるかを指定します。</p>\n<h3 id=\"script-name-for-condition-check\">script name for condition check <a class=\"heading-anchor-permalink\" href=\"#script-name-for-condition-check\">#</a></h3>\n<p>use javascript expression for condition checkが無効の時のみ\n条件判定に用いるシェルスクリプトをドロップダウンリストから選択します。</p>\n<h3 id=\"jacascript-expression\">jacascript expression <a class=\"heading-anchor-permalink\" href=\"#jacascript-expression\">#</a></h3>\n<p>use javascript expression for condition checkが有効の時のみ\n条件判定に用いるjavascript式を設定します。</p>\n<h3 id=\"number-of-instances-to-keep\">number of instances to keep <a class=\"heading-anchor-permalink\" href=\"#number-of-instances-to-keep\">#</a></h3>\n<p>各インデックスで処理を行なった時のディレクトリを最大何個まで残すかを指定します。\n無指定の時は、全てのディレクトリが保存されます。</p>\n<h2 id=\"while%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">Whileコンポーネント実行時の挙動 <a class=\"heading-anchor-permalink\" href=\"#while%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">#</a></h2>\n<p>ForeachコンポーネントもForコンポーネントと同様の挙動をしますが\nディレクトリ名の末尾にはインデックス値の代わりに、\n0から始まる数字を1刻みで使用します。</p>\n<p>また終了判定もインデックス値の計算ではなく設定されたシェルスクリプトの戻り値か\nJavascript式の評価結果を用います。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 11
    },
    {
      "path": "2_WHEEL_manual/4_component/05_Foreach.md",
      "url": "2_WHEEL_manual/4_component/05_Foreach.html",
      "content": "# Foreach\n\n![img](./img/foreach.png \"foreach\")\n\nForeachコンポーネントは、シェルスクリプトのforループのように\n設定されたインデックスのリストをもとに\n下位コンポーネントを繰り返し実行します。\n\nForeachコンポーネントに設定できるプロパティは以下のとおりです。\n\n### indexList\nインデックス値のリスト\n\n### number of instances to keep\n各インデックスで処理を行なった時のディレクトリを最大何個まで残すかを指定します。\n無指定の時は、全てのディレクトリが保存されます。\n\n\n## Foreachコンポーネント実行時の挙動\nForeachコンポーネントもForコンポーネントと同様の挙動をしますが\nインデックス値は計算によって求められるのではなく\nindexListに設定された値がリストの先頭から順に使われ\nリストの終端まで実行されるとコンポーネント全体の実行を終了します。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"foreach\">Foreach <a class=\"heading-anchor-permalink\" href=\"#foreach\">#</a></h1>\n<p><img src=\"./img/foreach.png\" alt=\"img\" title=\"foreach\"></p>\n<p>Foreachコンポーネントは、シェルスクリプトのforループのように\n設定されたインデックスのリストをもとに\n下位コンポーネントを繰り返し実行します。</p>\n<p>Foreachコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h3 id=\"indexlist\">indexList <a class=\"heading-anchor-permalink\" href=\"#indexlist\">#</a></h3>\n<p>インデックス値のリスト</p>\n<h3 id=\"number-of-instances-to-keep\">number of instances to keep <a class=\"heading-anchor-permalink\" href=\"#number-of-instances-to-keep\">#</a></h3>\n<p>各インデックスで処理を行なった時のディレクトリを最大何個まで残すかを指定します。\n無指定の時は、全てのディレクトリが保存されます。</p>\n<h2 id=\"foreach%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">Foreachコンポーネント実行時の挙動 <a class=\"heading-anchor-permalink\" href=\"#foreach%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">#</a></h2>\n<p>ForeachコンポーネントもForコンポーネントと同様の挙動をしますが\nインデックス値は計算によって求められるのではなく\nindexListに設定された値がリストの先頭から順に使われ\nリストの終端まで実行されるとコンポーネント全体の実行を終了します。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 12
    },
    {
      "path": "2_WHEEL_manual/4_component/06_PS.md",
      "url": "2_WHEEL_manual/4_component/06_PS.html",
      "content": "# ParameterStudy\n\n![img](./img/PS.png \"Parameter Study\")\n\nParameterStudyコンポーネント（以下、PSコンポーネント）は、\nParameterFileに指定されたパラメータ空間内で\n全ての組み合わせについて下位コンポーネントを可能な限り並列実行します。\n\n\nPSコンポーネントに設定できるプロパティは以下のとおりです。\n\n### parameterFile\nパラメータ空間を定義したJsonファイルを指定します。\nparameterFileの作成には[テキストエディタ画面](../../2_WHEEL_manual/3_workflow_screen/3_editor.md)のPS-configモードを用いてください。\n\n### force overwrite\nパラメータを設定したディレクトリを作成する際に、\n既存のディレクトリが存在しても上書きするかどうかを設定します。\n\n### delete all instances\n実行終了時にコピーされた個々のパラメータ用のディレクトリを削除するかどうかを指定します。\n\n\n## PSコンポーネント実行時の挙動\nPSコンポーネントは実行開始時にパラメータ設定ファイルを読み込み、\nそこに定義されたパラメータ空間内の全組み合わせに相当する\nディレクトリを自身のディレクトリをコピーすることで作成します。\n\nこの時、パラメータ設定ファイル中の`targetFiles`に設定されたファイルは\n単純なコピーではなくファイル内に書かれたプレースホルダを\nそのパラメータの設定値に書き換えられたファイルがコピーされます。\n\nまた`scatter`に設定されたファイルは、設定された内容に応じて\n必要なディレクトリのみに、名前を変更してコピーされます。\n\n名前としてパラメータの値を用いることもできます。\n\nコピーされたディレクトリ内のコンポーネントは、並列に実行されますが\nTaskコンポーネントについては同時実行本数の制限のなかでの並列実行となります。\n\n全てのパラメータについてコンポーネントの実行が終了すると\n`gather`に設定されたファイルのみが、元のディレクトリ以下に集められます。\nこの時もパラメータの値を用いてファイル名を変更することができるので\nアプリケーションの実行結果ファイルなどで、同じ名前のファイルが作成されている場合は\nこの機能を用いてリネームして集めてください。\n\ngather機能で指定されたなかったファイルは`delete all instances`を\n指定しない限り消されることはありませんが、WHEELのGUIからはアクセスできないディレクトリに\n置かれるため、実行終了後にアクセスすることはできなくなります。\n\n\n\n\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"parameterstudy\">ParameterStudy <a class=\"heading-anchor-permalink\" href=\"#parameterstudy\">#</a></h1>\n<p><img src=\"./img/PS.png\" alt=\"img\" title=\"Parameter Study\"></p>\n<p>ParameterStudyコンポーネント（以下、PSコンポーネント）は、\nParameterFileに指定されたパラメータ空間内で\n全ての組み合わせについて下位コンポーネントを可能な限り並列実行します。</p>\n<p>PSコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h3 id=\"parameterfile\">parameterFile <a class=\"heading-anchor-permalink\" href=\"#parameterfile\">#</a></h3>\n<p>パラメータ空間を定義したJsonファイルを指定します。\nparameterFileの作成には<a href=\"../../2_WHEEL_manual/3_workflow_screen/3_editor.html\">テキストエディタ画面</a>のPS-configモードを用いてください。</p>\n<h3 id=\"force-overwrite\">force overwrite <a class=\"heading-anchor-permalink\" href=\"#force-overwrite\">#</a></h3>\n<p>パラメータを設定したディレクトリを作成する際に、\n既存のディレクトリが存在しても上書きするかどうかを設定します。</p>\n<h3 id=\"delete-all-instances\">delete all instances <a class=\"heading-anchor-permalink\" href=\"#delete-all-instances\">#</a></h3>\n<p>実行終了時にコピーされた個々のパラメータ用のディレクトリを削除するかどうかを指定します。</p>\n<h2 id=\"ps%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">PSコンポーネント実行時の挙動 <a class=\"heading-anchor-permalink\" href=\"#ps%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">#</a></h2>\n<p>PSコンポーネントは実行開始時にパラメータ設定ファイルを読み込み、\nそこに定義されたパラメータ空間内の全組み合わせに相当する\nディレクトリを自身のディレクトリをコピーすることで作成します。</p>\n<p>この時、パラメータ設定ファイル中の<code>targetFiles</code>に設定されたファイルは\n単純なコピーではなくファイル内に書かれたプレースホルダを\nそのパラメータの設定値に書き換えられたファイルがコピーされます。</p>\n<p>また<code>scatter</code>に設定されたファイルは、設定された内容に応じて\n必要なディレクトリのみに、名前を変更してコピーされます。</p>\n<p>名前としてパラメータの値を用いることもできます。</p>\n<p>コピーされたディレクトリ内のコンポーネントは、並列に実行されますが\nTaskコンポーネントについては同時実行本数の制限のなかでの並列実行となります。</p>\n<p>全てのパラメータについてコンポーネントの実行が終了すると\n<code>gather</code>に設定されたファイルのみが、元のディレクトリ以下に集められます。\nこの時もパラメータの値を用いてファイル名を変更することができるので\nアプリケーションの実行結果ファイルなどで、同じ名前のファイルが作成されている場合は\nこの機能を用いてリネームして集めてください。</p>\n<p>gather機能で指定されたなかったファイルは<code>delete all instances</code>を\n指定しない限り消されることはありませんが、WHEELのGUIからはアクセスできないディレクトリに\n置かれるため、実行終了後にアクセスすることはできなくなります。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 13
    },
    {
      "path": "2_WHEEL_manual/4_component/07_Workflow.md",
      "url": "2_WHEEL_manual/4_component/07_Workflow.html",
      "content": "# Workflow\n\n![img](./img/workflow.png \"workflow\")\n\nWorkflowコンポーネントは、複数のコンポーネントからなる処理を一つのコンポーネントにまとめるために用います。\nWorkflowコンポーネントを使用することで、ワークフロー編集画面上を処理毎に集約することができ、ワークフロー全体の見通しを良くすることができます。\n\nWorkflowコンポーネントには固有のプロパティはありません。\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"workflow\">Workflow <a class=\"heading-anchor-permalink\" href=\"#workflow\">#</a></h1>\n<p><img src=\"./img/workflow.png\" alt=\"img\" title=\"workflow\"></p>\n<p>Workflowコンポーネントは、複数のコンポーネントからなる処理を一つのコンポーネントにまとめるために用います。\nWorkflowコンポーネントを使用することで、ワークフロー編集画面上を処理毎に集約することができ、ワークフロー全体の見通しを良くすることができます。</p>\n<p>Workflowコンポーネントには固有のプロパティはありません。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 14
    },
    {
      "path": "2_WHEEL_manual/4_component/08_Storage.md",
      "url": "2_WHEEL_manual/4_component/08_Storage.html",
      "content": "# Storage\n\n![img](./img/storage.png \"storage\")\n\nStorageコンポーネントは、プロジェクトディレクトリの範囲外にある\nディレクトリにファイルを保存するためのコンポーネントです。\n\nワークフロー内のファイルはgitによって管理されており\n実行中に生成されたファイルや変更されたファイルは\nCleanボタンをクリックすることで実行開始前の状態に戻されます。\n\n同じプロジェクトを設定を変えて繰り返し実行するような場合など\nプロジェクトのClean後にも保持したいファイルをStorageコンポーネントに\ninputFile/outputFileの機構を用いて転送することで\ngitの管理外の場所にファイルを保存することができます。\n\n\nStorageコンポーネントに設定できるプロパティは以下のとおりです。\n\n### host\nhostには実際にファイルを保存するホストを設定できます。\n\n`localhost`が指定された時はWHEELの動作するマシン上に\nそれ以外が指定された場合は、リモートホスト上にファイルのコピーが\n保存されます。\n\n### path\n![img](./img/storage_path.png \"storage_path\")\n\npathに指定したディレクトリ下にstorageコンポーネントに転送されてきた\nファイルをコピーします。\n\npathがプロジェクトディレクトリの範囲内に設定されていると\nプロジェクトのClean時に消されてしまいますが\nWHEELでは設定したpathがプロジェクトディレクトリ内かどうかの判定は\nしていないため、必要に応じてプロジェクトディレクトリ外のpathを設定してください。\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"storage\">Storage <a class=\"heading-anchor-permalink\" href=\"#storage\">#</a></h1>\n<p><img src=\"./img/storage.png\" alt=\"img\" title=\"storage\"></p>\n<p>Storageコンポーネントは、プロジェクトディレクトリの範囲外にある\nディレクトリにファイルを保存するためのコンポーネントです。</p>\n<p>ワークフロー内のファイルはgitによって管理されており\n実行中に生成されたファイルや変更されたファイルは\nCleanボタンをクリックすることで実行開始前の状態に戻されます。</p>\n<p>同じプロジェクトを設定を変えて繰り返し実行するような場合など\nプロジェクトのClean後にも保持したいファイルをStorageコンポーネントに\ninputFile/outputFileの機構を用いて転送することで\ngitの管理外の場所にファイルを保存することができます。</p>\n<p>Storageコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h3 id=\"host\">host <a class=\"heading-anchor-permalink\" href=\"#host\">#</a></h3>\n<p>hostには実際にファイルを保存するホストを設定できます。</p>\n<p><code>localhost</code>が指定された時はWHEELの動作するマシン上に\nそれ以外が指定された場合は、リモートホスト上にファイルのコピーが\n保存されます。</p>\n<h3 id=\"path\">path <a class=\"heading-anchor-permalink\" href=\"#path\">#</a></h3>\n<p><img src=\"./img/storage_path.png\" alt=\"img\" title=\"storage_path\"></p>\n<p>pathに指定したディレクトリ下にstorageコンポーネントに転送されてきた\nファイルをコピーします。</p>\n<p>pathがプロジェクトディレクトリの範囲内に設定されていると\nプロジェクトのClean時に消されてしまいますが\nWHEELでは設定したpathがプロジェクトディレクトリ内かどうかの判定は\nしていないため、必要に応じてプロジェクトディレクトリ外のpathを設定してください。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 15
    },
    {
      "path": "2_WHEEL_manual/4_component/09_Source.md",
      "url": "2_WHEEL_manual/4_component/09_Source.html",
      "content": "# Source\n\n![img](./img/source.png \"source\")\n\nSourceコンポーネントは、プロジェクト実行に関する\n入力ファイルに相当するファイルを扱うためのコンポーネントです。\n\nSourceコンポーネントに設定できるプロパティは以下のとおりです。\nなお、SourceコンポーネントにはinputFilesプロパティは指定することができません。\n\n\n### uploadOnDemand\nプロジェクトの実行時にブラウザから実際に使うファイルを\nWHEELにアップロードするかどうかを指定します。\n\n\n## Sourceコンポーネントの挙動\nプロジェクト実行時にSourceコンポーネントのoutputFileに指定されたファイルが\nディレクトリ内に存在する場合、Sourceコンポーネントは特に何も処理せず\n正常終了します。\n\nファイルが存在せず、uploadOnDemandが無効な時は\nディレクトリ内のファイルのリストがブラウザ上に表示され\nユーザが選択したファイルをoutputFileとして扱います。\n\nファイルが存在せず、uploadOnDemandが有効な時は\nブラウザ上でファイルアップロードダイアログが表示され\nユーザがアップロードしたファイルがoutputFileとして扱われます。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"source\">Source <a class=\"heading-anchor-permalink\" href=\"#source\">#</a></h1>\n<p><img src=\"./img/source.png\" alt=\"img\" title=\"source\"></p>\n<p>Sourceコンポーネントは、プロジェクト実行に関する\n入力ファイルに相当するファイルを扱うためのコンポーネントです。</p>\n<p>Sourceコンポーネントに設定できるプロパティは以下のとおりです。\nなお、SourceコンポーネントにはinputFilesプロパティは指定することができません。</p>\n<h3 id=\"uploadondemand\">uploadOnDemand <a class=\"heading-anchor-permalink\" href=\"#uploadondemand\">#</a></h3>\n<p>プロジェクトの実行時にブラウザから実際に使うファイルを\nWHEELにアップロードするかどうかを指定します。</p>\n<h2 id=\"source%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AE%E6%8C%99%E5%8B%95\">Sourceコンポーネントの挙動 <a class=\"heading-anchor-permalink\" href=\"#source%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AE%E6%8C%99%E5%8B%95\">#</a></h2>\n<p>プロジェクト実行時にSourceコンポーネントのoutputFileに指定されたファイルが\nディレクトリ内に存在する場合、Sourceコンポーネントは特に何も処理せず\n正常終了します。</p>\n<p>ファイルが存在せず、uploadOnDemandが無効な時は\nディレクトリ内のファイルのリストがブラウザ上に表示され\nユーザが選択したファイルをoutputFileとして扱います。</p>\n<p>ファイルが存在せず、uploadOnDemandが有効な時は\nブラウザ上でファイルアップロードダイアログが表示され\nユーザがアップロードしたファイルがoutputFileとして扱われます。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 16
    },
    {
      "path": "2_WHEEL_manual/4_component/10_Viewer.md",
      "url": "2_WHEEL_manual/4_component/10_Viewer.html",
      "content": "# Viewer\n\n![img](./img/viewer.png \"viewer\")\n\nViewerコンポーネントはプロジェクト実行中に生成される画像ファイルなどを\nブラウザから確認するためのコンポーネントです。\n表示可能なファイルは次のとおりです。\n\n- apng (Animated Portable Network Graphics)\n- avif (AV1 Image File Format)\n- gif (Graphics Interchange Format)\n- jpeg (Joint Photographic Expert Group image)\n- png (Portable Network Graphics)\n- webp (Web Picture format)\n- tiff (Tagged Image File Format)\n- bmp (BitMaP image)\n- svg (Scalable Vector Graphics)\n\nViewerコンポーネントに指定できる固有のプロパティはありません。\nまた、ViewerコンポーネントにはoutputFilesプロパティを設定することはできません。\n\n### Viewerコンポーネントの挙動\nViewerコンポーネントは先行するコンポーネントの実行終了後に\ninputFileから接続されたファイルを受け取ります。\n\nこれらのファイルに、ブラウザで表示可能な画像ファイルが含まれている時は\n初回のみブラウザ上にダイアログが表示され、\n`OK`をクリックすると別のタブでビューワー画面が表示されます。\n\n![img](./img/viewer_dialog.png \"viewer_dialog\")\n\nまた、画面上部のビューワー画面表示ボタンが有効になり\n以降はこのボタンをクリックすることでビューワー画面を表示することができます。\n\n\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"viewer\">Viewer <a class=\"heading-anchor-permalink\" href=\"#viewer\">#</a></h1>\n<p><img src=\"./img/viewer.png\" alt=\"img\" title=\"viewer\"></p>\n<p>Viewerコンポーネントはプロジェクト実行中に生成される画像ファイルなどを\nブラウザから確認するためのコンポーネントです。\n表示可能なファイルは次のとおりです。</p>\n<ul>\n<li>apng (Animated Portable Network Graphics)</li>\n<li>avif (AV1 Image File Format)</li>\n<li>gif (Graphics Interchange Format)</li>\n<li>jpeg (Joint Photographic Expert Group image)</li>\n<li>png (Portable Network Graphics)</li>\n<li>webp (Web Picture format)</li>\n<li>tiff (Tagged Image File Format)</li>\n<li>bmp (BitMaP image)</li>\n<li>svg (Scalable Vector Graphics)</li>\n</ul>\n<p>Viewerコンポーネントに指定できる固有のプロパティはありません。\nまた、ViewerコンポーネントにはoutputFilesプロパティを設定することはできません。</p>\n<h3 id=\"viewer%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AE%E6%8C%99%E5%8B%95\">Viewerコンポーネントの挙動 <a class=\"heading-anchor-permalink\" href=\"#viewer%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AE%E6%8C%99%E5%8B%95\">#</a></h3>\n<p>Viewerコンポーネントは先行するコンポーネントの実行終了後に\ninputFileから接続されたファイルを受け取ります。</p>\n<p>これらのファイルに、ブラウザで表示可能な画像ファイルが含まれている時は\n初回のみブラウザ上にダイアログが表示され、\n<code>OK</code>をクリックすると別のタブでビューワー画面が表示されます。</p>\n<p><img src=\"./img/viewer_dialog.png\" alt=\"img\" title=\"viewer_dialog\"></p>\n<p>また、画面上部のビューワー画面表示ボタンが有効になり\n以降はこのボタンをクリックすることでビューワー画面を表示することができます。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 17
    },
    {
      "path": "2_WHEEL_manual/4_component/11_Stepjob.md",
      "url": "2_WHEEL_manual/4_component/11_Stepjob.html",
      "content": "# Stepjob\n\n![img](./img/stepjob.png)\n\nstepjob/stepjobTaskコンポーネントは、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のステップジョブ機能に基づいた機能です。\nステップジョブを利用できるリモートホストが設定されている場合のみ使用することができます。\n\n本機能は、stepjobコンポーネントとstepjobコンポーネント内でのみ使用できるstepjobTaskコンポーネントを組み合わせて使用します。\n\nstepjobコンポーネントは特殊なworkflowコンポーネントとして機能し、\n内部にはstepjobTaskコンポーネントのみを配置することができます。\n\nstepjobtaskコンポーネントは実行順と依存関係式を指定することができます。\nこれらの設定に基づいてTCSのステップジョブ機能を用いてサブジョブとして投入されます。\n\nステップジョブ機能の詳細に関しては、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のドキュメントをご確認ください。\n\nStepjob/StepjobTaskコンポーネントに設定できるプロパティは以下のとおりです。\n\n## stepjob\n###  host\ntaskコンポーネントと同様ですが、stepjob機能を利用できるリモートホストを設定する必要があります。\n\n### useJobScheduler\nデフォルトで有効になっており、無効に設定すると\nプロジェクトが正常に実行されなくなります。\n\n### queue\ntaskコンポーネントと同様、ジョブの投入先キューを設定します。\n\n## stepjobtask\n### script\nバッチサーバに投入するジョブスクリプトを設定します。\n\n### useDependency\n有効にすると、次のdependencyFormを設定できるようになり、\nそこで設定された依存関係式に従ってステップジョブが実行されます。\n\n### step number\nstepjobtaskの実行順を決める番号が設定されます。\nこの値はコンポーネント間の接続状況から、WHEELが自動的に計算して設定し\n変更することはできません\n\n### dependencyForm\nジョブ実行を行うにあたっての依存関係式を設定できます。\n\n依存関係式は、実行済みstepjobTaskコンポーネントの\nジョブスクリプトの終了ステータス（ec)\nもしくはジョブの終了コード(pc）にもとづいて\n実行の可否を判断するための式です。\n\n依存関係式の定義は次のとおりです。\n\n```\nsd=form[:[deletetype][:stepno[:stepno[...]]]]\n```\n\n| 式要素 | 説明 |\n| ---- | ---- |\n| sd= | 接頭辞、必須 |\n| form | 投入するサブジョブを実行するかどうかを判断する条件を示す式 |\n| deletetype | サブジョブを実行しない場合の詳細動作の指定 |\n| stepno | どのサブジョブの実行結果に対して適用するかを示すステップナンバー |\n\n#### form\n\nformは、param(ec:依存するサブジョブのジョブスクリプトの終了コード, pc:依存するサブジョブのジョブ終了コード)と\n値「==, !=, <, > , <=, >=」で指定します。\n```\nex.\nec==0\n```\n条件==や!=を指定する場合、値はコンマ(,)で区切ることで複数指定できます。\n\n#### deletetype\ndeletetypeは、以下の3種類指定できます。\n\n| deletetype | 説明 |\n| ---- | ---- |\n| one | このサブジョブのみ削除する。このサブジョブの結果に依存する後続のサブジョブは削除されない |\n| after | このサブジョブ、及びそれに依存する後続のサブジョブのみ削除する|\n| all | このサブジョブ、及び後続のサブジョブを全て削除する |\n\n以下にformプロパティに設定する依存関係式の例を示します。\n```\nex.ステップナンバー0のサブジョブのジョブスクリプトの終了コードが0以外の場合、このサブジョブ以降は実行しない\n\nsd=ec!=0:all:0\n```\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"stepjob\">Stepjob <a class=\"heading-anchor-permalink\" href=\"#stepjob\">#</a></h1>\n<p><img src=\"./img/stepjob.png\" alt=\"img\"></p>\n<p>stepjob/stepjobTaskコンポーネントは、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のステップジョブ機能に基づいた機能です。\nステップジョブを利用できるリモートホストが設定されている場合のみ使用することができます。</p>\n<p>本機能は、stepjobコンポーネントとstepjobコンポーネント内でのみ使用できるstepjobTaskコンポーネントを組み合わせて使用します。</p>\n<p>stepjobコンポーネントは特殊なworkflowコンポーネントとして機能し、\n内部にはstepjobTaskコンポーネントのみを配置することができます。</p>\n<p>stepjobtaskコンポーネントは実行順と依存関係式を指定することができます。\nこれらの設定に基づいてTCSのステップジョブ機能を用いてサブジョブとして投入されます。</p>\n<p>ステップジョブ機能の詳細に関しては、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のドキュメントをご確認ください。</p>\n<p>Stepjob/StepjobTaskコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h2 id=\"stepjob-2\">stepjob <a class=\"heading-anchor-permalink\" href=\"#stepjob-2\">#</a></h2>\n<h3 id=\"host\">host <a class=\"heading-anchor-permalink\" href=\"#host\">#</a></h3>\n<p>taskコンポーネントと同様ですが、stepjob機能を利用できるリモートホストを設定する必要があります。</p>\n<h3 id=\"usejobscheduler\">useJobScheduler <a class=\"heading-anchor-permalink\" href=\"#usejobscheduler\">#</a></h3>\n<p>デフォルトで有効になっており、無効に設定すると\nプロジェクトが正常に実行されなくなります。</p>\n<h3 id=\"queue\">queue <a class=\"heading-anchor-permalink\" href=\"#queue\">#</a></h3>\n<p>taskコンポーネントと同様、ジョブの投入先キューを設定します。</p>\n<h2 id=\"stepjobtask\">stepjobtask <a class=\"heading-anchor-permalink\" href=\"#stepjobtask\">#</a></h2>\n<h3 id=\"script\">script <a class=\"heading-anchor-permalink\" href=\"#script\">#</a></h3>\n<p>バッチサーバに投入するジョブスクリプトを設定します。</p>\n<h3 id=\"usedependency\">useDependency <a class=\"heading-anchor-permalink\" href=\"#usedependency\">#</a></h3>\n<p>有効にすると、次のdependencyFormを設定できるようになり、\nそこで設定された依存関係式に従ってステップジョブが実行されます。</p>\n<h3 id=\"step-number\">step number <a class=\"heading-anchor-permalink\" href=\"#step-number\">#</a></h3>\n<p>stepjobtaskの実行順を決める番号が設定されます。\nこの値はコンポーネント間の接続状況から、WHEELが自動的に計算して設定し\n変更することはできません</p>\n<h3 id=\"dependencyform\">dependencyForm <a class=\"heading-anchor-permalink\" href=\"#dependencyform\">#</a></h3>\n<p>ジョブ実行を行うにあたっての依存関係式を設定できます。</p>\n<p>依存関係式は、実行済みstepjobTaskコンポーネントの\nジョブスクリプトの終了ステータス（ec)\nもしくはジョブの終了コード(pc）にもとづいて\n実行の可否を判断するための式です。</p>\n<p>依存関係式の定義は次のとおりです。</p>\n<pre><code>sd=form[:[deletetype][:stepno[:stepno[...]]]]\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>式要素</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>sd=</td>\n<td>接頭辞、必須</td>\n</tr>\n<tr>\n<td>form</td>\n<td>投入するサブジョブを実行するかどうかを判断する条件を示す式</td>\n</tr>\n<tr>\n<td>deletetype</td>\n<td>サブジョブを実行しない場合の詳細動作の指定</td>\n</tr>\n<tr>\n<td>stepno</td>\n<td>どのサブジョブの実行結果に対して適用するかを示すステップナンバー</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"form\">form <a class=\"heading-anchor-permalink\" href=\"#form\">#</a></h4>\n<p>formは、param(ec:依存するサブジョブのジョブスクリプトの終了コード, pc:依存するサブジョブのジョブ終了コード)と\n値「==, !=, &lt;, &gt; , &lt;=, &gt;=」で指定します。</p>\n<pre><code>ex.\nec==0\n</code></pre>\n<p>条件==や!=を指定する場合、値はコンマ(,)で区切ることで複数指定できます。</p>\n<h4 id=\"deletetype\">deletetype <a class=\"heading-anchor-permalink\" href=\"#deletetype\">#</a></h4>\n<p>deletetypeは、以下の3種類指定できます。</p>\n<table>\n<thead>\n<tr>\n<th>deletetype</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>one</td>\n<td>このサブジョブのみ削除する。このサブジョブの結果に依存する後続のサブジョブは削除されない</td>\n</tr>\n<tr>\n<td>after</td>\n<td>このサブジョブ、及びそれに依存する後続のサブジョブのみ削除する</td>\n</tr>\n<tr>\n<td>all</td>\n<td>このサブジョブ、及び後続のサブジョブを全て削除する</td>\n</tr>\n</tbody>\n</table>\n<p>以下にformプロパティに設定する依存関係式の例を示します。</p>\n<pre><code>ex.ステップナンバー0のサブジョブのジョブスクリプトの終了コードが0以外の場合、このサブジョブ以降は実行しない\n\nsd=ec!=0:all:0\n</code></pre>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 18
    },
    {
      "path": "2_WHEEL_manual/4_component/12_BulkjobTask.md",
      "url": "2_WHEEL_manual/4_component/12_BulkjobTask.html",
      "content": "# BulkjobTask\n\n![img](./img/bulkjobTask.png)\n\nbulkjobTaskコンポーネントは、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のバルクジョブ機能に基づいた機能です。\nバルクジョブを利用できるリモートホストが設定されている場合のみ使用することができます。\n\nbuildjobTaskコンポーネントには、バルク番号、インプットファイルを指定することができ\nこれらの設定に基づいてサブジョブとして複数のジョブが投入されます。\n\nバルクジョブ機能の詳細に関しては、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のドキュメントをご確認ください。\n\nbulkjobTaskコンポーネントに設定できるプロパティは以下のとおりです。\n\n### use parameter setting file for bulk number\nバルク番号をパラメータ設定ファイルから指定するかどうかを設定します。\n\n有効の時はパラメータ設定ファイルを指定することができます。\n\n無効の時は、startおよびendの値を指定することができ、それぞれ開始バルク番号\n終了バルク番号として扱われます。\n\n### manual finish condition\nコンポーネントの終了状態の判定を独自に指定するかどうかを設定します。\n\n--------\n[リファレンスマニュアルのトップページに戻る](../index.md)\n",
      "html": "<h1 id=\"bulkjobtask\">BulkjobTask <a class=\"heading-anchor-permalink\" href=\"#bulkjobtask\">#</a></h1>\n<p><img src=\"./img/bulkjobTask.png\" alt=\"img\"></p>\n<p>bulkjobTaskコンポーネントは、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のバルクジョブ機能に基づいた機能です。\nバルクジョブを利用できるリモートホストが設定されている場合のみ使用することができます。</p>\n<p>buildjobTaskコンポーネントには、バルク番号、インプットファイルを指定することができ\nこれらの設定に基づいてサブジョブとして複数のジョブが投入されます。</p>\n<p>バルクジョブ機能の詳細に関しては、ジョブスケジューラ「FUJITSU Software Technical Computing Suite（TCS）」のドキュメントをご確認ください。</p>\n<p>bulkjobTaskコンポーネントに設定できるプロパティは以下のとおりです。</p>\n<h3 id=\"use-parameter-setting-file-for-bulk-number\">use parameter setting file for bulk number <a class=\"heading-anchor-permalink\" href=\"#use-parameter-setting-file-for-bulk-number\">#</a></h3>\n<p>バルク番号をパラメータ設定ファイルから指定するかどうかを設定します。</p>\n<p>有効の時はパラメータ設定ファイルを指定することができます。</p>\n<p>無効の時は、startおよびendの値を指定することができ、それぞれ開始バルク番号\n終了バルク番号として扱われます。</p>\n<h3 id=\"manual-finish-condition\">manual finish condition <a class=\"heading-anchor-permalink\" href=\"#manual-finish-condition\">#</a></h3>\n<p>コンポーネントの終了状態の判定を独自に指定するかどうかを設定します。</p>\n<hr>\n<p><a href=\"../index.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 19
    },
    {
      "path": "2_WHEEL_manual/index.md",
      "url": "2_WHEEL_manual/index.html",
      "content": "# WHEEL リファレンスマニュアル\n本ドキュメントはWHEELの画面構成、機能を網羅的に説明するリファレンスマニュアルです。\n\n[1. ホーム画面](1_home_screen/home.md)\n\n[2. リモートホスト画面](2_remotehost_screen/remotehost.md)\n\n[3. ワークフロー画面-グラフビュー](3_workflow_screen/1_graphview.md)\n\n[4. ワークフロー画面-リストビュー](3_workflow_screen/2_listview.md)\n\n[5. ワークフロー画面-テキストエディタ](3_workflow_screen/3_editor.md)\n\n[6. コンポーネントの詳細](4_component/00_common.md)\n\n具体的なプロジェクトの作成・実行方法は次のドキュメントをご参照ください\n\n[WHEELチュートリアル](../3_WHEEL_tutorial/index.md)\n\n\n\n--------\n[トップページに戻る](../index.md)\n",
      "html": "<h1 id=\"wheel-%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB\">WHEEL リファレンスマニュアル <a class=\"heading-anchor-permalink\" href=\"#wheel-%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB\">#</a></h1>\n<p>本ドキュメントはWHEELの画面構成、機能を網羅的に説明するリファレンスマニュアルです。</p>\n<p><a href=\"1_home_screen/home.html\">1. ホーム画面</a></p>\n<p><a href=\"2_remotehost_screen/remotehost.html\">2. リモートホスト画面</a></p>\n<p><a href=\"3_workflow_screen/1_graphview.html\">3. ワークフロー画面-グラフビュー</a></p>\n<p><a href=\"3_workflow_screen/2_listview.html\">4. ワークフロー画面-リストビュー</a></p>\n<p><a href=\"3_workflow_screen/3_editor.html\">5. ワークフロー画面-テキストエディタ</a></p>\n<p><a href=\"4_component/00_common.html\">6. コンポーネントの詳細</a></p>\n<p>具体的なプロジェクトの作成・実行方法は次のドキュメントをご参照ください</p>\n<p><a href=\"../3_WHEEL_tutorial/index.html\">WHEELチュートリアル</a></p>\n<hr>\n<p><a href=\"../index.html\">トップページに戻る</a></p>\n",
      "id": 20
    },
    {
      "path": "3_WHEEL_tutorial/1_hello_world.md",
      "url": "3_WHEEL_tutorial/1_hello_world.html",
      "content": "# ワークフローの実行方法\n\n## ■ワークフローの作成\nはじめに、ワークフローの作成手順（実行に必要なファイルの設定方法）について説明します。\nここでは、例として、ログエリア[ Stdout ]にメッセージ「Hello World!」を出力するTaskコンポーネントの設定を紹介します。\n手順は以下です。\n\n1. グラフビュー画面左部 Component Libraryより、Taskコンポーネントをグラフビュー画面に配置する\n1. Taskコンポーネントをクリックし、プロパティ画面を表示する\n1. プロパティ画面下部[ Files ]より、メッセージ表示（Stdout）するスクリプトをTaskコンポーネントディレクトリへアップロードする *1\n1. プロパティ[ script ]にアップロードしたファイルのファイル名(HelloWorld.sh)を指定する\n\n*1 Taskコンポーネントディレクトリへのスクリプトの設定方法は、ファイルをアップロードする方法と\n　[ Files ]の新規ファイル作成機能によりファイルを作成する方法があります。\n\n![img](./img/task_exe_1.png \"task_exe_1\")\n\n> sampleTask(taskコンポーネント)\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | sampleTask |\n| Script | HelloWorld.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | localhost |\n| Files | HelloWorld.sh |\n\nここで設定したスクリプト「HelloWorld.sh」の中身は以下です。\n\n#### ・HelloWorld.sh\n\n```\n#!/bin/bash\necho Hello World!\n```\n\n## ■プロジェクトを保存する\nファイルの設定が完了後、プロジェクトを保存します。\n保存前後でワークフロー画面上部[ Create date ]が更新されることを確認します。\n\n![img](./img/before_save.png \"before_save\")\n![img](./img/after_save.png \"after_save\")\n\n## ■ワークフローの実行と実行状況の確認\nワークフローを実行します。\nワークフローは、デフォルト値[ localhost ]で実行します。\n\nワークフローの実行は、ワークフロー画面上部[ Run ]ボタンより開始します。\n\n#### 1. 実行\n\n実行ボタン押下後、実行の状況の確認はグラフビュー画面、リストビュー画面のいずれかから確認することができます。\n\n![img](./img/run.png \"run\")\n\n#### 2. グラフビュー画面\n\nグラフビュー画面では、ワークフロー画面上部よりプロジェクト全体の進行状況とコンポーネント右上のアイコンにより実行状況を確認できます。\n\n![img](./img/running.png \"runnig_graghview\")\n\n#### 3. リストビュー画面\n\nリストビュー画面では、各コンポーネントの進行状況がグラフビュー画面より詳細に表示されます。\n\n![img](./img/running_ListView.png \"running_listview\")\n\n#### 4. 実行完了\n\n実行が完了したとき、状態は[ finished ]へと変化し、\nまた、ログエリア[ Stdout ]に「Hello World!」と表示されます。\n\n![img](./img/finish.png \"finish\")\n\n\n以上が基本的なコンポーネント設定、ワークフローの実行手順となります。\n以下では、その他コンポーネントのサンプルを示します。\nWHEELでは、複雑なワークフローもこれらコンポーネントを組み合わせることにより、視覚的・直感的に理解しやすいワークフローを構成することができます。\n\n\n--------\n[リファレンスマニュアルのトップページに戻る](../readme.md)\n",
      "html": "<h1 id=\"%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C%E6%96%B9%E6%B3%95\">ワークフローの実行方法 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C%E6%96%B9%E6%B3%95\">#</a></h1>\n<h2 id=\"%E2%96%A0%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">■ワークフローの作成 <a class=\"heading-anchor-permalink\" href=\"#%E2%96%A0%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">#</a></h2>\n<p>はじめに、ワークフローの作成手順（実行に必要なファイルの設定方法）について説明します。\nここでは、例として、ログエリア[ Stdout ]にメッセージ「Hello World!」を出力するTaskコンポーネントの設定を紹介します。\n手順は以下です。</p>\n<ol>\n<li>グラフビュー画面左部 Component Libraryより、Taskコンポーネントをグラフビュー画面に配置する</li>\n<li>Taskコンポーネントをクリックし、プロパティ画面を表示する</li>\n<li>プロパティ画面下部[ Files ]より、メッセージ表示（Stdout）するスクリプトをTaskコンポーネントディレクトリへアップロードする *1</li>\n<li>プロパティ[ script ]にアップロードしたファイルのファイル名(<a href=\"http://HelloWorld.sh\">HelloWorld.sh</a>)を指定する</li>\n</ol>\n<p>*1 Taskコンポーネントディレクトリへのスクリプトの設定方法は、ファイルをアップロードする方法と\n　[ Files ]の新規ファイル作成機能によりファイルを作成する方法があります。</p>\n<p><img src=\"./img/task_exe_1.png\" alt=\"img\" title=\"task_exe_1\"></p>\n<blockquote>\n<p>sampleTask(taskコンポーネント)</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>sampleTask</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://HelloWorld.sh\">HelloWorld.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>localhost</td>\n</tr>\n<tr>\n<td>Files</td>\n<td><a href=\"http://HelloWorld.sh\">HelloWorld.sh</a></td>\n</tr>\n</tbody>\n</table>\n<p>ここで設定したスクリプト「<a href=\"http://HelloWorld.sh\">HelloWorld.sh</a>」の中身は以下です。</p>\n<h4 id=\"%E3%83%BBhelloworld.sh\">・<a href=\"http://HelloWorld.sh\">HelloWorld.sh</a> <a class=\"heading-anchor-permalink\" href=\"#%E3%83%BBhelloworld.sh\">#</a></h4>\n<pre><code>#!/bin/bash\necho Hello World!\n</code></pre>\n<h2 id=\"%E2%96%A0%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BF%9D%E5%AD%98%E3%81%99%E3%82%8B\">■プロジェクトを保存する <a class=\"heading-anchor-permalink\" href=\"#%E2%96%A0%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BF%9D%E5%AD%98%E3%81%99%E3%82%8B\">#</a></h2>\n<p>ファイルの設定が完了後、プロジェクトを保存します。\n保存前後でワークフロー画面上部[ Create date ]が更新されることを確認します。</p>\n<p><img src=\"./img/before_save.png\" alt=\"img\" title=\"before_save\">\n<img src=\"./img/after_save.png\" alt=\"img\" title=\"after_save\"></p>\n<h2 id=\"%E2%96%A0%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C%E3%81%A8%E5%AE%9F%E8%A1%8C%E7%8A%B6%E6%B3%81%E3%81%AE%E7%A2%BA%E8%AA%8D\">■ワークフローの実行と実行状況の確認 <a class=\"heading-anchor-permalink\" href=\"#%E2%96%A0%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C%E3%81%A8%E5%AE%9F%E8%A1%8C%E7%8A%B6%E6%B3%81%E3%81%AE%E7%A2%BA%E8%AA%8D\">#</a></h2>\n<p>ワークフローを実行します。\nワークフローは、デフォルト値[ localhost ]で実行します。</p>\n<p>ワークフローの実行は、ワークフロー画面上部[ Run ]ボタンより開始します。</p>\n<h4 id=\"1.-%E5%AE%9F%E8%A1%8C\">1. 実行 <a class=\"heading-anchor-permalink\" href=\"#1.-%E5%AE%9F%E8%A1%8C\">#</a></h4>\n<p>実行ボタン押下後、実行の状況の確認はグラフビュー画面、リストビュー画面のいずれかから確認することができます。</p>\n<p><img src=\"./img/run.png\" alt=\"img\" title=\"run\"></p>\n<h4 id=\"2.-%E3%82%B0%E3%83%A9%E3%83%95%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">2. グラフビュー画面 <a class=\"heading-anchor-permalink\" href=\"#2.-%E3%82%B0%E3%83%A9%E3%83%95%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">#</a></h4>\n<p>グラフビュー画面では、ワークフロー画面上部よりプロジェクト全体の進行状況とコンポーネント右上のアイコンにより実行状況を確認できます。</p>\n<p><img src=\"./img/running.png\" alt=\"img\" title=\"runnig_graghview\"></p>\n<h4 id=\"3.-%E3%83%AA%E3%82%B9%E3%83%88%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">3. リストビュー画面 <a class=\"heading-anchor-permalink\" href=\"#3.-%E3%83%AA%E3%82%B9%E3%83%88%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2\">#</a></h4>\n<p>リストビュー画面では、各コンポーネントの進行状況がグラフビュー画面より詳細に表示されます。</p>\n<p><img src=\"./img/running_ListView.png\" alt=\"img\" title=\"running_listview\"></p>\n<h4 id=\"4.-%E5%AE%9F%E8%A1%8C%E5%AE%8C%E4%BA%86\">4. 実行完了 <a class=\"heading-anchor-permalink\" href=\"#4.-%E5%AE%9F%E8%A1%8C%E5%AE%8C%E4%BA%86\">#</a></h4>\n<p>実行が完了したとき、状態は[ finished ]へと変化し、\nまた、ログエリア[ Stdout ]に「Hello World!」と表示されます。</p>\n<p><img src=\"./img/finish.png\" alt=\"img\" title=\"finish\"></p>\n<p>以上が基本的なコンポーネント設定、ワークフローの実行手順となります。\n以下では、その他コンポーネントのサンプルを示します。\nWHEELでは、複雑なワークフローもこれらコンポーネントを組み合わせることにより、視覚的・直感的に理解しやすいワークフローを構成することができます。</p>\n<hr>\n<p><a href=\"../readme.html\">リファレンスマニュアルのトップページに戻る</a></p>\n",
      "id": 21
    },
    {
      "path": "3_WHEEL_tutorial/2_OpenFOAM_PS_sample/OpenFOAM_PS_sample.md",
      "url": "3_WHEEL_tutorial/2_OpenFOAM_PS_sample/OpenFOAM_PS_sample.html",
      "content": "# OpenFOAMを利用したパラメトリックスタディ解析ワークフロー\n本章では、WHEELを用いた計算事例として「OpenFOAMを利用したパラメトリックスタディ解析ワークフロー」を紹介します。  \n3次元CADで作成した分配菅モデルに対しオープンソースCAEソフトウエア「SALOME-MACA」でメッシュ化し、WHEELを用いてパラメトリックスタディ解析を京コンピュータのmicroキューを利用して行います。  \n以降、下記の順にて事例内容を紹介します。  \n\nまた、本章で使用するモデルデータ、OpenFOAMの計算実行ファイル、及びTaskコンポーネントで使用するスクリプト例は、  \n下記よりダウンロード可能です。  \n<a href=\"./sample/OpenFOAM_tutorial_sample.zip\">OpenFOAMサンプルデータ</a>\n\n1. 解析概要\n1. オープンソースCAEソフトウエア「SALOME-MACA」によるメッシュ作成\n1. WHEELによるワークフローの作成  \n　1. Parameter Study コンポーネント  \n　2. Task コンポーネント\n1. ジョブの投入\n1. 解析結果の確認\n\n## 1. 解析概要\n本事例で使用する解析対象モデルは、分配菅モデルです。\n\n#### 解析モデル D50-d10\n\n![img](./img/model.png \"model\")  \n\ninletから流入した流体がoutletから出ていく解析を実施します。  \nまた、本解析では、**inletの流量**を対象としたパラメトリックスタディ解析を行います。\n\n## 2. オープンソースCAEソフトウエア「SALOME-MACA」によるメッシュ作成\n本解析では、オープンソースCAEソフトウエア「SALOME-MACA」にて解析モデルのメッシュを作成しました。  \n本節では、SALOME-MACAでのメッシュの作成手順を簡単に示します。  \n※本チュートリアルでは、オープンソースCAEソフトウエア「SALOME-MACA」はインストール済みであるものとして説明します。\n\n### 「Geometry」モジュールのグループ設定\n「Geometry」モジュールのグループ設定までの手順は以下です。\n1. SALOME-MECA起動後、「新しいドキュメント」ボタンをクリックし新規ドキュメントを作成する\n1. 「Geometory」モジュールを選択する\n1. 「ファイル」-「インポート…」-「STEP」インポートをクリックし、3次元CADで作成した分配管モデル「D50-d10.stp」を選択する\n1. 表示される単位変換の選択ウィンドウより、適切な単位系を選択する（本解析では、メートル[M]を選択）\n1. OpenFOAMでの境界条件設定用に、入口/出口/壁面のそれぞれにFACEグループを設定する  \n   本事例では、入口にinlet、10箇所の出口にoutet1～outlet10、壁面にwallのグループ名を設定\n\n#### 「Geometry」モジュールのグループ設定\n\n![img](./img/mesh_1.png \"Geometryモジュールのグループ設定\")  \n\n### 「Mesh」モジュールでのメッシュの設定と作成\n「Geometory」モジュールにて、グループ名設定後、「Mesh」モジュールに切り替えて、メッシュの設定と作成します。  \nこのモデルでは、四面体テトラ要素と境界層メッシュ（プリズム）を設定しています。\n\n![img](./img/mesh_2.png \"「Mesh」モジュールでのメッシュの設定と作成\")  \n\n### 「Mesh」モジュールのグループ設定\nメッシュ作成後、入口/出口/壁面のそれぞれにFACEグループを設定します。  \n「Geometory」モジュールで設定したグループを利用し、入口にinlet、10箇所の出口にoutet1～outlet10、壁面にwallのグループ名を設定します。\n\n以上の操作後、作成されるメッシュは以下のようになります。\n\n四面体　　　　　　：273726  \nプリズム（三角柱）：109503  \n合計　　　　　　　：383229\n\n![img](./img/mesh_3.png \"メッシュ\")  \n\n\n### メッシュデータのエキスポート\nメッシュ作成、グループ作成後、Ideas universal形式でメッシュデータをエキスポートします。\n\n### メッシュデータのOpenFOAM形式への変換\n作成したメッシュデータをOpenFOAMでの計算に利用する場合、  \nエキスポートしたメッシュデータをIdeas universalファイルから、OpenFOAM形式への変換する必要があります。  \n手順は以下です。\n\nターミナルを起動し、\n解析データの親ディレクトリ「D50-d10」にて、  \n\n```\n$ ideasUnvToFoam *.unv\n```\n\nコマンドを実行します。\n\nこの操作により、「constant/polyMesh」ディレクトリに  \n・boundary  \n・owner  \n・faces  \n・neighbor  \n・points  \nというOpenFOAM用のメッシュデータが生成されます。\n\n## 3. WHEELによるワークフローの作成\n本節では、WHEELでのパラメトリックスタディ解析に必要なワークフローコンポーネントについて説明します。  \n本事例で必要なコンポーネントとその役割は以下です。\n\n- Parameter Study コンポーネント：パラメータ化するデータの設定用\n- Task コンポーネント - 1：PSコンポーネントにてパラメータ化したデータの転送用\n- Task コンポーネント - 2：京へのジョブ投入及びOpenFOAM実行用\n\n以降で、各コンポーネントについて説明します。\n### Parameter Study コンポーネント（OpenFOAM_PS）\n前述の通り本事例では、分配菅への流入量をパラメータ化します。  \nそのため、OpenFOAM_PSコンポーネントのPSプロパティ[ parameter setting file ]には、OpenFOAMの初期状態の入力データである  \n0ディレクトリ配下の「U」ファイルにパラメータセッティングしたファイルを設定します。  \n\nOpenFOAM_PSコンポーネントに設定するプロパティは以下です。\n\n##### OpenFOAM_PS  \n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | OpenFOAM_PS |\n| InputFiles | - |\n| OutputFiles | - |\n| Parameter setting file | U.txt.json |  \n| Files | U.txt, U.txt.json |\n\n手順は以下です。  \n\n1. PSディレクトリにUファイル（U.txt）をインポートする\n（後のファイル移動時を考慮し、一時的にファイル名を U -> U.txt と変更しています）\n1. 読み込んだ U.txt を右クリック[ edit for PS ]よりファイル編集画面を開く\n1. boundaryField -> inlet -> value の uniform (5 0 0)の5に対してターゲット設定を行う（Min Value:5, Max value:7, Step:1）\n1. 設定後作成された「U.txt.json」ファイルをPSプロパティ[ parameter setting file ]に設定する\n\n![img](./img/OpenFOAM_PS.png \"OpenFOAM_PS\")  \n\n以上がPSコンポーネントでの設定になります。\n\n\n### Task コンポーネント - 1\nファイル転送用コンポーネント「moveFile_Task」について説明します。  \n本コンポーネントは、OpenFOAM_PSコンポーネントによりパラメータ化した「U.txt」ファイルをOpenFOAMでの計算で用いるために  \nOpenFOAM_PSコンポーネントから京コンピュータへ計算を投入するTask（詳細は後述）へ転送するためのコンポーネントです。\n\nmoveFile_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### moveFile_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | moveFile_Task |\n| Script | moveFile.bat |\n| InputFiles | input.txt |\n| OutputFiles | - |\n| Remotehost | localhost |\n| Files | resultRead.bat, value.txt *2 |\n\n> moveFile.bat  \n```\n@echo off  \nmv ../U.txt ../runOpenFOAM_Task  \n```\n\n設定は以下です。\n1. moveFile_Taskコンポーネントへファイル転送をするスクリプトmoveFile.batをインポートする \n1. プロパティ[ script ]にmoveFile.batを設定する\n1. プロパティ[ remotehost ]に「 localhost 」を設定する　*1  \n*1 この処理は、京コンピュータへのジョブ投入前に実施するため、localhostで実施します。\n\n![img](./img/moveFile_Task.png \"moveFile_Task\")  \n\n以上がファイル転送用Taskコンポーネントの設定になります。\n\n### Task コンポーネント - 2\n続いて、京コンピュータへのジョブ投入用及びOpenFOAM解析実行用コンポーネント「runOpenFOAM_Task」について説明します。  \n本コンポーネントは、京コンピュータのmicroキューを用いてOpenFOAMによる分配管の流体解析を実行するためのコンポーネントです。\n\nrunOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### runOpenFOAM_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | runOpenFOAM_Task |\n| Script | runOpenFOAM.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | K_micro |\n| UseJobScheduler | true |\n| Queue | micro |\n| Clean up flag | keep files |\n| include | D50-d10.tar.gz |\n| exclude | - |\n| Files | runOpenFOAM.sh, D50-d10.tar.gz* |\n\n*　解析モデル及びOpenFOAMの計算設定ファイル一式  \n\n> runOpenFOAM.sh  \n```\n#!/bin/sh  \n#PJM --rsc-list \"node=2\"  \n#PJM --mpi \"shape=2\"  \n#PJM --mpi \"proc=12\"  \n#PJM -s  \n#   \n. /work/system/Env_base  \n#  \nmodule load OpenFOAM/2.4.0-fujitsu-sparc64  \nsource $WM_PROJECT_DIR/etc/bashrc  \ntar xvzf D50-d10.tar.gz  \nmv ./U.txt U  \nmv ./U ./D50-d10/0  \ncd ./D50-d10  \ndecomposePar  \nmpiexec -n 12 simpleFoam -parallel  \nreconstructPar  \ntouch result.foam  \ncd ..  \ntar cvzf D50-d10.tar.gz D50-d10  \n```\n\n設定は以下です。\n1. 京コンピュータでOpenFOAMを実行するために必要なデータ（OpenFOAMの入力ファイル「D50-b10.tar.gz」）及びジョブスクリプトrunOpenFOAM.shをインポートする\n1. プロパティ[ script ]にrunOpenFOAM.shを設定する\n1. プロパティ[ remotehost ]に事前に登録している京のリモートホスト情報「K_micro」設定する *\n1. プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「micro」を設定する\n1. moveFile_Taskコンポーネントへファイル転送をするスクリプトmoveFile.shをインポートする\n1. includeに回収するファイル名「D50-b10.tar.gz」を設定する\n\n*　京コンピュータでリソースグループmicroを使用して計算を行うため「K_micro」としています  \n　 ユーザの環境に合わせて名称の変更が必要です\n\n### ジョブスクリプトに関して\nWHEELは、リソースグループmicroを用い、効率的に計算資源を利用することを目的としています。  \nよって、microキュー内（30分）で解析が完了するようにモデル規模、またノード数、プロセス数を設定しジョブを投入する必要があります。  \n本解析は**2ノード12プロセス**にて解析を行っております。\n\nまた、ジョブスクリプトrunOpenFOAM.shには、#PJMで始まるジョブへのオプション設定の他に「OpenFOAMを実行するためのコマンド」を用意しています。  \nここでは、京でOpenFOAMを実行するためのコマンドを紹介します。\n\n通常、京で計算を行うためには計算用の実行モジュールを京のユーザが用意する必要があります。  \nしかし、オープンソースであるOpenFOAMは京に用意されているため、実行モジュールを用意する必要が無く  \n[ module load ]コマンドを使用することで、OpenFOAMのモジュールを利用することができます。\n\n本事例では、メッシュは作成済みであるため下記コマンドをスクリプトに組み込んでいます。  \n\n```\n$ module load OpenFOAM/version..  \n$ source $WM_PROJECT_DIR/etc/bashrc  \n$ simpleFoam  \n```\n\n京で利用できるOpenFOAMのバージョンを確認するためには、  \n\n```\n$ module avail\n```\n\nコマンドで確認してください。  \n\nまた、解析完了後、Paraviewで解析結果を確認するためには、空の「○○.foam」ファイル（○○は任意の文字列）が  \n必要であるため、空ファイルを作成するコマンド\n\n```\n$ touch ○○.foam\n```\n\nをスクリプト内に組み込んでおくと結果確認をスムーズに行うことができます。\n\n### リモートホスト登録情報に関して\n本事例は、京のリソースグループmicroを利用してジョブを投入することを前提としております。  \nそのため、前述のホスト情報登録方法に従い、京のリソースグループmicroにジョブを投入するためのホスト情報を登録しておく必要があります。\n本サンプルでは、京コンピュータでリソースグループmicroを使用して計算を行うため「K_micro」としています。  \n\n参考として、本事例で設定したホスト情報の中で注意すべき項目を示します。\n\n- Host Work Dir：/scratch/groupname/.....  \n※リソースグループmicroを用いてジョブを投入する場合、/home,/dataからジョブを投入することはできません。詳細は京のユーザガイドをご確認ください。  \n- Job Scheduler：ParallelNavi  \n※ジョブスケジューラの設定は、WHEELのモジュールディレクトリ内[ app/db/jobSceduler.json ]にて行ってください。  \n- Queue：micro  \n※ホスト情報のQueue欄に[ micro ]登録を登録しておくことで、Taskのプロパティからの選択が可能となります。  \n\n![img](./img/runOpenFOAM_Task.png \"runOpenFOAM_Task\")  \n\nmoveFile_TaskとrunOpenFOAM_Taskを結線で繋ぎます。\n\n以上でワークフローの設定は終了です。\n\n## 4. ジョブの投入\nジョブの投入を行います。前述の「9.ワークフローの作成」にありますように、ジョブの投入は、ワークフロー実行画面上部の実行ボタンより行います。  \n実行状況の確認は、ログエリアやコンポーネント右上の実行状況表示アイコン、及びリストビュー画面から行います。  \n\n![img](./img/job.png \"ジョブの投入\")  \n\n## 5. 解析結果の確認\n\n解析結果の確認を行います。  \nリモート環境から回収した計算結果ファイルをローカル環境に移動し、「Paraview」にて確認します。  \n\n### 解析結果のオープン  \n実行したパメトリックスタディ解析の結果のひとつ、**流入速度5[m]** の結果を確認します。  \nParaviewを起動し、[ File ] -> [ Open ].... より、「result.foam *1」ファイルを選択し、[ OK ]ボタンを押下します。    \n*1 result.foam ファイルは、ジョブスクリプト内の「touch」コマンドにて作成したものです。（詳細は、前述の「ジョブスクリプトに関して」をご参照ください）\n\n![img](./img/result_open.png \"結果のオープン\")  \n\n### 解析結果\n**流入速度5[m]** の解析結果において、分配菅の断面図に **速度 U** を、ベクトルで **圧力 p** を表示した結果は以下になります。\n\n##### 流入速度5[m]\n\n![img](./img/result_5.png \"流入速度5m_結果\")  \n\n同様に、**流入速度6[m]**、**流入速度7[m]** の結果を示します。\n\n##### 流入速度6[m]\n\n![img](./img/result_6.png \"流入速度6m_結果\")  \n\n##### 流入速度7[m]\n\n![img](./img/result_7.png \"流入速度7m_結果\")  \n\n\nOpenFOAMを利用したパラメトリックスタディ解析ワークフロー例は以上になります。",
      "html": "<h1 id=\"openfoam%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E3%83%91%E3%83%A9%E3%83%A1%E3%83%88%E3%83%AA%E3%83%83%E3%82%AF%E3%82%B9%E3%82%BF%E3%83%87%E3%82%A3%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC\">OpenFOAMを利用したパラメトリックスタディ解析ワークフロー <a class=\"heading-anchor-permalink\" href=\"#openfoam%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E3%83%91%E3%83%A9%E3%83%A1%E3%83%88%E3%83%AA%E3%83%83%E3%82%AF%E3%82%B9%E3%82%BF%E3%83%87%E3%82%A3%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC\">#</a></h1>\n<p>本章では、WHEELを用いた計算事例として「OpenFOAMを利用したパラメトリックスタディ解析ワークフロー」を紹介します。<br>\n3次元CADで作成した分配菅モデルに対しオープンソースCAEソフトウエア「SALOME-MACA」でメッシュ化し、WHEELを用いてパラメトリックスタディ解析を京コンピュータのmicroキューを利用して行います。<br>\n以降、下記の順にて事例内容を紹介します。</p>\n<p>また、本章で使用するモデルデータ、OpenFOAMの計算実行ファイル、及びTaskコンポーネントで使用するスクリプト例は、<br>\n下記よりダウンロード可能です。<br>\n<a href=\"./sample/OpenFOAM_tutorial_sample.zip\">OpenFOAMサンプルデータ</a></p>\n<ol>\n<li>解析概要</li>\n<li>オープンソースCAEソフトウエア「SALOME-MACA」によるメッシュ作成</li>\n<li>WHEELによるワークフローの作成<br>\n　1. Parameter Study コンポーネント<br>\n　2. Task コンポーネント</li>\n<li>ジョブの投入</li>\n<li>解析結果の確認</li>\n</ol>\n<h2 id=\"1.-%E8%A7%A3%E6%9E%90%E6%A6%82%E8%A6%81\">1. 解析概要 <a class=\"heading-anchor-permalink\" href=\"#1.-%E8%A7%A3%E6%9E%90%E6%A6%82%E8%A6%81\">#</a></h2>\n<p>本事例で使用する解析対象モデルは、分配菅モデルです。</p>\n<h4 id=\"%E8%A7%A3%E6%9E%90%E3%83%A2%E3%83%87%E3%83%AB-d50-d10\">解析モデル D50-d10 <a class=\"heading-anchor-permalink\" href=\"#%E8%A7%A3%E6%9E%90%E3%83%A2%E3%83%87%E3%83%AB-d50-d10\">#</a></h4>\n<p><img src=\"./img/model.png\" alt=\"img\" title=\"model\"></p>\n<p>inletから流入した流体がoutletから出ていく解析を実施します。<br>\nまた、本解析では、<strong>inletの流量</strong>を対象としたパラメトリックスタディ解析を行います。</p>\n<h2 id=\"2.-%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%B9cae%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A8%E3%82%A2%E3%80%8Csalome-maca%E3%80%8D%E3%81%AB%E3%82%88%E3%82%8B%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E4%BD%9C%E6%88%90\">2. オープンソースCAEソフトウエア「SALOME-MACA」によるメッシュ作成 <a class=\"heading-anchor-permalink\" href=\"#2.-%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%B9cae%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A8%E3%82%A2%E3%80%8Csalome-maca%E3%80%8D%E3%81%AB%E3%82%88%E3%82%8B%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E4%BD%9C%E6%88%90\">#</a></h2>\n<p>本解析では、オープンソースCAEソフトウエア「SALOME-MACA」にて解析モデルのメッシュを作成しました。<br>\n本節では、SALOME-MACAでのメッシュの作成手順を簡単に示します。<br>\n※本チュートリアルでは、オープンソースCAEソフトウエア「SALOME-MACA」はインストール済みであるものとして説明します。</p>\n<h3 id=\"%E3%80%8Cgeometry%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E8%A8%AD%E5%AE%9A\">「Geometry」モジュールのグループ設定 <a class=\"heading-anchor-permalink\" href=\"#%E3%80%8Cgeometry%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E8%A8%AD%E5%AE%9A\">#</a></h3>\n<p>「Geometry」モジュールのグループ設定までの手順は以下です。</p>\n<ol>\n<li>SALOME-MECA起動後、「新しいドキュメント」ボタンをクリックし新規ドキュメントを作成する</li>\n<li>「Geometory」モジュールを選択する</li>\n<li>「ファイル」-「インポート…」-「STEP」インポートをクリックし、3次元CADで作成した分配管モデル「D50-d10.stp」を選択する</li>\n<li>表示される単位変換の選択ウィンドウより、適切な単位系を選択する（本解析では、メートル[M]を選択）</li>\n<li>OpenFOAMでの境界条件設定用に、入口/出口/壁面のそれぞれにFACEグループを設定する<br>\n本事例では、入口にinlet、10箇所の出口にoutet1～outlet10、壁面にwallのグループ名を設定</li>\n</ol>\n<h4 id=\"%E3%80%8Cgeometry%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E8%A8%AD%E5%AE%9A-2\">「Geometry」モジュールのグループ設定 <a class=\"heading-anchor-permalink\" href=\"#%E3%80%8Cgeometry%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E8%A8%AD%E5%AE%9A-2\">#</a></h4>\n<p><img src=\"./img/mesh_1.png\" alt=\"img\" title=\"Geometryモジュールのグループ設定\"></p>\n<h3 id=\"%E3%80%8Cmesh%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%A7%E3%81%AE%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%A8%E4%BD%9C%E6%88%90\">「Mesh」モジュールでのメッシュの設定と作成 <a class=\"heading-anchor-permalink\" href=\"#%E3%80%8Cmesh%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%A7%E3%81%AE%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%A8%E4%BD%9C%E6%88%90\">#</a></h3>\n<p>「Geometory」モジュールにて、グループ名設定後、「Mesh」モジュールに切り替えて、メッシュの設定と作成します。<br>\nこのモデルでは、四面体テトラ要素と境界層メッシュ（プリズム）を設定しています。</p>\n<p><img src=\"./img/mesh_2.png\" alt=\"img\" title=\"「Mesh」モジュールでのメッシュの設定と作成\"></p>\n<h3 id=\"%E3%80%8Cmesh%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E8%A8%AD%E5%AE%9A\">「Mesh」モジュールのグループ設定 <a class=\"heading-anchor-permalink\" href=\"#%E3%80%8Cmesh%E3%80%8D%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E8%A8%AD%E5%AE%9A\">#</a></h3>\n<p>メッシュ作成後、入口/出口/壁面のそれぞれにFACEグループを設定します。<br>\n「Geometory」モジュールで設定したグループを利用し、入口にinlet、10箇所の出口にoutet1～outlet10、壁面にwallのグループ名を設定します。</p>\n<p>以上の操作後、作成されるメッシュは以下のようになります。</p>\n<p>四面体　　　　　　：273726<br>\nプリズム（三角柱）：109503<br>\n合計　　　　　　　：383229</p>\n<p><img src=\"./img/mesh_3.png\" alt=\"img\" title=\"メッシュ\"></p>\n<h3 id=\"%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E3%82%A8%E3%82%AD%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88\">メッシュデータのエキスポート <a class=\"heading-anchor-permalink\" href=\"#%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E3%82%A8%E3%82%AD%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88\">#</a></h3>\n<p>メッシュ作成、グループ作成後、Ideas universal形式でメッシュデータをエキスポートします。</p>\n<h3 id=\"%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AEopenfoam%E5%BD%A2%E5%BC%8F%E3%81%B8%E3%81%AE%E5%A4%89%E6%8F%9B\">メッシュデータのOpenFOAM形式への変換 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AEopenfoam%E5%BD%A2%E5%BC%8F%E3%81%B8%E3%81%AE%E5%A4%89%E6%8F%9B\">#</a></h3>\n<p>作成したメッシュデータをOpenFOAMでの計算に利用する場合、<br>\nエキスポートしたメッシュデータをIdeas universalファイルから、OpenFOAM形式への変換する必要があります。<br>\n手順は以下です。</p>\n<p>ターミナルを起動し、\n解析データの親ディレクトリ「D50-d10」にて、</p>\n<pre><code>$ ideasUnvToFoam *.unv\n</code></pre>\n<p>コマンドを実行します。</p>\n<p>この操作により、「constant/polyMesh」ディレクトリに<br>\n・boundary<br>\n・owner<br>\n・faces<br>\n・neighbor<br>\n・points<br>\nというOpenFOAM用のメッシュデータが生成されます。</p>\n<h2 id=\"3.-wheel%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">3. WHEELによるワークフローの作成 <a class=\"heading-anchor-permalink\" href=\"#3.-wheel%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">#</a></h2>\n<p>本節では、WHEELでのパラメトリックスタディ解析に必要なワークフローコンポーネントについて説明します。<br>\n本事例で必要なコンポーネントとその役割は以下です。</p>\n<ul>\n<li>Parameter Study コンポーネント：パラメータ化するデータの設定用</li>\n<li>Task コンポーネント - 1：PSコンポーネントにてパラメータ化したデータの転送用</li>\n<li>Task コンポーネント - 2：京へのジョブ投入及びOpenFOAM実行用</li>\n</ul>\n<p>以降で、各コンポーネントについて説明します。</p>\n<h3 id=\"parameter-study-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%EF%BC%88openfoam_ps%EF%BC%89\">Parameter Study コンポーネント（OpenFOAM_PS） <a class=\"heading-anchor-permalink\" href=\"#parameter-study-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%EF%BC%88openfoam_ps%EF%BC%89\">#</a></h3>\n<p>前述の通り本事例では、分配菅への流入量をパラメータ化します。<br>\nそのため、OpenFOAM_PSコンポーネントのPSプロパティ[ parameter setting file ]には、OpenFOAMの初期状態の入力データである<br>\n0ディレクトリ配下の「U」ファイルにパラメータセッティングしたファイルを設定します。</p>\n<p>OpenFOAM_PSコンポーネントに設定するプロパティは以下です。</p>\n<h5 id=\"openfoam_ps\">OpenFOAM_PS <a class=\"heading-anchor-permalink\" href=\"#openfoam_ps\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>OpenFOAM_PS</td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Parameter setting file</td>\n<td>U.txt.json</td>\n</tr>\n<tr>\n<td>Files</td>\n<td>U.txt, U.txt.json</td>\n</tr>\n</tbody>\n</table>\n<p>手順は以下です。</p>\n<ol>\n<li>PSディレクトリにUファイル（U.txt）をインポートする\n（後のファイル移動時を考慮し、一時的にファイル名を U -&gt; U.txt と変更しています）</li>\n<li>読み込んだ U.txt を右クリック[ edit for PS ]よりファイル編集画面を開く</li>\n<li>boundaryField -&gt; inlet -&gt; value の uniform (5 0 0)の5に対してターゲット設定を行う（Min Value:5, Max value:7, Step:1）</li>\n<li>設定後作成された「U.txt.json」ファイルをPSプロパティ[ parameter setting file ]に設定する</li>\n</ol>\n<p><img src=\"./img/OpenFOAM_PS.png\" alt=\"img\" title=\"OpenFOAM_PS\"></p>\n<p>以上がPSコンポーネントでの設定になります。</p>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---1\">Task コンポーネント - 1 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---1\">#</a></h3>\n<p>ファイル転送用コンポーネント「moveFile_Task」について説明します。<br>\n本コンポーネントは、OpenFOAM_PSコンポーネントによりパラメータ化した「U.txt」ファイルをOpenFOAMでの計算で用いるために<br>\nOpenFOAM_PSコンポーネントから京コンピュータへ計算を投入するTask（詳細は後述）へ転送するためのコンポーネントです。</p>\n<p>moveFile_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"movefile_task\">moveFile_Task <a class=\"heading-anchor-permalink\" href=\"#movefile_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>moveFile_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td>moveFile.bat</td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>input.txt</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>localhost</td>\n</tr>\n<tr>\n<td>Files</td>\n<td>resultRead.bat, value.txt *2</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>moveFile.bat</p>\n</blockquote>\n<pre><code>@echo off  \nmv ../U.txt ../runOpenFOAM_Task  \n</code></pre>\n<p>設定は以下です。</p>\n<ol>\n<li>moveFile_Taskコンポーネントへファイル転送をするスクリプトmoveFile.batをインポートする</li>\n<li>プロパティ[ script ]にmoveFile.batを設定する</li>\n<li>プロパティ[ remotehost ]に「 localhost 」を設定する　*1<br>\n*1 この処理は、京コンピュータへのジョブ投入前に実施するため、localhostで実施します。</li>\n</ol>\n<p><img src=\"./img/moveFile_Task.png\" alt=\"img\" title=\"moveFile_Task\"></p>\n<p>以上がファイル転送用Taskコンポーネントの設定になります。</p>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---2\">Task コンポーネント - 2 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---2\">#</a></h3>\n<p>続いて、京コンピュータへのジョブ投入用及びOpenFOAM解析実行用コンポーネント「runOpenFOAM_Task」について説明します。<br>\n本コンポーネントは、京コンピュータのmicroキューを用いてOpenFOAMによる分配管の流体解析を実行するためのコンポーネントです。</p>\n<p>runOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"runopenfoam_task\">runOpenFOAM_Task <a class=\"heading-anchor-permalink\" href=\"#runopenfoam_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>runOpenFOAM_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://runOpenFOAM.sh\">runOpenFOAM.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>K_micro</td>\n</tr>\n<tr>\n<td>UseJobScheduler</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>micro</td>\n</tr>\n<tr>\n<td>Clean up flag</td>\n<td>keep files</td>\n</tr>\n<tr>\n<td>include</td>\n<td>D50-d10.tar.gz</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Files</td>\n<td><a href=\"http://runOpenFOAM.sh\">runOpenFOAM.sh</a>, D50-d10.tar.gz*</td>\n</tr>\n</tbody>\n</table>\n<p>*　解析モデル及びOpenFOAMの計算設定ファイル一式</p>\n<blockquote>\n<p><a href=\"http://runOpenFOAM.sh\">runOpenFOAM.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/sh  \n#PJM --rsc-list &quot;node=2&quot;  \n#PJM --mpi &quot;shape=2&quot;  \n#PJM --mpi &quot;proc=12&quot;  \n#PJM -s  \n#   \n. /work/system/Env_base  \n#  \nmodule load OpenFOAM/2.4.0-fujitsu-sparc64  \nsource $WM_PROJECT_DIR/etc/bashrc  \ntar xvzf D50-d10.tar.gz  \nmv ./U.txt U  \nmv ./U ./D50-d10/0  \ncd ./D50-d10  \ndecomposePar  \nmpiexec -n 12 simpleFoam -parallel  \nreconstructPar  \ntouch result.foam  \ncd ..  \ntar cvzf D50-d10.tar.gz D50-d10  \n</code></pre>\n<p>設定は以下です。</p>\n<ol>\n<li>京コンピュータでOpenFOAMを実行するために必要なデータ（OpenFOAMの入力ファイル「D50-b10.tar.gz」）及びジョブスクリプトrunOpenFOAM.shをインポートする</li>\n<li>プロパティ[ script ]にrunOpenFOAM.shを設定する</li>\n<li>プロパティ[ remotehost ]に事前に登録している京のリモートホスト情報「K_micro」設定する *</li>\n<li>プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「micro」を設定する</li>\n<li>moveFile_Taskコンポーネントへファイル転送をするスクリプトmoveFile.shをインポートする</li>\n<li>includeに回収するファイル名「D50-b10.tar.gz」を設定する</li>\n</ol>\n<p>*　京コンピュータでリソースグループmicroを使用して計算を行うため「K_micro」としています<br>\n　 ユーザの環境に合わせて名称の変更が必要です</p>\n<h3 id=\"%E3%82%B8%E3%83%A7%E3%83%96%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">ジョブスクリプトに関して <a class=\"heading-anchor-permalink\" href=\"#%E3%82%B8%E3%83%A7%E3%83%96%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">#</a></h3>\n<p>WHEELは、リソースグループmicroを用い、効率的に計算資源を利用することを目的としています。<br>\nよって、microキュー内（30分）で解析が完了するようにモデル規模、またノード数、プロセス数を設定しジョブを投入する必要があります。<br>\n本解析は<strong>2ノード12プロセス</strong>にて解析を行っております。</p>\n<p>また、ジョブスクリプトrunOpenFOAM.shには、#PJMで始まるジョブへのオプション設定の他に「OpenFOAMを実行するためのコマンド」を用意しています。<br>\nここでは、京でOpenFOAMを実行するためのコマンドを紹介します。</p>\n<p>通常、京で計算を行うためには計算用の実行モジュールを京のユーザが用意する必要があります。<br>\nしかし、オープンソースであるOpenFOAMは京に用意されているため、実行モジュールを用意する必要が無く<br>\n[ module load ]コマンドを使用することで、OpenFOAMのモジュールを利用することができます。</p>\n<p>本事例では、メッシュは作成済みであるため下記コマンドをスクリプトに組み込んでいます。</p>\n<pre><code>$ module load OpenFOAM/version..  \n$ source $WM_PROJECT_DIR/etc/bashrc  \n$ simpleFoam  \n</code></pre>\n<p>京で利用できるOpenFOAMのバージョンを確認するためには、</p>\n<pre><code>$ module avail\n</code></pre>\n<p>コマンドで確認してください。</p>\n<p>また、解析完了後、Paraviewで解析結果を確認するためには、空の「○○.foam」ファイル（○○は任意の文字列）が<br>\n必要であるため、空ファイルを作成するコマンド</p>\n<pre><code>$ touch ○○.foam\n</code></pre>\n<p>をスクリプト内に組み込んでおくと結果確認をスムーズに行うことができます。</p>\n<h3 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">リモートホスト登録情報に関して <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">#</a></h3>\n<p>本事例は、京のリソースグループmicroを利用してジョブを投入することを前提としております。<br>\nそのため、前述のホスト情報登録方法に従い、京のリソースグループmicroにジョブを投入するためのホスト情報を登録しておく必要があります。\n本サンプルでは、京コンピュータでリソースグループmicroを使用して計算を行うため「K_micro」としています。</p>\n<p>参考として、本事例で設定したホスト情報の中で注意すべき項目を示します。</p>\n<ul>\n<li>Host Work Dir：/scratch/groupname/…<br>\n※リソースグループmicroを用いてジョブを投入する場合、/home,/dataからジョブを投入することはできません。詳細は京のユーザガイドをご確認ください。</li>\n<li>Job Scheduler：ParallelNavi<br>\n※ジョブスケジューラの設定は、WHEELのモジュールディレクトリ内[ app/db/jobSceduler.json ]にて行ってください。</li>\n<li>Queue：micro<br>\n※ホスト情報のQueue欄に[ micro ]登録を登録しておくことで、Taskのプロパティからの選択が可能となります。</li>\n</ul>\n<p><img src=\"./img/runOpenFOAM_Task.png\" alt=\"img\" title=\"runOpenFOAM_Task\"></p>\n<p>moveFile_TaskとrunOpenFOAM_Taskを結線で繋ぎます。</p>\n<p>以上でワークフローの設定は終了です。</p>\n<h2 id=\"4.-%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E6%8A%95%E5%85%A5\">4. ジョブの投入 <a class=\"heading-anchor-permalink\" href=\"#4.-%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E6%8A%95%E5%85%A5\">#</a></h2>\n<p>ジョブの投入を行います。前述の「9.ワークフローの作成」にありますように、ジョブの投入は、ワークフロー実行画面上部の実行ボタンより行います。<br>\n実行状況の確認は、ログエリアやコンポーネント右上の実行状況表示アイコン、及びリストビュー画面から行います。</p>\n<p><img src=\"./img/job.png\" alt=\"img\" title=\"ジョブの投入\"></p>\n<h2 id=\"5.-%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\">5. 解析結果の確認 <a class=\"heading-anchor-permalink\" href=\"#5.-%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\">#</a></h2>\n<p>解析結果の確認を行います。<br>\nリモート環境から回収した計算結果ファイルをローカル環境に移動し、「Paraview」にて確認します。</p>\n<h3 id=\"%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3\">解析結果のオープン <a class=\"heading-anchor-permalink\" href=\"#%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3\">#</a></h3>\n<p>実行したパメトリックスタディ解析の結果のひとつ、<strong>流入速度5[m]</strong> の結果を確認します。<br>\nParaviewを起動し、[ File ] -&gt; [ Open ]… より、「result.foam *1」ファイルを選択し、[ OK ]ボタンを押下します。<br>\n*1 result.foam ファイルは、ジョブスクリプト内の「touch」コマンドにて作成したものです。（詳細は、前述の「ジョブスクリプトに関して」をご参照ください）</p>\n<p><img src=\"./img/result_open.png\" alt=\"img\" title=\"結果のオープン\"></p>\n<h3 id=\"%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C\">解析結果 <a class=\"heading-anchor-permalink\" href=\"#%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C\">#</a></h3>\n<p><strong>流入速度5[m]</strong> の解析結果において、分配菅の断面図に <strong>速度 U</strong> を、ベクトルで <strong>圧力 p</strong> を表示した結果は以下になります。</p>\n<h5 id=\"%E6%B5%81%E5%85%A5%E9%80%9F%E5%BA%A65%5Bm%5D\">流入速度5[m] <a class=\"heading-anchor-permalink\" href=\"#%E6%B5%81%E5%85%A5%E9%80%9F%E5%BA%A65%5Bm%5D\">#</a></h5>\n<p><img src=\"./img/result_5.png\" alt=\"img\" title=\"流入速度5m_結果\"></p>\n<p>同様に、<strong>流入速度6[m]</strong>、<strong>流入速度7[m]</strong> の結果を示します。</p>\n<h5 id=\"%E6%B5%81%E5%85%A5%E9%80%9F%E5%BA%A66%5Bm%5D\">流入速度6[m] <a class=\"heading-anchor-permalink\" href=\"#%E6%B5%81%E5%85%A5%E9%80%9F%E5%BA%A66%5Bm%5D\">#</a></h5>\n<p><img src=\"./img/result_6.png\" alt=\"img\" title=\"流入速度6m_結果\"></p>\n<h5 id=\"%E6%B5%81%E5%85%A5%E9%80%9F%E5%BA%A67%5Bm%5D\">流入速度7[m] <a class=\"heading-anchor-permalink\" href=\"#%E6%B5%81%E5%85%A5%E9%80%9F%E5%BA%A67%5Bm%5D\">#</a></h5>\n<p><img src=\"./img/result_7.png\" alt=\"img\" title=\"流入速度7m_結果\"></p>\n<p>OpenFOAMを利用したパラメトリックスタディ解析ワークフロー例は以上になります。</p>\n",
      "id": 22
    },
    {
      "path": "3_WHEEL_tutorial/3_OpenFOAM_KPrepostCloud_sample/OpenFOAM_KPrepostCloud_sample.md",
      "url": "3_WHEEL_tutorial/3_OpenFOAM_KPrepostCloud_sample/OpenFOAM_KPrepostCloud_sample.html",
      "content": "# 京プリポストクラウドを用いたOpenFOAM解析ワークフローの実行\n本章では、前章で紹介した「OpenFOAMを利用したcavityケースの解析ワークフロー」の京プリポストクラウド上での実行方法について説明します。  \n以降、下記の順にて内容を紹介します。  \n\nまた、本章で使用するモデルデータは前章でダウンロード可能です。\nTaskコンポーネントで使用するスクリプトは、下記よりダウンロード可能です。  \n<a href=\"./sample/OpenFOAM_KPrepostCloud_sample.zip\">OpenFOAMサンプルデータ(京プリポストクラウド)</a>\n\n1. 京プリポストクラウドインスタンスへのOpenFOAM環境設定\n1. ワークフローの作成  \n　1. Task コンポーネント - 1  \n　2. Task コンポーネント - 2  \n　3. Task コンポーネント - 3  \n1. 解析の実行\n\n## 1. 京プリポストクラウドインスタンスへのOpenFOAM環境設定\n\n### 京プリポストクラウドインスタンス\n京プリポストクラウドサービスに関しては、理化学研究所のHPをご確認下さい。\n\nhttps://www.r-ccs.riken.jp/ungi/prpstcloud/\n\n本事例では、下記の構成をもつインスタンスを使用しています。  \n```\nイメージ名：Ubuntu16.04_LTS  \nサイズ　　：A4.medium  \n```\n\n### OpenFOAM環境設定\n京プリポストクラウドでOpenFOAMを実行するためには、ユーザ自身でアプリケーションをインストールする必要があります。  \n本節では、OpenFOAM(v6)のインストール方法について説明します。\n\n#### リポジトリの追加\n作成したインスタンスへログイン後、以下のコマンドをターミナルで実行します。\n```\nsudo sh -c \"wget -O - http://dl.openfoam.org/gpg.key | apt-key add -\"\n```\n\nOKが表示されることを確認します。\n```\n--20XX-XX-XX hh:mm:ss--  http://dl.openfoam.org/gpg.key\nResolving dl.openfoam.org (dl.openfoam.org)... 52.208.208.42\nConnecting to dl.openfoam.org (dl.openfoam.org)|52.208.208.42|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 1710 (1.7K) [application/pgp-keys]\nSaving to: ‘STDOUT’\n\n-                             100%[=================================================>]   1.67K  --.-KB/s    in 0s\n\n20XX-XX-XX hh:mm:ss (61.8 MB/s) - written to stdout [1710/1710]\n\nOK\n```\n\n続いて以下のコマンドを実行します。  \nメッセージは表示されません。\n```\nsudo add-apt-repository http://dl.openfoam.org/ubuntu\n```\n\n#### アップデート\n以下のコマンドを実行します。\n```\nsudo apt-get update\n```\n\n以下のメッセージを確認します。\n```\n～中略～\nReading package lists... Done\n```\n\n#### インストールの実行\n以下のコマンドを実行します。\n```\nsudo apt-get -y install openfoam6\n```\n\n実行完了後、以下のメッセージが表示されます。  \n従って、次節でbashrcの編集を行います。\n```\n～中略～\n** To use OpenFOAM please add\n**\n**    . /opt/openfoam6/etc/bashrc\n**\n** To your ~/.bashrc\n～中略～\n```\n\n#### bashrcの編集\nOpenFOAM v6を使用するためにはパスを通す必要があります。\nここでは、viを用いてbashrcを編集します。\n\n以下のコマンドを実行します。\n```\nvi ~/.bashrc\n```\nページの最下部に移動し、iキーを押し、入力モードに変更します。  \n以下を記入します。\n```\nsource /opt/openfoam6/etc/bashrc\n```\nESCキーを押し、入力モードから離脱後、下記コマンドにより保存します。\n```\n:wq\n```\n\n#### インストールの確認\nインスタンスを再起動(ソフトリブート)後、下記のコマンドを実行します。\n```\nsimpleFoam -help\n```\n\n以下が表示されることを確認してください。\n```\nUsage: simpleFoam [OPTIONS]\noptions:\n  -case <dir>       specify alternate case directory, default is the cwd\n  -fileHandler <handler>\n                    override the fileHandler\n  -hostRoots <(((host1 dir1) .. (hostN dirN))>\n                    slave root directories (per host) for distributed running\n  -listFunctionObjects\n                    List functionObjects\n  -listFvOptions    List fvOptions\n  -listRegisteredSwitches\n                    List switches registered for run-time modification\n  -listScalarBCs    List scalar field boundary conditions (fvPatchField<scalar>)\n  -listSwitches     List switches declared in libraries but not set in\n                    etc/controlDict\n  -listTurbulenceModels\n                    List turbulenceModels\n  -listUnsetSwitches\n                    List switches declared in libraries but not set in\n                    etc/controlDict\n  -listVectorBCs    List vector field boundary conditions (fvPatchField<vector>)\n  -noFunctionObjects\n                    do not execute functionObjects\n  -parallel         run in parallel\n  -postProcess      Execute functionObjects only\n  -roots <(dir1 .. dirN)>\n                    slave root directories for distributed running\n  -srcDoc           display source code in browser\n  -doc              display application documentation in browser\n  -help             print the usage\n\nUsing: OpenFOAM-6 (see www.OpenFOAM.org)\nBuild: 6-fa1285188035\n```\n\n以上で京プリポストクラウドインスタンスへのOpenFOAM環境設定は完了です。\n\n## 2. ワークフローの作成\nワークフローの構成は前章と同様に以下の構成となっております。\n各コンポーネントの詳細に関しては、前章をご確認ください。\n\n- Task コンポーネント - 1：ITOへのジョブ投入及びOpenFOAM前処理\n- Task コンポーネント - 2：ITOへのジョブ投入及びOpenFOAM実行用\n- Task コンポーネント - 3：ITOへのジョブ投入及びファイル回収用\n\n京プリポストクラウドでは、ジョブスケジューラは利用できないため各Taskコンポーネントに設定する\nスクリプトファイルは以下のようになります。  \n### Taskコンポーネント-1 PreRunOpenFOAM_Task\n\n> PreRunOpenFOAM.sh  \n```\n#!/bin/bash\nsource /opt/openfoam6/etc/bashrc\ntar xvzf cavity.tar.gz\nmkdir ../WORK\nmv cavity ../WORK\ncd ../WORK/cavity\nblockMesh\n```\n\n### Taskコンポーネント-2 SolRunOpenFOAM_Task\n\n> SolRunOpenFOAM.sh  \n```\n#!/bin/bash\nsource /opt/openfoam6/etc/bashrc\ncd ../WORK/cavity\nicoFoam > ./log.icoFoam 2>&1\n```\n\n### Taskコンポーネント-3 ResultRunOpenFOAM_Task\n\n> ResultRunOpenFOAM.sh  \n```\n#!/bin/bash\ncd ../WORK/cavity\ntouch result.foam\ncd ../  \ntar cvzf cavity.tar.gz cavity\nmv cavity.tar.gz ../ResultRunOpenFOAM_Task/\n```\n\n## 3. 解析の実行\n\n### リモートホスト登録情報に関して\n\n解析の実行にあたり、リモートホスト画面にてユーザが作成した京プリポストクラウドのインスタンス情報を登録する必要があります。\n参考として、本事例で設定したホスト情報の中で注意すべき項目を示します。\n\n- Host Name：10.9.X.X\n- User ID：ubuntu\n- Host Work Dir：/home/ubuntu\n\n### ワークフローの実行\n上記スクリプトを各コンポーネントに設定後、プロジェクト実行ボタンを押下することで計算が開始されます。  \nプロジェクト実行時には京プリポストクラウドとVPN接続されている必要があります。  \n京プリポストクラウドとのVPN接続に関しては、理化学研究所のHPをご確認下さい。\n\n![img](./img/execute_project.png \"プロジェクトの実行\")  \n\n結果の確認方法は前章をご確認下さい。\n\n京プリポストクラウドを用いたOpenFOAM解析ワークフローの実行例は以上になります。",
      "html": "<h1 id=\"%E4%BA%AC%E3%83%97%E3%83%AA%E3%83%9D%E3%82%B9%E3%83%88%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%82%92%E7%94%A8%E3%81%84%E3%81%9Fopenfoam%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C\">京プリポストクラウドを用いたOpenFOAM解析ワークフローの実行 <a class=\"heading-anchor-permalink\" href=\"#%E4%BA%AC%E3%83%97%E3%83%AA%E3%83%9D%E3%82%B9%E3%83%88%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%82%92%E7%94%A8%E3%81%84%E3%81%9Fopenfoam%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C\">#</a></h1>\n<p>本章では、前章で紹介した「OpenFOAMを利用したcavityケースの解析ワークフロー」の京プリポストクラウド上での実行方法について説明します。<br>\n以降、下記の順にて内容を紹介します。</p>\n<p>また、本章で使用するモデルデータは前章でダウンロード可能です。\nTaskコンポーネントで使用するスクリプトは、下記よりダウンロード可能です。<br>\n<a href=\"./sample/OpenFOAM_KPrepostCloud_sample.zip\">OpenFOAMサンプルデータ(京プリポストクラウド)</a></p>\n<ol>\n<li>京プリポストクラウドインスタンスへのOpenFOAM環境設定</li>\n<li>ワークフローの作成<br>\n　1. Task コンポーネント - 1<br>\n　2. Task コンポーネント - 2<br>\n　3. Task コンポーネント - 3</li>\n<li>解析の実行</li>\n</ol>\n<h2 id=\"1.-%E4%BA%AC%E3%83%97%E3%83%AA%E3%83%9D%E3%82%B9%E3%83%88%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%B8%E3%81%AEopenfoam%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A\">1. 京プリポストクラウドインスタンスへのOpenFOAM環境設定 <a class=\"heading-anchor-permalink\" href=\"#1.-%E4%BA%AC%E3%83%97%E3%83%AA%E3%83%9D%E3%82%B9%E3%83%88%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%B8%E3%81%AEopenfoam%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A\">#</a></h2>\n<h3 id=\"%E4%BA%AC%E3%83%97%E3%83%AA%E3%83%9D%E3%82%B9%E3%83%88%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9\">京プリポストクラウドインスタンス <a class=\"heading-anchor-permalink\" href=\"#%E4%BA%AC%E3%83%97%E3%83%AA%E3%83%9D%E3%82%B9%E3%83%88%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9\">#</a></h3>\n<p>京プリポストクラウドサービスに関しては、理化学研究所のHPをご確認下さい。</p>\n<p><a href=\"https://www.r-ccs.riken.jp/ungi/prpstcloud/\">https://www.r-ccs.riken.jp/ungi/prpstcloud/</a></p>\n<p>本事例では、下記の構成をもつインスタンスを使用しています。</p>\n<pre><code>イメージ名：Ubuntu16.04_LTS  \nサイズ　　：A4.medium  \n</code></pre>\n<h3 id=\"openfoam%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A\">OpenFOAM環境設定 <a class=\"heading-anchor-permalink\" href=\"#openfoam%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A\">#</a></h3>\n<p>京プリポストクラウドでOpenFOAMを実行するためには、ユーザ自身でアプリケーションをインストールする必要があります。<br>\n本節では、OpenFOAM(v6)のインストール方法について説明します。</p>\n<h4 id=\"%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AE%E8%BF%BD%E5%8A%A0\">リポジトリの追加 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AE%E8%BF%BD%E5%8A%A0\">#</a></h4>\n<p>作成したインスタンスへログイン後、以下のコマンドをターミナルで実行します。</p>\n<pre><code>sudo sh -c &quot;wget -O - http://dl.openfoam.org/gpg.key | apt-key add -&quot;\n</code></pre>\n<p>OKが表示されることを確認します。</p>\n<pre><code>--20XX-XX-XX hh:mm:ss--  http://dl.openfoam.org/gpg.key\nResolving dl.openfoam.org (dl.openfoam.org)... 52.208.208.42\nConnecting to dl.openfoam.org (dl.openfoam.org)|52.208.208.42|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 1710 (1.7K) [application/pgp-keys]\nSaving to: ‘STDOUT’\n\n-                             100%[=================================================&gt;]   1.67K  --.-KB/s    in 0s\n\n20XX-XX-XX hh:mm:ss (61.8 MB/s) - written to stdout [1710/1710]\n\nOK\n</code></pre>\n<p>続いて以下のコマンドを実行します。<br>\nメッセージは表示されません。</p>\n<pre><code>sudo add-apt-repository http://dl.openfoam.org/ubuntu\n</code></pre>\n<h4 id=\"%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88\">アップデート <a class=\"heading-anchor-permalink\" href=\"#%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88\">#</a></h4>\n<p>以下のコマンドを実行します。</p>\n<pre><code>sudo apt-get update\n</code></pre>\n<p>以下のメッセージを確認します。</p>\n<pre><code>～中略～\nReading package lists... Done\n</code></pre>\n<h4 id=\"%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AE%E5%AE%9F%E8%A1%8C\">インストールの実行 <a class=\"heading-anchor-permalink\" href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AE%E5%AE%9F%E8%A1%8C\">#</a></h4>\n<p>以下のコマンドを実行します。</p>\n<pre><code>sudo apt-get -y install openfoam6\n</code></pre>\n<p>実行完了後、以下のメッセージが表示されます。<br>\n従って、次節でbashrcの編集を行います。</p>\n<pre><code>～中略～\n** To use OpenFOAM please add\n**\n**    . /opt/openfoam6/etc/bashrc\n**\n** To your ~/.bashrc\n～中略～\n</code></pre>\n<h4 id=\"bashrc%E3%81%AE%E7%B7%A8%E9%9B%86\">bashrcの編集 <a class=\"heading-anchor-permalink\" href=\"#bashrc%E3%81%AE%E7%B7%A8%E9%9B%86\">#</a></h4>\n<p>OpenFOAM v6を使用するためにはパスを通す必要があります。\nここでは、viを用いてbashrcを編集します。</p>\n<p>以下のコマンドを実行します。</p>\n<pre><code>vi ~/.bashrc\n</code></pre>\n<p>ページの最下部に移動し、iキーを押し、入力モードに変更します。<br>\n以下を記入します。</p>\n<pre><code>source /opt/openfoam6/etc/bashrc\n</code></pre>\n<p>ESCキーを押し、入力モードから離脱後、下記コマンドにより保存します。</p>\n<pre><code>:wq\n</code></pre>\n<h4 id=\"%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AE%E7%A2%BA%E8%AA%8D\">インストールの確認 <a class=\"heading-anchor-permalink\" href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AE%E7%A2%BA%E8%AA%8D\">#</a></h4>\n<p>インスタンスを再起動(ソフトリブート)後、下記のコマンドを実行します。</p>\n<pre><code>simpleFoam -help\n</code></pre>\n<p>以下が表示されることを確認してください。</p>\n<pre><code>Usage: simpleFoam [OPTIONS]\noptions:\n  -case &lt;dir&gt;       specify alternate case directory, default is the cwd\n  -fileHandler &lt;handler&gt;\n                    override the fileHandler\n  -hostRoots &lt;(((host1 dir1) .. (hostN dirN))&gt;\n                    slave root directories (per host) for distributed running\n  -listFunctionObjects\n                    List functionObjects\n  -listFvOptions    List fvOptions\n  -listRegisteredSwitches\n                    List switches registered for run-time modification\n  -listScalarBCs    List scalar field boundary conditions (fvPatchField&lt;scalar&gt;)\n  -listSwitches     List switches declared in libraries but not set in\n                    etc/controlDict\n  -listTurbulenceModels\n                    List turbulenceModels\n  -listUnsetSwitches\n                    List switches declared in libraries but not set in\n                    etc/controlDict\n  -listVectorBCs    List vector field boundary conditions (fvPatchField&lt;vector&gt;)\n  -noFunctionObjects\n                    do not execute functionObjects\n  -parallel         run in parallel\n  -postProcess      Execute functionObjects only\n  -roots &lt;(dir1 .. dirN)&gt;\n                    slave root directories for distributed running\n  -srcDoc           display source code in browser\n  -doc              display application documentation in browser\n  -help             print the usage\n\nUsing: OpenFOAM-6 (see www.OpenFOAM.org)\nBuild: 6-fa1285188035\n</code></pre>\n<p>以上で京プリポストクラウドインスタンスへのOpenFOAM環境設定は完了です。</p>\n<h2 id=\"2.-%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">2. ワークフローの作成 <a class=\"heading-anchor-permalink\" href=\"#2.-%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">#</a></h2>\n<p>ワークフローの構成は前章と同様に以下の構成となっております。\n各コンポーネントの詳細に関しては、前章をご確認ください。</p>\n<ul>\n<li>Task コンポーネント - 1：ITOへのジョブ投入及びOpenFOAM前処理</li>\n<li>Task コンポーネント - 2：ITOへのジョブ投入及びOpenFOAM実行用</li>\n<li>Task コンポーネント - 3：ITOへのジョブ投入及びファイル回収用</li>\n</ul>\n<p>京プリポストクラウドでは、ジョブスケジューラは利用できないため各Taskコンポーネントに設定する\nスクリプトファイルは以下のようになります。</p>\n<h3 id=\"task%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88-1-prerunopenfoam_task\">Taskコンポーネント-1 PreRunOpenFOAM_Task <a class=\"heading-anchor-permalink\" href=\"#task%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88-1-prerunopenfoam_task\">#</a></h3>\n<blockquote>\n<p><a href=\"http://PreRunOpenFOAM.sh\">PreRunOpenFOAM.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\nsource /opt/openfoam6/etc/bashrc\ntar xvzf cavity.tar.gz\nmkdir ../WORK\nmv cavity ../WORK\ncd ../WORK/cavity\nblockMesh\n</code></pre>\n<h3 id=\"task%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88-2-solrunopenfoam_task\">Taskコンポーネント-2 SolRunOpenFOAM_Task <a class=\"heading-anchor-permalink\" href=\"#task%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88-2-solrunopenfoam_task\">#</a></h3>\n<blockquote>\n<p><a href=\"http://SolRunOpenFOAM.sh\">SolRunOpenFOAM.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\nsource /opt/openfoam6/etc/bashrc\ncd ../WORK/cavity\nicoFoam &gt; ./log.icoFoam 2&gt;&amp;1\n</code></pre>\n<h3 id=\"task%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88-3-resultrunopenfoam_task\">Taskコンポーネント-3 ResultRunOpenFOAM_Task <a class=\"heading-anchor-permalink\" href=\"#task%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88-3-resultrunopenfoam_task\">#</a></h3>\n<blockquote>\n<p><a href=\"http://ResultRunOpenFOAM.sh\">ResultRunOpenFOAM.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\ncd ../WORK/cavity\ntouch result.foam\ncd ../  \ntar cvzf cavity.tar.gz cavity\nmv cavity.tar.gz ../ResultRunOpenFOAM_Task/\n</code></pre>\n<h2 id=\"3.-%E8%A7%A3%E6%9E%90%E3%81%AE%E5%AE%9F%E8%A1%8C\">3. 解析の実行 <a class=\"heading-anchor-permalink\" href=\"#3.-%E8%A7%A3%E6%9E%90%E3%81%AE%E5%AE%9F%E8%A1%8C\">#</a></h2>\n<h3 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">リモートホスト登録情報に関して <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">#</a></h3>\n<p>解析の実行にあたり、リモートホスト画面にてユーザが作成した京プリポストクラウドのインスタンス情報を登録する必要があります。\n参考として、本事例で設定したホスト情報の中で注意すべき項目を示します。</p>\n<ul>\n<li>Host Name：10.9.X.X</li>\n<li>User ID：ubuntu</li>\n<li>Host Work Dir：/home/ubuntu</li>\n</ul>\n<h3 id=\"%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C\">ワークフローの実行 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A1%8C\">#</a></h3>\n<p>上記スクリプトを各コンポーネントに設定後、プロジェクト実行ボタンを押下することで計算が開始されます。<br>\nプロジェクト実行時には京プリポストクラウドとVPN接続されている必要があります。<br>\n京プリポストクラウドとのVPN接続に関しては、理化学研究所のHPをご確認下さい。</p>\n<p><img src=\"./img/execute_project.png\" alt=\"img\" title=\"プロジェクトの実行\"></p>\n<p>結果の確認方法は前章をご確認下さい。</p>\n<p>京プリポストクラウドを用いたOpenFOAM解析ワークフローの実行例は以上になります。</p>\n",
      "id": 23
    },
    {
      "path": "3_WHEEL_tutorial/4_OpenFOAM_TCS_sample/OpenFOAM_TCS_sample.md",
      "url": "3_WHEEL_tutorial/4_OpenFOAM_TCS_sample/OpenFOAM_TCS_sample.html",
      "content": "# OpenFOAMを利用したcavityケースの解析ワークフロー\n本章では、WHEELを用いた計算事例として「OpenFOAMを利用したcavityケースの解析ワークフロー」を紹介します。  \n九大ITOコンピュータのito-g-16-dbgキューを利用して行います。  \n以降、下記の順にて事例内容を紹介します。  \n\nまた、本章で使用するモデルデータ、OpenFOAMの計算実行ファイル、及びTaskコンポーネントで使用するスクリプト例は、  \n下記よりダウンロード可能です。  \n<a href=\"./sample/OpenFOAM_tutorial_sample.zip\">OpenFOAMサンプルデータ</a>\n\n1. 解析概要\n1. ワークフローの作成  \n　1. Task コンポーネント - 1  \n　2. Task コンポーネント - 2  \n　3. Task コンポーネント - 3  \n1. ジョブの投入\n1. 解析結果の確認\n\n## 1. 解析概要\n\n本事例で使用する解析対象モデルは、CFDソフトウェアの基礎的な検証例として著名な「cavity」で行いました。  \n上端の壁が水平方向に一定速度で動き、引きずられるように内部の流体が動くようなモデルの解析です。\n\n![img](./img/cavity.png \"cavity\")  \n\n## 2. WHEELによるワークフローの作成\n\n本節では、WHEELでのパラメトリックスタディ解析に必要なワークフローコンポーネントについて説明します。  \n本事例で必要なコンポーネントとその役割は以下です。\n\n- Task コンポーネント - 1：ITOへのジョブ投入及びOpenFOAM前処理\n- Task コンポーネント - 2：ITOへのジョブ投入及びOpenFOAM実行用\n- Task コンポーネント - 3：ITOへのジョブ投入及びファイル回収用\n\n以降で、各コンポーネントについて説明します。\n\n### Task コンポーネント - 1\n\n続いて、ITOコンピュータへのジョブ投入用及びOpenFOAM解析実行前処理用コンポーネント「PreRunOpenFOAM_Task」について説明します。  \n本コンポーネントは、ITOコンピュータのito-g-1-dbgキューを用いてOpenFOAMによる分配管の流体解析を実行するための前処理を行うコンポーネントです。\n\nPreRunOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### PreRunOpenFOAM_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | PreRunOpenFOAM_Task |\n| Script | PreRunOpenFOAM.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | TCSjobScheduler_1 |\n| UseJobScheduler | true |\n| Queue | ito-g-1-dbg |\n| Clean up flag | keep files |\n| include | - |\n| exclude | - |\n| Files | PreRunOpenFOAM.sh, cavity.tar.gz* |  \n\n*OpenFOAMの計算実行ファイル一式\n\n> PreRunOpenFOAM.sh  \n```\n#!/bin/bash\n#PJM -L \"rscgrp=ito-g-1-dbg\"\n#PJM -L \"rscunit=ito-b\"\n#PJM -L \"elapse=1:00:00\"\n#PJM -j -X -S\n\ntar xvzf cavity.tar.gz\nmkdir ../WORK\nmv cavity ../WORK\ncd ../WORK/cavity\nblockMesh\ndecomposePar\n```\n\n![img](./img/PreRunOpenFOAM_Task.png \"OpenFOAM_PreRunOpenFOAM_Task\")  :q\n\n設定は以下です。　　\n\n1. ITOコンピュータでOpenFOAMを実行するために必要なデータ（OpenFOAMの入力ファイル「cavity.tar.gz」）及びジョブスクリプトPreRunOpenFOAM.shをインポートします\n1. プロパティ[ script ]にPreRunOpenFOAM.shを設定します\n1. プロパティ[ remotehost ]に事前に登録しているITOのリモートホスト情報「TCSjobScheduler_1」設定します*\n1. プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「ito-g-1-dbg」を設定します\n\n*　ITOコンピュータでTCSを使用して計算を行うため「TCSjobScheduler_1」としています。  \n　 ユーザの環境に合わせて設定の変更が必要です。\n\n### Task コンポーネント - 2\n\n続いて、ITOコンピュータへのジョブ投入用及びOpenFOAM解析実行用コンポーネント「SolRunOpenFOAM_Task」について説明します。  \n本コンポーネントは、ITOコンピュータのito-g-4-dbgキューを用いてOpenFOAMによるcavityの解析を実行するためのコンポーネントです。\n\nSolRunOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### SolRunOpenFOAM_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | SolRunOpenFOAM_Task |\n| Script | SolRunOpenFOAM.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | TCSjobScheduler_4 |\n| UseJobScheduler | true |\n| Queue | ito-g-4-dbg |\n| Clean up flag | keep files |\n| include | - |\n| exclude | - |\n| Files | SolRunOpenFOAM.sh | \n\n> SolRunOpenFOAM.sh  \n```\n#!/bin/bash\n#PJM -L \"rscgrp=ito-g-4-dbg\"\n#PJM -L \"rscunit=ito-b\"\n#PJM -L \"vnode=4\"\n#PJM -L \"vnode-core=9\"\n#PJM -L \"elapse=1:00:00\"\n#PJM -j -X -S\n\n## OpenFOAM-v1706\n. /home/app/a/OpenFOAM/OpenFOAM-v1706/etc/bashrc\nsource /etc/bashrc\ncd ../WORK/cavity\nmpiexec -np 4 icoFoam -parallel > ./log.icoFoam 2>&1\n```\n\n![img](./img/SolRunOpenFOAM_Task.png \"OpenFOAM_SolRunOpenFOAM_Task\")  \n\n設定は以下です。　　\n\n1. ITOコンピュータでOpenFOAMを実行するために必要なジョブスクリプトSolRunOpenFOAM.shをインポートします\n1. プロパティ[ script ]にSolRunOpenFOAM.shを設定します\n1. プロパティ[ remotehost ]に事前に登録しているITOのリモートホスト情報「TCSjobScheduler_4」設定します*\n1. プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「ito-g-4-dbg」を設定します\n\n### Task コンポーネント - 3\n\n続いて、ITOコンピュータへのジョブ投入用及びOpenFOAM解析実行後処理用コンポーネント「ResultRunOpenFOAM_Task」について説明します。  \n本コンポーネントは、ITOコンピュータのito-g-1-dbgキューを用いてOpenFOAMによるcavityの解析を実行するためのコンポーネントです。\n\nResultRunOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### ResultRunOpenFOAM_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | ResultRunOpenFOAM_Task |\n| Script | ResultRunOpenFOAM.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | TCSjobScheduler_1 |\n| UseJobScheduler | true |\n| Queue | ito-g-1-dbg |\n| Clean up flag | keep files |\n| include | cavity.tar.gz |\n| exclude | - |\n| Files | ResultRunOpenFOAM.sh |\n\n> ResultRunOpenFOAM.sh  \n```\n#!/bin/bash\n#PJM -L \"rscgrp=ito-g-1-dbg\"\n#PJM -L \"rscunit=ito-b\"\n#PJM -L \"elapse=1:00:00\"\n#PJM -j -X -S\n\ncd ../WORK/cavity\nreconstructPar  \ntouch result.foam  \ncd ../\ntar cvzf cavity.tar.gz cavity\n```\n\n![img](./img/ResultRunOpenFOAM_Task.png \"OpenFOAM_ResultRunOpenFOAM_Task\")  \n\n設定は以下です。　　\n\n1. ITOコンピュータでOpenFOAMを実行するために必要なジョブスクリプトrunOpenFOAM.shをインポートします\n1. プロパティ[ script ]にResultRunOpenFOAM.shを設定します\n1. プロパティ[ remotehost ]に事前に登録しているITOのリモートホスト情報「TCSjobScheduler_1」設定すします*\n1. プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「ito-g-1-dbg」を設定します\n1. includeに回収するファイル名「cavity.tar.gz」を設定します\n\n### ジョブスクリプトに関して\n\nWHEELは、リソースグループを用い、効率的に計算資源を利用することを目的としています。  \nよって、キュー内で解析が完了するようにモデル規模、またノード数、プロセス数を設定しジョブを投入する必要があります。  \n本解析は**4ノード36プロセス**にて解析を行っております。\n\nまた、ジョブスクリプトrunOpenFOAM.shには、#PJMで始まるジョブへのオプション設定の他に「OpenFOAMを実行するためのコマンド」を用意しています。  \nここでは、ITOでOpenFOAMを実行するためのコマンドを紹介します。\n\nITOで利用できるOpenFOAMのバージョンを確認するためには、  \n\n```\n$ module avail\n```\n\nコマンドで確認してください。  \n\nまた、解析完了後、Paraviewで解析結果を確認するためには、空の「○○.foam」ファイル（○○は任意の文字列）が  \n必要であるため、空ファイルを作成するコマンド\n\n```\n$ touch ○○.foam\n```\n\nをスクリプト内に組み込んでおくと結果確認をスムーズに行うことができます。\n\n### リモートホスト登録情報に関して\n\n本事例は、ITOのリソースグループを利用してジョブを投入することを前提としております。  \nそのため、前述のホスト情報登録方法に従い、ITOのリソースグループにジョブを投入するためのホスト情報を登録しておく必要があります。  \n本サンプルでは、ITOコンピュータでリソースグループito-g-1-dbgを使用して計算を行うため「TCSjobScheduler_1」としています。  \n\n参考として、本事例で設定したホスト情報の中で注意すべき項目を示します。\n\n- Host Work Dir：/scratch/groupname/.....  \n※リソースグループを用いてジョブを投入する場合、/home,/dataからジョブを投入することはできません。詳細はITOのユーザガイドをご確認ください。  \n- Job Scheduler：TCS\n※ジョブスケジューラの設定は、WHEELのモジュールディレクトリ内[ app/db/jobSceduler.json ]にて行ってください。  \n- Queue：ito-g-1-dbg\n※ホスト情報のQueue欄に[ ito-g-1-dbg ]登録を登録しておくことで、Taskのプロパティからの選択が可能となります。  \n\n以上でワークフローの設定は終了です。\n\n## 3. ジョブの投入\n\nジョブの投入を行います。前述の「9.ワークフローの作成」にありますように、ジョブの投入は、ワークフロー実行画面上部の実行ボタンより行います。  \n実行状況の確認は、ログエリアやコンポーネント右上の実行状況表示アイコン、及びリストビュー画面から行います。  \n\n![img](./img/finishState.png \"ジョブの投入\")  \n\n## 4. 解析結果の確認\n\n解析結果の確認を行います。  \nリモート環境から回収した計算結果ファイルをローカル環境に移動し、「Paraview」にて確認します。  \n\n### 解析結果のオープン\n\nParaviewを起動し、[ File ] -> [ Open ].... より、「result.foam *1」ファイルを選択し、[ OK ]ボタンを押下します。　　\n*1 result.foam ファイルは、ジョブスクリプト内の「touch」コマンドにて作成したものです。（詳細は、前述の「ジョブスクリプトに関して」をご参照ください）\n\n### 解析結果\n\n参考として風速ベクトルの可視化結果を記載します。\n\n![img](./img/cavity_result.png \"風速ベクトル\")  \n\nOpenFOAMを利用した九大ITOによる解析ワークフロー例は以上になります。\n",
      "html": "<h1 id=\"openfoam%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9Fcavity%E3%82%B1%E3%83%BC%E3%82%B9%E3%81%AE%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC\">OpenFOAMを利用したcavityケースの解析ワークフロー <a class=\"heading-anchor-permalink\" href=\"#openfoam%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9Fcavity%E3%82%B1%E3%83%BC%E3%82%B9%E3%81%AE%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC\">#</a></h1>\n<p>本章では、WHEELを用いた計算事例として「OpenFOAMを利用したcavityケースの解析ワークフロー」を紹介します。<br>\n九大ITOコンピュータのito-g-16-dbgキューを利用して行います。<br>\n以降、下記の順にて事例内容を紹介します。</p>\n<p>また、本章で使用するモデルデータ、OpenFOAMの計算実行ファイル、及びTaskコンポーネントで使用するスクリプト例は、<br>\n下記よりダウンロード可能です。<br>\n<a href=\"./sample/OpenFOAM_tutorial_sample.zip\">OpenFOAMサンプルデータ</a></p>\n<ol>\n<li>解析概要</li>\n<li>ワークフローの作成<br>\n　1. Task コンポーネント - 1<br>\n　2. Task コンポーネント - 2<br>\n　3. Task コンポーネント - 3</li>\n<li>ジョブの投入</li>\n<li>解析結果の確認</li>\n</ol>\n<h2 id=\"1.-%E8%A7%A3%E6%9E%90%E6%A6%82%E8%A6%81\">1. 解析概要 <a class=\"heading-anchor-permalink\" href=\"#1.-%E8%A7%A3%E6%9E%90%E6%A6%82%E8%A6%81\">#</a></h2>\n<p>本事例で使用する解析対象モデルは、CFDソフトウェアの基礎的な検証例として著名な「cavity」で行いました。<br>\n上端の壁が水平方向に一定速度で動き、引きずられるように内部の流体が動くようなモデルの解析です。</p>\n<p><img src=\"./img/cavity.png\" alt=\"img\" title=\"cavity\"></p>\n<h2 id=\"2.-wheel%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">2. WHEELによるワークフローの作成 <a class=\"heading-anchor-permalink\" href=\"#2.-wheel%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">#</a></h2>\n<p>本節では、WHEELでのパラメトリックスタディ解析に必要なワークフローコンポーネントについて説明します。<br>\n本事例で必要なコンポーネントとその役割は以下です。</p>\n<ul>\n<li>Task コンポーネント - 1：ITOへのジョブ投入及びOpenFOAM前処理</li>\n<li>Task コンポーネント - 2：ITOへのジョブ投入及びOpenFOAM実行用</li>\n<li>Task コンポーネント - 3：ITOへのジョブ投入及びファイル回収用</li>\n</ul>\n<p>以降で、各コンポーネントについて説明します。</p>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---1\">Task コンポーネント - 1 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---1\">#</a></h3>\n<p>続いて、ITOコンピュータへのジョブ投入用及びOpenFOAM解析実行前処理用コンポーネント「PreRunOpenFOAM_Task」について説明します。<br>\n本コンポーネントは、ITOコンピュータのito-g-1-dbgキューを用いてOpenFOAMによる分配管の流体解析を実行するための前処理を行うコンポーネントです。</p>\n<p>PreRunOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"prerunopenfoam_task\">PreRunOpenFOAM_Task <a class=\"heading-anchor-permalink\" href=\"#prerunopenfoam_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>PreRunOpenFOAM_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://PreRunOpenFOAM.sh\">PreRunOpenFOAM.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>TCSjobScheduler_1</td>\n</tr>\n<tr>\n<td>UseJobScheduler</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>ito-g-1-dbg</td>\n</tr>\n<tr>\n<td>Clean up flag</td>\n<td>keep files</td>\n</tr>\n<tr>\n<td>include</td>\n<td>-</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Files</td>\n<td><a href=\"http://PreRunOpenFOAM.sh\">PreRunOpenFOAM.sh</a>, cavity.tar.gz*</td>\n</tr>\n</tbody>\n</table>\n<p>*OpenFOAMの計算実行ファイル一式</p>\n<blockquote>\n<p><a href=\"http://PreRunOpenFOAM.sh\">PreRunOpenFOAM.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\n#PJM -L &quot;rscgrp=ito-g-1-dbg&quot;\n#PJM -L &quot;rscunit=ito-b&quot;\n#PJM -L &quot;elapse=1:00:00&quot;\n#PJM -j -X -S\n\ntar xvzf cavity.tar.gz\nmkdir ../WORK\nmv cavity ../WORK\ncd ../WORK/cavity\nblockMesh\ndecomposePar\n</code></pre>\n<p><img src=\"./img/PreRunOpenFOAM_Task.png\" alt=\"img\" title=\"OpenFOAM_PreRunOpenFOAM_Task\">  :q</p>\n<p>設定は以下です。</p>\n<ol>\n<li>ITOコンピュータでOpenFOAMを実行するために必要なデータ（OpenFOAMの入力ファイル「cavity.tar.gz」）及びジョブスクリプトPreRunOpenFOAM.shをインポートします</li>\n<li>プロパティ[ script ]にPreRunOpenFOAM.shを設定します</li>\n<li>プロパティ[ remotehost ]に事前に登録しているITOのリモートホスト情報「TCSjobScheduler_1」設定します*</li>\n<li>プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「ito-g-1-dbg」を設定します</li>\n</ol>\n<p>*　ITOコンピュータでTCSを使用して計算を行うため「TCSjobScheduler_1」としています。<br>\n　 ユーザの環境に合わせて設定の変更が必要です。</p>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---2\">Task コンポーネント - 2 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---2\">#</a></h3>\n<p>続いて、ITOコンピュータへのジョブ投入用及びOpenFOAM解析実行用コンポーネント「SolRunOpenFOAM_Task」について説明します。<br>\n本コンポーネントは、ITOコンピュータのito-g-4-dbgキューを用いてOpenFOAMによるcavityの解析を実行するためのコンポーネントです。</p>\n<p>SolRunOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"solrunopenfoam_task\">SolRunOpenFOAM_Task <a class=\"heading-anchor-permalink\" href=\"#solrunopenfoam_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>SolRunOpenFOAM_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://SolRunOpenFOAM.sh\">SolRunOpenFOAM.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>TCSjobScheduler_4</td>\n</tr>\n<tr>\n<td>UseJobScheduler</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>ito-g-4-dbg</td>\n</tr>\n<tr>\n<td>Clean up flag</td>\n<td>keep files</td>\n</tr>\n<tr>\n<td>include</td>\n<td>-</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Files</td>\n<td><a href=\"http://SolRunOpenFOAM.sh\">SolRunOpenFOAM.sh</a></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><a href=\"http://SolRunOpenFOAM.sh\">SolRunOpenFOAM.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\n#PJM -L &quot;rscgrp=ito-g-4-dbg&quot;\n#PJM -L &quot;rscunit=ito-b&quot;\n#PJM -L &quot;vnode=4&quot;\n#PJM -L &quot;vnode-core=9&quot;\n#PJM -L &quot;elapse=1:00:00&quot;\n#PJM -j -X -S\n\n## OpenFOAM-v1706\n. /home/app/a/OpenFOAM/OpenFOAM-v1706/etc/bashrc\nsource /etc/bashrc\ncd ../WORK/cavity\nmpiexec -np 4 icoFoam -parallel &gt; ./log.icoFoam 2&gt;&amp;1\n</code></pre>\n<p><img src=\"./img/SolRunOpenFOAM_Task.png\" alt=\"img\" title=\"OpenFOAM_SolRunOpenFOAM_Task\"></p>\n<p>設定は以下です。</p>\n<ol>\n<li>ITOコンピュータでOpenFOAMを実行するために必要なジョブスクリプトSolRunOpenFOAM.shをインポートします</li>\n<li>プロパティ[ script ]にSolRunOpenFOAM.shを設定します</li>\n<li>プロパティ[ remotehost ]に事前に登録しているITOのリモートホスト情報「TCSjobScheduler_4」設定します*</li>\n<li>プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「ito-g-4-dbg」を設定します</li>\n</ol>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---3\">Task コンポーネント - 3 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---3\">#</a></h3>\n<p>続いて、ITOコンピュータへのジョブ投入用及びOpenFOAM解析実行後処理用コンポーネント「ResultRunOpenFOAM_Task」について説明します。<br>\n本コンポーネントは、ITOコンピュータのito-g-1-dbgキューを用いてOpenFOAMによるcavityの解析を実行するためのコンポーネントです。</p>\n<p>ResultRunOpenFOAM_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"resultrunopenfoam_task\">ResultRunOpenFOAM_Task <a class=\"heading-anchor-permalink\" href=\"#resultrunopenfoam_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>ResultRunOpenFOAM_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://ResultRunOpenFOAM.sh\">ResultRunOpenFOAM.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>TCSjobScheduler_1</td>\n</tr>\n<tr>\n<td>UseJobScheduler</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>ito-g-1-dbg</td>\n</tr>\n<tr>\n<td>Clean up flag</td>\n<td>keep files</td>\n</tr>\n<tr>\n<td>include</td>\n<td>cavity.tar.gz</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Files</td>\n<td><a href=\"http://ResultRunOpenFOAM.sh\">ResultRunOpenFOAM.sh</a></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><a href=\"http://ResultRunOpenFOAM.sh\">ResultRunOpenFOAM.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\n#PJM -L &quot;rscgrp=ito-g-1-dbg&quot;\n#PJM -L &quot;rscunit=ito-b&quot;\n#PJM -L &quot;elapse=1:00:00&quot;\n#PJM -j -X -S\n\ncd ../WORK/cavity\nreconstructPar  \ntouch result.foam  \ncd ../\ntar cvzf cavity.tar.gz cavity\n</code></pre>\n<p><img src=\"./img/ResultRunOpenFOAM_Task.png\" alt=\"img\" title=\"OpenFOAM_ResultRunOpenFOAM_Task\"></p>\n<p>設定は以下です。</p>\n<ol>\n<li>ITOコンピュータでOpenFOAMを実行するために必要なジョブスクリプトrunOpenFOAM.shをインポートします</li>\n<li>プロパティ[ script ]にResultRunOpenFOAM.shを設定します</li>\n<li>プロパティ[ remotehost ]に事前に登録しているITOのリモートホスト情報「TCSjobScheduler_1」設定すします*</li>\n<li>プロパティ[ useJobScheduler ]をチェックし、プロパティ[ queue ]に「ito-g-1-dbg」を設定します</li>\n<li>includeに回収するファイル名「cavity.tar.gz」を設定します</li>\n</ol>\n<h3 id=\"%E3%82%B8%E3%83%A7%E3%83%96%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">ジョブスクリプトに関して <a class=\"heading-anchor-permalink\" href=\"#%E3%82%B8%E3%83%A7%E3%83%96%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">#</a></h3>\n<p>WHEELは、リソースグループを用い、効率的に計算資源を利用することを目的としています。<br>\nよって、キュー内で解析が完了するようにモデル規模、またノード数、プロセス数を設定しジョブを投入する必要があります。<br>\n本解析は<strong>4ノード36プロセス</strong>にて解析を行っております。</p>\n<p>また、ジョブスクリプトrunOpenFOAM.shには、#PJMで始まるジョブへのオプション設定の他に「OpenFOAMを実行するためのコマンド」を用意しています。<br>\nここでは、ITOでOpenFOAMを実行するためのコマンドを紹介します。</p>\n<p>ITOで利用できるOpenFOAMのバージョンを確認するためには、</p>\n<pre><code>$ module avail\n</code></pre>\n<p>コマンドで確認してください。</p>\n<p>また、解析完了後、Paraviewで解析結果を確認するためには、空の「○○.foam」ファイル（○○は任意の文字列）が<br>\n必要であるため、空ファイルを作成するコマンド</p>\n<pre><code>$ touch ○○.foam\n</code></pre>\n<p>をスクリプト内に組み込んでおくと結果確認をスムーズに行うことができます。</p>\n<h3 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">リモートホスト登録情報に関して <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">#</a></h3>\n<p>本事例は、ITOのリソースグループを利用してジョブを投入することを前提としております。<br>\nそのため、前述のホスト情報登録方法に従い、ITOのリソースグループにジョブを投入するためのホスト情報を登録しておく必要があります。<br>\n本サンプルでは、ITOコンピュータでリソースグループito-g-1-dbgを使用して計算を行うため「TCSjobScheduler_1」としています。</p>\n<p>参考として、本事例で設定したホスト情報の中で注意すべき項目を示します。</p>\n<ul>\n<li>Host Work Dir：/scratch/groupname/…<br>\n※リソースグループを用いてジョブを投入する場合、/home,/dataからジョブを投入することはできません。詳細はITOのユーザガイドをご確認ください。</li>\n<li>Job Scheduler：TCS\n※ジョブスケジューラの設定は、WHEELのモジュールディレクトリ内[ app/db/jobSceduler.json ]にて行ってください。</li>\n<li>Queue：ito-g-1-dbg\n※ホスト情報のQueue欄に[ ito-g-1-dbg ]登録を登録しておくことで、Taskのプロパティからの選択が可能となります。</li>\n</ul>\n<p>以上でワークフローの設定は終了です。</p>\n<h2 id=\"3.-%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E6%8A%95%E5%85%A5\">3. ジョブの投入 <a class=\"heading-anchor-permalink\" href=\"#3.-%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E6%8A%95%E5%85%A5\">#</a></h2>\n<p>ジョブの投入を行います。前述の「9.ワークフローの作成」にありますように、ジョブの投入は、ワークフロー実行画面上部の実行ボタンより行います。<br>\n実行状況の確認は、ログエリアやコンポーネント右上の実行状況表示アイコン、及びリストビュー画面から行います。</p>\n<p><img src=\"./img/finishState.png\" alt=\"img\" title=\"ジョブの投入\"></p>\n<h2 id=\"4.-%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\">4. 解析結果の確認 <a class=\"heading-anchor-permalink\" href=\"#4.-%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\">#</a></h2>\n<p>解析結果の確認を行います。<br>\nリモート環境から回収した計算結果ファイルをローカル環境に移動し、「Paraview」にて確認します。</p>\n<h3 id=\"%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3\">解析結果のオープン <a class=\"heading-anchor-permalink\" href=\"#%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3\">#</a></h3>\n<p>Paraviewを起動し、[ File ] -&gt; [ Open ]… より、「result.foam *1」ファイルを選択し、[ OK ]ボタンを押下します。　　\n*1 result.foam ファイルは、ジョブスクリプト内の「touch」コマンドにて作成したものです。（詳細は、前述の「ジョブスクリプトに関して」をご参照ください）</p>\n<h3 id=\"%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C\">解析結果 <a class=\"heading-anchor-permalink\" href=\"#%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C\">#</a></h3>\n<p>参考として風速ベクトルの可視化結果を記載します。</p>\n<p><img src=\"./img/cavity_result.png\" alt=\"img\" title=\"風速ベクトル\"></p>\n<p>OpenFOAMを利用した九大ITOによる解析ワークフロー例は以上になります。</p>\n",
      "id": 24
    },
    {
      "path": "3_WHEEL_tutorial/5_TensorFlow_UGE_sample/TensorFlow_UGE_sample.md",
      "url": "3_WHEEL_tutorial/5_TensorFlow_UGE_sample/TensorFlow_UGE_sample.html",
      "content": "# TensorFlowを利用したMNISTデータ解析ワークフロー\n\n本章では、WHEELを用いた計算事例として「TensorFlowを利用したMNISTデータの解析ワークフロー」を紹介します。  \n本事例では、TensorFlowを利用するリモートタスクを用いて、MNISTデータを用いた手書き数字画像学習モデルを作成します。  \n以降、下記の順にて事例内容を紹介します。  \n\n1. MNISTデータについて\n1. NN(Neural Network)について\n1. kerasについて\n1. ワークフローの作成\n1. ジョブの投入\n1. 解析結果の確認\n\nまた、Taskコンポーネントで使用するスクリプト例は、  \n下記よりダウンロード可能です。  \n<a href=\"./sample/runTensorFlow.zip\">TensorFlowサンプルデータ</a>\n\n## 1. MNISTデータについて\n\nここでは、本事例で使用するMNISTデータについて説明をします。  \nMNISTとは手書き数字画像60000枚とテスト画像10000枚を集めた画像データセットのことであり、  \nニューラルネットワークを学習するうえで非常に便利な画像のデータセットとして著名です。  \nデータセットの中身は以下のような構造になっています。  \n```\nMNISTデータ\n　├ 学習用データ (60,000個)\n　│ 　├ 画像データ\n　│ 　└ ラベルデータ(正解データ)\n　│\n　└ 検証用データ (10,000個)\n　　 　├ 画像データ\n　　 　└ ラベルデータ（正解データ）\n```\n各画像データに対して正解データであるラベルデータが一つずつ与えられています。\n\n## 2. NN(Neural Network)について\n\nここでは、MNISTデータを解析する際に使用するNNという手法について説明します。  \nNNとは、ニューラルネットワークの略で、人間の脳内にある神経細胞（ニューロン）とそのつながり、つまり神経回路網を人工ニューロンという数式的なモデルで表現したものです。  \n入力層、出力層、隠れ層から構成されていて、層と層の間には、ニューロン同士のつながりの強さを示す「重み」があります。  \n\n![img](./img/NN.PNG \"ニューラルネットワークについて\")  \n\n画像より特徴を抽出して、ノードの重みを更新していき学習させていきます。  \n本事例では、MNISTのデータセットを用いたので28*28ピクセルの入力から0~9の数字のどれかという出力を出すために入力層を784ノード、出力層を10ノードとしています。\n\n## 3. kerasについて\n\nKerasは、オープンソースのニューラルネットワークライブラリです。  \nディープニューラルネットワークを用いた迅速な実験を行えるように設計されており、「シンプル」「モジュール式」「拡張性」などの特徴があります。  \nKerasは以下のバックエンドをサポートしており、TensorFlowをデフォルトのテンソル計算ライブラリとしています。  \n\n- TensorFlow\n- Microsoft Cognitive Toolkit\n- Theano\n\n```\nmodel = Sequential()\nmodel.add(Dense(8, input_dim=4))\nmodel.add(Activation('relu'))\nmodel.add(Dense(3, input_dim=8))\nmodel.add(Activation('softmax'))\nmodel.compile(optimizer='SGD', loss='categorical_crossentropy', metrics=['accuracy'])\n```\n\n上記にkerasによるモデリング例を載せていますが、直感的にモデリングをすることが出来るのがkerasの特徴です。  \nこれにより、ニューラルネットワークの設計を容易に行うことができます。本モデル例は以下の内容となります。\n\n- 入力層は四つのノードを持っています。\n- 隠れ層の数は一つで、ノード数は8です。\n- 隠れ層のそれぞれのノードは入力層のノードの重みとの線形結合された値を受け取り、活性化関数を適応させています。\n- 出力層は3つのノードを持っています。\n- 出力層のそれぞれのノードは入力層のノードの重みとの線形結合された値を受け取り、活性化関数を適応させています。\n\n## 4. WHEELによるワークフローの作成\n\n本節では、WHEELでのパラメトリックスタディ解析に必要なワークフローコンポーネントについて説明します。  \n本事例で必要なコンポーネントとその役割は以下です。  \n\n- Task コンポーネント - 1：ジョブ投入前の前処理\n- Task コンポーネント - 2：MNISTデータを用いたnnモデルの学習\n- Task コンポーネント - 3：nnモデルの評価\n\n以降で、各コンポーネントについて説明します。\n\n### Task コンポーネント - 1\n\n続いて、ジョブ投入用及びTensorFlow解析実行用コンポーネント「PreRunTensorFlow_Task」について説明します。  \n本コンポーネントは、スーパーコンピュータのキューを用いてTensorFlowによるMNISTデータ学習の前処理を実行するためのコンポーネントです。\n\nrunTensorFlow_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### PreRunTensorFlow_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | PreRunTensorFlow_Task |\n| Script | PreRunTensorFlow.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | UGEjobScheduler |\n| UseJobScheduler | true |\n| Queue | - |\n| Clean up flag | keep files |\n| include | - |\n| exclude | - |\n| Files | kerasMNIST.py , kerasMNISTEval.py |\n\n> PreRunTensorFlow.sh  \n```\n#!/bin/bash\n#$ -l rt_F=1\n#$ -j y\n#$ -cwd\n\nmv kerasMNIST.py kerasMNISTEval.py /${WORK}\ncd /${WORK}\nsource /etc/profile.d/modules.sh\nmodule load singularity/2.6.1\nsingularity pull docker://nvcr.io/nvidia/tensorflow:19.06-py2\n```\n\n設定は以下です。　　\n\n1. スーパーコンピュータでTensorFlowを実行するためのディレクトリに移動します\n1. プロパティ[ script ]にPreRunTensorFlow.shを設定します\n1. プロパティ[ remotehost ]に事前に登録しているリモートホスト情報「UGEjobScheduler」設定します *\n\n*　ジョブスケジューラーにUGEを使用して計算を行うため「UGEjobScheduler」としています。  \n　 ユーザの環境に合わせて名称の変更が必要です。\n\n![img](./img/PreRunTensorFlow_Task.PNG \"TensorFlow_Task\")  \n\n以上がTaskコンポーネント - 1 の設定になります。\n\n### Task コンポーネント - 2\n\n続いて、ジョブ投入用及びTensorFlow解析実行用コンポーネント「TrainRunTensorFlow_Task」について説明します。  \n本コンポーネントは、スーパーコンピュータのキューを用いてTensorFlowによるMNISTデータ学習処理を実行するためのコンポーネントです。\n\nTrainRunTensorFlow_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### TrainRunTensorFlow_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | TrainRunTensorFlow_Task |\n| Script | TrainRunTensorFlow.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | UGEjobScheduler |\n| UseJobScheduler | true |\n| Queue | - |\n| Clean up flag | keep files |\n| include | - |\n| exclude | - |\n| Files | - |\n\n> runTensorFlow.sh  \n```\n#!/bin/bash\n#$ -l rt_F=1\n#$ -j y\n#$ -cwd\n\ncd /${WORK}\nsource /etc/profile.d/modules.sh\nmodule load singularity/2.6.1\nsingularity run --nv tensorflow-19.06-py2.simg python kerasMNIST.py > ./log.MNIST 2>&1\n```\n\n設定は以下です。　　\n\n1. スーパーコンピュータでTensorFlowを実行するためのジョブスクリプトTrainRunTensorFlow.shをインポートします\n1. プロパティ[ script ]にTrainRunTensorFlow.shを設定します\n1. プロパティ[ remotehost ]に事前に登録しているリモートホスト情報「UGEjobScheduler」設定します *\n\n![img](./img/TrainRunTensorFlow_Task.PNG \"TensorFlow_Task\")  \n\n以上がTaskコンポーネント - 2 の設定になります。\n\n### Task コンポーネント - 3\n\n続いて、ジョブ投入用及びTensorFlow解析実行用コンポーネント「EvalRunTensorFlow_Task」について説明します。  \n本コンポーネントは、スーパーコンピュータのキューを用いてTensorFlowによるMNISTデータを学習したモデルを評価するためのコンポーネントです。\n\nEvalRunTensorFlow_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。\n\n##### EvalRunTensorFlow_Task\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Name | EvalRunTensorFlow_Task |\n| Script | EvalRunTensorFlow.sh |\n| InputFiles | - |\n| OutputFiles | - |\n| Remotehost | UGEjobScheduler |\n| UseJobScheduler | true |\n| Queue | - |\n| Clean up flag | keep files |\n| include | - |\n| exclude | - |\n| Files | - |\n\n> EvalRunTensorFlow.sh  \n```\n#!/bin/bash\n#$ -l rt_F=1\n#$ -j y\n#$ -cwd\n\ncd /${WORK}\nsource /etc/profile.d/modules.sh\nmodule load singularity/2.6.1\nsingularity run --nv tensorflow-19.06-py2.simg python kerasMNISTEval.py > ./log.MNISTEval 2>&1\n```\n\n設定は以下です。　　\n\n1. スーパーコンピュータでTensorFlowを実行するためのジョブスクリプトEvalRunTensorFlow.shをインポートします\n1. プロパティ[ script ]にEvalRunTensorFlow.shを設定します\n1. プロパティ[ remotehost ]に事前に登録しているリモートホスト情報「UGEjobScheduler」設定します *\n\n![img](./img/EvalRunTensorFlow_Task.PNG \"TensorFlow_Task\")  \n\n以上がTaskコンポーネント - 3 の設定になります。\n\n### ジョブスクリプトに関して\n\nWHEELは、効率的に計算資源を利用することを目的としています。  \n\nスーパーコンピューターでTensorFlowを実行するためのコマンドを紹介します。  \n\n本解析では、NVIDIA GPU Cloud(NGC)が提供するDockerイメージをsingularityを用いて実行しています。\n```\nsingularity pull docker://nvcr.io/nvidia/tensorflow:19.06-py2\n```\n\nまた、処理終了後、実行結果を確認するためにログを出力するようにしておくと各タスクの動作確認が容易に実施できます。\n```\nsingularity run --nv tensorflow-19.06-py2.simg python kerasMNISTEval.py > ./log.MNISTEval 2>&1\n```\n\n### リモートホスト登録情報に関して\n\n本事例は、jobSchedulerにUGE利用してジョブを投入することを前提としています。  \nそのため、前述のホスト情報登録方法に従い、ホスト情報を登録しておく必要があります。\n本サンプルでは、UGEjobSchedulerを使用するため「UGEjobScheduler」としています。  \n\n## 4. ジョブの投入\n\nジョブの投入を行います。前述の「9.ワークフローの作成」にありますように、ジョブの投入は、ワークフロー実行画面上部の実行ボタンより行います。  \n実行状況の確認は、ログエリアやコンポーネント右上の実行状況表示アイコン、及びリストビュー画面から行います。  \n\n![img](./img/jobUGE.png \"ジョブの投入\")  \n\n## 5. 解析結果の確認\n\n解析結果の確認を行います。  \n実行完了後、リモートタスクに作成された「log.kerasMNIST」,「log.kerasMNISTEval」ファイルより以下の結果を確認することができます。\n```\n・\n・\n・\n('Test loss:', 0.27075190788507464)\n('Test accuracy:', 0.927)\n```\n\n用語の意味は以下の通りとなっています。\n\n| プロパティ名 | 設定値 |\n| ---- | ---- |\n| Test loss | 学習用データを与えた時の損失値。小さくなればなるほど正しい結果を表せています |\n| Test accuracy | 検証用データの正答率。1に近いほど検証用データにおいて精度が高いことを表しています |\n\naccuracyが「0.927」すなわち検証用データにおいて精度92.7%の学習モデルが作成されたことが確認できます。  \nTensorFlowを利用したMNISTデータ解析ワークフロー例は以上になります。\n",
      "html": "<h1 id=\"tensorflow%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9Fmnist%E3%83%87%E3%83%BC%E3%82%BF%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC\">TensorFlowを利用したMNISTデータ解析ワークフロー <a class=\"heading-anchor-permalink\" href=\"#tensorflow%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9Fmnist%E3%83%87%E3%83%BC%E3%82%BF%E8%A7%A3%E6%9E%90%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC\">#</a></h1>\n<p>本章では、WHEELを用いた計算事例として「TensorFlowを利用したMNISTデータの解析ワークフロー」を紹介します。<br>\n本事例では、TensorFlowを利用するリモートタスクを用いて、MNISTデータを用いた手書き数字画像学習モデルを作成します。<br>\n以降、下記の順にて事例内容を紹介します。</p>\n<ol>\n<li>MNISTデータについて</li>\n<li>NN(Neural Network)について</li>\n<li>kerasについて</li>\n<li>ワークフローの作成</li>\n<li>ジョブの投入</li>\n<li>解析結果の確認</li>\n</ol>\n<p>また、Taskコンポーネントで使用するスクリプト例は、<br>\n下記よりダウンロード可能です。<br>\n<a href=\"./sample/runTensorFlow.zip\">TensorFlowサンプルデータ</a></p>\n<h2 id=\"1.-mnist%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">1. MNISTデータについて <a class=\"heading-anchor-permalink\" href=\"#1.-mnist%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">#</a></h2>\n<p>ここでは、本事例で使用するMNISTデータについて説明をします。<br>\nMNISTとは手書き数字画像60000枚とテスト画像10000枚を集めた画像データセットのことであり、<br>\nニューラルネットワークを学習するうえで非常に便利な画像のデータセットとして著名です。<br>\nデータセットの中身は以下のような構造になっています。</p>\n<pre><code>MNISTデータ\n　├ 学習用データ (60,000個)\n　│ 　├ 画像データ\n　│ 　└ ラベルデータ(正解データ)\n　│\n　└ 検証用データ (10,000個)\n　　 　├ 画像データ\n　　 　└ ラベルデータ（正解データ）\n</code></pre>\n<p>各画像データに対して正解データであるラベルデータが一つずつ与えられています。</p>\n<h2 id=\"2.-nn(neural-network)%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">2. NN(Neural Network)について <a class=\"heading-anchor-permalink\" href=\"#2.-nn(neural-network)%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">#</a></h2>\n<p>ここでは、MNISTデータを解析する際に使用するNNという手法について説明します。<br>\nNNとは、ニューラルネットワークの略で、人間の脳内にある神経細胞（ニューロン）とそのつながり、つまり神経回路網を人工ニューロンという数式的なモデルで表現したものです。<br>\n入力層、出力層、隠れ層から構成されていて、層と層の間には、ニューロン同士のつながりの強さを示す「重み」があります。</p>\n<p><img src=\"./img/NN.PNG\" alt=\"img\" title=\"ニューラルネットワークについて\"></p>\n<p>画像より特徴を抽出して、ノードの重みを更新していき学習させていきます。<br>\n本事例では、MNISTのデータセットを用いたので28*28ピクセルの入力から0~9の数字のどれかという出力を出すために入力層を784ノード、出力層を10ノードとしています。</p>\n<h2 id=\"3.-keras%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">3. kerasについて <a class=\"heading-anchor-permalink\" href=\"#3.-keras%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">#</a></h2>\n<p>Kerasは、オープンソースのニューラルネットワークライブラリです。<br>\nディープニューラルネットワークを用いた迅速な実験を行えるように設計されており、「シンプル」「モジュール式」「拡張性」などの特徴があります。<br>\nKerasは以下のバックエンドをサポートしており、TensorFlowをデフォルトのテンソル計算ライブラリとしています。</p>\n<ul>\n<li>TensorFlow</li>\n<li>Microsoft Cognitive Toolkit</li>\n<li>Theano</li>\n</ul>\n<pre><code>model = Sequential()\nmodel.add(Dense(8, input_dim=4))\nmodel.add(Activation('relu'))\nmodel.add(Dense(3, input_dim=8))\nmodel.add(Activation('softmax'))\nmodel.compile(optimizer='SGD', loss='categorical_crossentropy', metrics=['accuracy'])\n</code></pre>\n<p>上記にkerasによるモデリング例を載せていますが、直感的にモデリングをすることが出来るのがkerasの特徴です。<br>\nこれにより、ニューラルネットワークの設計を容易に行うことができます。本モデル例は以下の内容となります。</p>\n<ul>\n<li>入力層は四つのノードを持っています。</li>\n<li>隠れ層の数は一つで、ノード数は8です。</li>\n<li>隠れ層のそれぞれのノードは入力層のノードの重みとの線形結合された値を受け取り、活性化関数を適応させています。</li>\n<li>出力層は3つのノードを持っています。</li>\n<li>出力層のそれぞれのノードは入力層のノードの重みとの線形結合された値を受け取り、活性化関数を適応させています。</li>\n</ul>\n<h2 id=\"4.-wheel%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">4. WHEELによるワークフローの作成 <a class=\"heading-anchor-permalink\" href=\"#4.-wheel%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">#</a></h2>\n<p>本節では、WHEELでのパラメトリックスタディ解析に必要なワークフローコンポーネントについて説明します。<br>\n本事例で必要なコンポーネントとその役割は以下です。</p>\n<ul>\n<li>Task コンポーネント - 1：ジョブ投入前の前処理</li>\n<li>Task コンポーネント - 2：MNISTデータを用いたnnモデルの学習</li>\n<li>Task コンポーネント - 3：nnモデルの評価</li>\n</ul>\n<p>以降で、各コンポーネントについて説明します。</p>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---1\">Task コンポーネント - 1 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---1\">#</a></h3>\n<p>続いて、ジョブ投入用及びTensorFlow解析実行用コンポーネント「PreRunTensorFlow_Task」について説明します。<br>\n本コンポーネントは、スーパーコンピュータのキューを用いてTensorFlowによるMNISTデータ学習の前処理を実行するためのコンポーネントです。</p>\n<p>runTensorFlow_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"preruntensorflow_task\">PreRunTensorFlow_Task <a class=\"heading-anchor-permalink\" href=\"#preruntensorflow_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>PreRunTensorFlow_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://PreRunTensorFlow.sh\">PreRunTensorFlow.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>UGEjobScheduler</td>\n</tr>\n<tr>\n<td>UseJobScheduler</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Clean up flag</td>\n<td>keep files</td>\n</tr>\n<tr>\n<td>include</td>\n<td>-</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Files</td>\n<td><a href=\"http://kerasMNIST.py\">kerasMNIST.py</a> , <a href=\"http://kerasMNISTEval.py\">kerasMNISTEval.py</a></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><a href=\"http://PreRunTensorFlow.sh\">PreRunTensorFlow.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\n#$ -l rt_F=1\n#$ -j y\n#$ -cwd\n\nmv kerasMNIST.py kerasMNISTEval.py /${WORK}\ncd /${WORK}\nsource /etc/profile.d/modules.sh\nmodule load singularity/2.6.1\nsingularity pull docker://nvcr.io/nvidia/tensorflow:19.06-py2\n</code></pre>\n<p>設定は以下です。</p>\n<ol>\n<li>スーパーコンピュータでTensorFlowを実行するためのディレクトリに移動します</li>\n<li>プロパティ[ script ]にPreRunTensorFlow.shを設定します</li>\n<li>プロパティ[ remotehost ]に事前に登録しているリモートホスト情報「UGEjobScheduler」設定します *</li>\n</ol>\n<p>*　ジョブスケジューラーにUGEを使用して計算を行うため「UGEjobScheduler」としています。<br>\n　 ユーザの環境に合わせて名称の変更が必要です。</p>\n<p><img src=\"./img/PreRunTensorFlow_Task.PNG\" alt=\"img\" title=\"TensorFlow_Task\"></p>\n<p>以上がTaskコンポーネント - 1 の設定になります。</p>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---2\">Task コンポーネント - 2 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---2\">#</a></h3>\n<p>続いて、ジョブ投入用及びTensorFlow解析実行用コンポーネント「TrainRunTensorFlow_Task」について説明します。<br>\n本コンポーネントは、スーパーコンピュータのキューを用いてTensorFlowによるMNISTデータ学習処理を実行するためのコンポーネントです。</p>\n<p>TrainRunTensorFlow_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"trainruntensorflow_task\">TrainRunTensorFlow_Task <a class=\"heading-anchor-permalink\" href=\"#trainruntensorflow_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>TrainRunTensorFlow_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://TrainRunTensorFlow.sh\">TrainRunTensorFlow.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>UGEjobScheduler</td>\n</tr>\n<tr>\n<td>UseJobScheduler</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Clean up flag</td>\n<td>keep files</td>\n</tr>\n<tr>\n<td>include</td>\n<td>-</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Files</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><a href=\"http://runTensorFlow.sh\">runTensorFlow.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\n#$ -l rt_F=1\n#$ -j y\n#$ -cwd\n\ncd /${WORK}\nsource /etc/profile.d/modules.sh\nmodule load singularity/2.6.1\nsingularity run --nv tensorflow-19.06-py2.simg python kerasMNIST.py &gt; ./log.MNIST 2&gt;&amp;1\n</code></pre>\n<p>設定は以下です。</p>\n<ol>\n<li>スーパーコンピュータでTensorFlowを実行するためのジョブスクリプトTrainRunTensorFlow.shをインポートします</li>\n<li>プロパティ[ script ]にTrainRunTensorFlow.shを設定します</li>\n<li>プロパティ[ remotehost ]に事前に登録しているリモートホスト情報「UGEjobScheduler」設定します *</li>\n</ol>\n<p><img src=\"./img/TrainRunTensorFlow_Task.PNG\" alt=\"img\" title=\"TensorFlow_Task\"></p>\n<p>以上がTaskコンポーネント - 2 の設定になります。</p>\n<h3 id=\"task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---3\">Task コンポーネント - 3 <a class=\"heading-anchor-permalink\" href=\"#task-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88---3\">#</a></h3>\n<p>続いて、ジョブ投入用及びTensorFlow解析実行用コンポーネント「EvalRunTensorFlow_Task」について説明します。<br>\n本コンポーネントは、スーパーコンピュータのキューを用いてTensorFlowによるMNISTデータを学習したモデルを評価するためのコンポーネントです。</p>\n<p>EvalRunTensorFlow_Taskコンポーネントに設定するプロパティ、及びスクリプトの中身は以下です。</p>\n<h5 id=\"evalruntensorflow_task\">EvalRunTensorFlow_Task <a class=\"heading-anchor-permalink\" href=\"#evalruntensorflow_task\">#</a></h5>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>EvalRunTensorFlow_Task</td>\n</tr>\n<tr>\n<td>Script</td>\n<td><a href=\"http://EvalRunTensorFlow.sh\">EvalRunTensorFlow.sh</a></td>\n</tr>\n<tr>\n<td>InputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>OutputFiles</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Remotehost</td>\n<td>UGEjobScheduler</td>\n</tr>\n<tr>\n<td>UseJobScheduler</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Queue</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Clean up flag</td>\n<td>keep files</td>\n</tr>\n<tr>\n<td>include</td>\n<td>-</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Files</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><a href=\"http://EvalRunTensorFlow.sh\">EvalRunTensorFlow.sh</a></p>\n</blockquote>\n<pre><code>#!/bin/bash\n#$ -l rt_F=1\n#$ -j y\n#$ -cwd\n\ncd /${WORK}\nsource /etc/profile.d/modules.sh\nmodule load singularity/2.6.1\nsingularity run --nv tensorflow-19.06-py2.simg python kerasMNISTEval.py &gt; ./log.MNISTEval 2&gt;&amp;1\n</code></pre>\n<p>設定は以下です。</p>\n<ol>\n<li>スーパーコンピュータでTensorFlowを実行するためのジョブスクリプトEvalRunTensorFlow.shをインポートします</li>\n<li>プロパティ[ script ]にEvalRunTensorFlow.shを設定します</li>\n<li>プロパティ[ remotehost ]に事前に登録しているリモートホスト情報「UGEjobScheduler」設定します *</li>\n</ol>\n<p><img src=\"./img/EvalRunTensorFlow_Task.PNG\" alt=\"img\" title=\"TensorFlow_Task\"></p>\n<p>以上がTaskコンポーネント - 3 の設定になります。</p>\n<h3 id=\"%E3%82%B8%E3%83%A7%E3%83%96%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">ジョブスクリプトに関して <a class=\"heading-anchor-permalink\" href=\"#%E3%82%B8%E3%83%A7%E3%83%96%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">#</a></h3>\n<p>WHEELは、効率的に計算資源を利用することを目的としています。</p>\n<p>スーパーコンピューターでTensorFlowを実行するためのコマンドを紹介します。</p>\n<p>本解析では、NVIDIA GPU Cloud(NGC)が提供するDockerイメージをsingularityを用いて実行しています。</p>\n<pre><code>singularity pull docker://nvcr.io/nvidia/tensorflow:19.06-py2\n</code></pre>\n<p>また、処理終了後、実行結果を確認するためにログを出力するようにしておくと各タスクの動作確認が容易に実施できます。</p>\n<pre><code>singularity run --nv tensorflow-19.06-py2.simg python kerasMNISTEval.py &gt; ./log.MNISTEval 2&gt;&amp;1\n</code></pre>\n<h3 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">リモートホスト登録情報に関して <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%9B%E3%82%B9%E3%83%88%E7%99%BB%E9%8C%B2%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\">#</a></h3>\n<p>本事例は、jobSchedulerにUGE利用してジョブを投入することを前提としています。<br>\nそのため、前述のホスト情報登録方法に従い、ホスト情報を登録しておく必要があります。\n本サンプルでは、UGEjobSchedulerを使用するため「UGEjobScheduler」としています。</p>\n<h2 id=\"4.-%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E6%8A%95%E5%85%A5\">4. ジョブの投入 <a class=\"heading-anchor-permalink\" href=\"#4.-%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E6%8A%95%E5%85%A5\">#</a></h2>\n<p>ジョブの投入を行います。前述の「9.ワークフローの作成」にありますように、ジョブの投入は、ワークフロー実行画面上部の実行ボタンより行います。<br>\n実行状況の確認は、ログエリアやコンポーネント右上の実行状況表示アイコン、及びリストビュー画面から行います。</p>\n<p><img src=\"./img/jobUGE.png\" alt=\"img\" title=\"ジョブの投入\"></p>\n<h2 id=\"5.-%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\">5. 解析結果の確認 <a class=\"heading-anchor-permalink\" href=\"#5.-%E8%A7%A3%E6%9E%90%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\">#</a></h2>\n<p>解析結果の確認を行います。<br>\n実行完了後、リモートタスクに作成された「log.kerasMNIST」,「log.kerasMNISTEval」ファイルより以下の結果を確認することができます。</p>\n<pre><code>・\n・\n・\n('Test loss:', 0.27075190788507464)\n('Test accuracy:', 0.927)\n</code></pre>\n<p>用語の意味は以下の通りとなっています。</p>\n<table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>設定値</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Test loss</td>\n<td>学習用データを与えた時の損失値。小さくなればなるほど正しい結果を表せています</td>\n</tr>\n<tr>\n<td>Test accuracy</td>\n<td>検証用データの正答率。1に近いほど検証用データにおいて精度が高いことを表しています</td>\n</tr>\n</tbody>\n</table>\n<p>accuracyが「0.927」すなわち検証用データにおいて精度92.7%の学習モデルが作成されたことが確認できます。<br>\nTensorFlowを利用したMNISTデータ解析ワークフロー例は以上になります。</p>\n",
      "id": 25
    },
    {
      "path": "3_WHEEL_tutorial/index.md",
      "url": "3_WHEEL_tutorial/index.html",
      "content": "# WHEELチュートリアル\n\n最新のチュートリアルは以下のリンク先にて公開されているビデオを御参照ください\n\n[基本編](https://youtu.be/BmamdFh5wL0)\n\n[応用編](https://youtu.be/ya55_R_iSf8)\n\n以下のチュートリアルは、旧バージョンのWHEEL用のものであり\n画面の構成などが最新のものとは異なります。\n\nまた、京コンピュータやABCIのシステムを用いたものもありますので\nサイト固有の設定なども含まれている可能性があります。\n\n1. WHEELのチュートリアル\n    1. [Hello World](1_hello_world.md)\n    1. [OpenFOAMを利用したパラメトリックスタディ解析ワークフロー](2_OpenFOAM_PS_sample/OpenFOAM_PS_sample.md)\n    1. [京プリポストクラウドを計算資源としたOpenFOAM解析ワークフロー](3_OpenFOAM_KPrepostCloud_sample/OpenFOAM_KPrepostCloud_sample.md)\n    1. [OpenFOAMを利用したcavityケースの解析ワークフロー](4_OpenFOAM_TCS_sample/OpenFOAM_TCS_sample.md)\n    1. [TensorFlowを利用したMNISTデータ解析ワークフロー](5_TensorFlow_UGE_sample/TensorFlow_UGE_sample.md)\n\n--------\n[トップページに戻る](../index.md)\n",
      "html": "<h1 id=\"wheel%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB\">WHEELチュートリアル <a class=\"heading-anchor-permalink\" href=\"#wheel%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB\">#</a></h1>\n<p>最新のチュートリアルは以下のリンク先にて公開されているビデオを御参照ください</p>\n<p><a href=\"https://youtu.be/BmamdFh5wL0\">基本編</a></p>\n<p><a href=\"https://youtu.be/ya55_R_iSf8\">応用編</a></p>\n<p>以下のチュートリアルは、旧バージョンのWHEEL用のものであり\n画面の構成などが最新のものとは異なります。</p>\n<p>また、京コンピュータやABCIのシステムを用いたものもありますので\nサイト固有の設定なども含まれている可能性があります。</p>\n<ol>\n<li>WHEELのチュートリアル\n<ol>\n<li><a href=\"1_hello_world.html\">Hello World</a></li>\n<li><a href=\"2_OpenFOAM_PS_sample/OpenFOAM_PS_sample.html\">OpenFOAMを利用したパラメトリックスタディ解析ワークフロー</a></li>\n<li><a href=\"3_OpenFOAM_KPrepostCloud_sample/OpenFOAM_KPrepostCloud_sample.html\">京プリポストクラウドを計算資源としたOpenFOAM解析ワークフロー</a></li>\n<li><a href=\"4_OpenFOAM_TCS_sample/OpenFOAM_TCS_sample.html\">OpenFOAMを利用したcavityケースの解析ワークフロー</a></li>\n<li><a href=\"5_TensorFlow_UGE_sample/TensorFlow_UGE_sample.html\">TensorFlowを利用したMNISTデータ解析ワークフロー</a></li>\n</ol>\n</li>\n</ol>\n<hr>\n<p><a href=\"../index.html\">トップページに戻る</a></p>\n",
      "id": 26
    },
    {
      "path": "4_ATTENTION/ATTENTION.md",
      "url": "4_ATTENTION/ATTENTION.html",
      "content": "# 注意事項\n## はじめに\n本ドキュメントは、ワークフローシステムWHEELの仕様上の制限について説明いたします。\n以下の内容によって構成されています。\n1. [リモートタスクがシグナルによって終了した場合](#リモートタスクがシグナルによって終了した場合)\n1. [プロジェクトを停止した場合における実行中スクリプトの取り扱い](#プロジェクトを停止した場合における実行中スクリプトの取り扱い)\n1. [巨大なファイルの取り扱いについて](#巨大なファイルの取り扱いについて)\n1. [input/outputコネクタを接続した状態でのコネクタ名称の変更について](#input/outputコネクタを接続した状態でのコネクタ名称の変更について)\n1. [Windows環境での操作](#Windows環境での操作)\n1. [holdingおよびunknown状態について](#holdingおよびunknown状態について)\n1. [既存プロジェクトの読み込みについて](#既存プロジェクトの読み込みについて)\n\n***\n## リモートタスクがシグナルによって終了した場合\nリモートホストで実行中のプロセスがシグナルによって終了した場合、\nWHEELの仕様上、リモートのシグナル番号を補足できないため正常終了と判断されます。\n***\n## プロジェクトを停止した場合における実行中スクリプトの取り扱い\nプロジェクトの停止ボタンによってプロジェクトを停止した場合、nodeが呼び出した子プロセスは停止されますが、\n子プロセスが実行するスクリプトは停止されません。\n***\n## 巨大なファイルの取り扱いについて\nWHEELではプロジェクトで取り扱うデータをgitで管理しているため大サイズのファイルをプロジェクトディレクトリ内に配置すると\nリポジトリ操作のパフォーマンスが低下することによって様々なトラブルが起きます。\nこの問題を回避するためWHEELのグラフビューからアップロードしたファイルについては一定以上のサイズのものは\ngit LFS (https://git-lfs.github.com/) による管理の対象とするように設定します。\nWHEEL以外の手段でプロジェクトのgitリポジトリにファイルを追加した場合は、サイズによっては正常に操作できなくなる可能性があるので注意してください。\n***\n## input/outputコネクタを接続した状態でのコネクタ名称の変更について\n複数のoutputコネクタを1つのinputコネクタに接続してる状態で、\ninputコネクタの名称変更を行なうと、同時に複数の名称変更処理が行われるため\nコンポーネントの整合性が取れなくなる場合があります。\ninput/outputコネクタの編集を行う際は、接続を解除してから実施してください。\n***\n## Windows環境での操作\nWHEELの動作環境がWindowsOSの際、プロジェクトのdeleteを実行するとエラーが表示される場合があります。\nその場合、deleteしたプロジェクトはプロジェクトリストから削除されますが、実データは削除されません。手動にて削除してください。\n***\n## holdingおよびunknown状態について\nプロジェクトにジョブを投入するタスクが含まれていると、プロジェクトの状態がholdingまたはunknown状態となることがあります。\nholding状態は、ジョブの投入後終了を確認する前に、WHEELのプロセスが終了してしまった時に遷移します。\nこの状態では、プロジェクトの実行は一時停止していますがプロセスが終了する前に投入したジョブの終了確認のみを行なっています。\n全てのジョブが終了した段階で、unknown状態に遷移します。\n\nunknown状態は、プロジェクトの状態が確認できない状態を意味します。\n前述のholding状態から遷移してきた場合は、個々のコンポーネントの状態を確認して全てのタスクが完了しているかどうかを確認してください。\n終了していないタスクが存在する時は、そのままプロジェクトを再実行すると未実行およびfailed状態のコンポーネントのみが再実行されます。\n\nまた、ジョブを投入した後の状態確認処理に失敗した場合(e.g. 一時的な障害などでバッチサーバへの接続が行なえなかった時など)にもunknown状態になります。\nこの場合は、unknown状態となったタスクが正常に終了しているかどうかを直接ジョブ投入先サーバへログインするなどして確認し、\n必要なファイルがあればコピーしてきてください。\n***\n## 既存プロジェクトの読み込みについて\nWHEELは、プロジェクトリストに載っていない既存のプロジェクトを読み込む際に、全ての変更をgitリポジトリにコミットします。このため、読み込むプロジェクトまたはプロジェクトに含まれるコンポーネントが\"not-started\"以外の状態だった場合、プロジェクトのcleanを行なっても再実行できなくなります。\nしたがって、読み込み前にプロジェクトおよびコンポーネントのstateを確認してから実行してください。\n\n\n\n--------\n[トップページに戻る](../index.md)\n",
      "html": "<h1 id=\"%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85\">注意事項 <a class=\"heading-anchor-permalink\" href=\"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85\">#</a></h1>\n<h2 id=\"%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに <a class=\"heading-anchor-permalink\" href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">#</a></h2>\n<p>本ドキュメントは、ワークフローシステムWHEELの仕様上の制限について説明いたします。\n以下の内容によって構成されています。</p>\n<ol>\n<li><a href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%BF%E3%82%B9%E3%82%AF%E3%81%8C%E3%82%B7%E3%82%B0%E3%83%8A%E3%83%AB%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E7%B5%82%E4%BA%86%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88\">リモートタスクがシグナルによって終了した場合</a></li>\n<li><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%81%9C%E6%AD%A2%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E5%8F%96%E3%82%8A%E6%89%B1%E3%81%84\">プロジェクトを停止した場合における実行中スクリプトの取り扱い</a></li>\n<li><a href=\"#%E5%B7%A8%E5%A4%A7%E3%81%AA%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%8F%96%E3%82%8A%E6%89%B1%E3%81%84%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">巨大なファイルの取り扱いについて</a></li>\n<li><a href=\"#input/output%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E3%82%92%E6%8E%A5%E7%B6%9A%E3%81%97%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E5%90%8D%E7%A7%B0%E3%81%AE%E5%A4%89%E6%9B%B4%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">input/outputコネクタを接続した状態でのコネクタ名称の変更について</a></li>\n<li><a href=\"#Windows%E7%92%B0%E5%A2%83%E3%81%A7%E3%81%AE%E6%93%8D%E4%BD%9C\">Windows環境での操作</a></li>\n<li><a href=\"#holding%E3%81%8A%E3%82%88%E3%81%B3unknown%E7%8A%B6%E6%85%8B%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">holdingおよびunknown状態について</a></li>\n<li><a href=\"#%E6%97%A2%E5%AD%98%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">既存プロジェクトの読み込みについて</a></li>\n</ol>\n<hr>\n<h2 id=\"%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%BF%E3%82%B9%E3%82%AF%E3%81%8C%E3%82%B7%E3%82%B0%E3%83%8A%E3%83%AB%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E7%B5%82%E4%BA%86%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88\">リモートタスクがシグナルによって終了した場合 <a class=\"heading-anchor-permalink\" href=\"#%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%BF%E3%82%B9%E3%82%AF%E3%81%8C%E3%82%B7%E3%82%B0%E3%83%8A%E3%83%AB%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E7%B5%82%E4%BA%86%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88\">#</a></h2>\n<p>リモートホストで実行中のプロセスがシグナルによって終了した場合、\nWHEELの仕様上、リモートのシグナル番号を補足できないため正常終了と判断されます。</p>\n<hr>\n<h2 id=\"%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%81%9C%E6%AD%A2%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E5%8F%96%E3%82%8A%E6%89%B1%E3%81%84\">プロジェクトを停止した場合における実行中スクリプトの取り扱い <a class=\"heading-anchor-permalink\" href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%81%9C%E6%AD%A2%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E5%8F%96%E3%82%8A%E6%89%B1%E3%81%84\">#</a></h2>\n<p>プロジェクトの停止ボタンによってプロジェクトを停止した場合、nodeが呼び出した子プロセスは停止されますが、\n子プロセスが実行するスクリプトは停止されません。</p>\n<hr>\n<h2 id=\"%E5%B7%A8%E5%A4%A7%E3%81%AA%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%8F%96%E3%82%8A%E6%89%B1%E3%81%84%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">巨大なファイルの取り扱いについて <a class=\"heading-anchor-permalink\" href=\"#%E5%B7%A8%E5%A4%A7%E3%81%AA%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%8F%96%E3%82%8A%E6%89%B1%E3%81%84%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">#</a></h2>\n<p>WHEELではプロジェクトで取り扱うデータをgitで管理しているため大サイズのファイルをプロジェクトディレクトリ内に配置すると\nリポジトリ操作のパフォーマンスが低下することによって様々なトラブルが起きます。\nこの問題を回避するためWHEELのグラフビューからアップロードしたファイルについては一定以上のサイズのものは\ngit LFS (<a href=\"https://git-lfs.github.com/\">https://git-lfs.github.com/</a>) による管理の対象とするように設定します。\nWHEEL以外の手段でプロジェクトのgitリポジトリにファイルを追加した場合は、サイズによっては正常に操作できなくなる可能性があるので注意してください。</p>\n<hr>\n<h2 id=\"input%2Foutput%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E3%82%92%E6%8E%A5%E7%B6%9A%E3%81%97%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E5%90%8D%E7%A7%B0%E3%81%AE%E5%A4%89%E6%9B%B4%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">input/outputコネクタを接続した状態でのコネクタ名称の変更について <a class=\"heading-anchor-permalink\" href=\"#input%2Foutput%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E3%82%92%E6%8E%A5%E7%B6%9A%E3%81%97%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E5%90%8D%E7%A7%B0%E3%81%AE%E5%A4%89%E6%9B%B4%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">#</a></h2>\n<p>複数のoutputコネクタを1つのinputコネクタに接続してる状態で、\ninputコネクタの名称変更を行なうと、同時に複数の名称変更処理が行われるため\nコンポーネントの整合性が取れなくなる場合があります。\ninput/outputコネクタの編集を行う際は、接続を解除してから実施してください。</p>\n<hr>\n<h2 id=\"windows%E7%92%B0%E5%A2%83%E3%81%A7%E3%81%AE%E6%93%8D%E4%BD%9C\">Windows環境での操作 <a class=\"heading-anchor-permalink\" href=\"#windows%E7%92%B0%E5%A2%83%E3%81%A7%E3%81%AE%E6%93%8D%E4%BD%9C\">#</a></h2>\n<p>WHEELの動作環境がWindowsOSの際、プロジェクトのdeleteを実行するとエラーが表示される場合があります。\nその場合、deleteしたプロジェクトはプロジェクトリストから削除されますが、実データは削除されません。手動にて削除してください。</p>\n<hr>\n<h2 id=\"holding%E3%81%8A%E3%82%88%E3%81%B3unknown%E7%8A%B6%E6%85%8B%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">holdingおよびunknown状態について <a class=\"heading-anchor-permalink\" href=\"#holding%E3%81%8A%E3%82%88%E3%81%B3unknown%E7%8A%B6%E6%85%8B%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">#</a></h2>\n<p>プロジェクトにジョブを投入するタスクが含まれていると、プロジェクトの状態がholdingまたはunknown状態となることがあります。\nholding状態は、ジョブの投入後終了を確認する前に、WHEELのプロセスが終了してしまった時に遷移します。\nこの状態では、プロジェクトの実行は一時停止していますがプロセスが終了する前に投入したジョブの終了確認のみを行なっています。\n全てのジョブが終了した段階で、unknown状態に遷移します。</p>\n<p>unknown状態は、プロジェクトの状態が確認できない状態を意味します。\n前述のholding状態から遷移してきた場合は、個々のコンポーネントの状態を確認して全てのタスクが完了しているかどうかを確認してください。\n終了していないタスクが存在する時は、そのままプロジェクトを再実行すると未実行およびfailed状態のコンポーネントのみが再実行されます。</p>\n<p>また、ジョブを投入した後の状態確認処理に失敗した場合(e.g. 一時的な障害などでバッチサーバへの接続が行なえなかった時など)にもunknown状態になります。\nこの場合は、unknown状態となったタスクが正常に終了しているかどうかを直接ジョブ投入先サーバへログインするなどして確認し、\n必要なファイルがあればコピーしてきてください。</p>\n<hr>\n<h2 id=\"%E6%97%A2%E5%AD%98%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">既存プロジェクトの読み込みについて <a class=\"heading-anchor-permalink\" href=\"#%E6%97%A2%E5%AD%98%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">#</a></h2>\n<p>WHEELは、プロジェクトリストに載っていない既存のプロジェクトを読み込む際に、全ての変更をgitリポジトリにコミットします。このため、読み込むプロジェクトまたはプロジェクトに含まれるコンポーネントが&quot;not-started&quot;以外の状態だった場合、プロジェクトのcleanを行なっても再実行できなくなります。\nしたがって、読み込み前にプロジェクトおよびコンポーネントのstateを確認してから実行してください。</p>\n<hr>\n<p><a href=\"../index.html\">トップページに戻る</a></p>\n",
      "id": 27
    }
  ]
}