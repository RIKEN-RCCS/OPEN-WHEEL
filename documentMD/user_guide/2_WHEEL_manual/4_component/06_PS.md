# ParameterStudy

![img](./img/PS.png "Parameter Study")

ParameterStudyコンポーネント（以下、PSコンポーネント）は、
ParameterFileに指定されたパラメータ空間内で
全ての組み合わせについて下位コンポーネントを可能な限り並列実行します。


PSコンポーネントに設定できるプロパティは以下のとおりです。

### parameterFile
パラメータ空間を定義したJsonファイルを指定します。
parameterFileの作成には[テキストエディタ画面](../../2_WHEEL_manual/3_workflow_screen/3_editor.md)のPS-configモードを用いてください。

### force overwrite
パラメータを設定したディレクトリを作成する際に、
既存のディレクトリが存在しても上書きするかどうかを設定します。

### delete all instances
実行終了時にコピーされた個々のパラメータ用のディレクトリを削除するかどうかを指定します。


## PSコンポーネント実行時の挙動
PSコンポーネントは実行開始時にパラメータ設定ファイルを読み込み、
そこに定義されたパラメータ空間内の全組み合わせに相当する
ディレクトリを自身のディレクトリをコピーすることで作成します。

この時、パラメータ設定ファイル中の`targetFiles`に設定されたファイルは
単純なコピーではなくファイル内に書かれたプレースホルダを
そのパラメータの設定値に書き換えられたファイルがコピーされます。

また`scatter`に設定されたファイルは、設定された内容に応じて
必要なディレクトリのみに、名前を変更してコピーされます。

名前としてパラメータの値を用いることもできます。

コピーされたディレクトリ内のコンポーネントは、並列に実行されますが
Taskコンポーネントについては同時実行本数の制限のなかでの並列実行となります。

全てのパラメータについてコンポーネントの実行が終了すると
`gather`に設定されたファイルのみが、元のディレクトリ以下に集められます。
この時もパラメータの値を用いてファイル名を変更することができるので
アプリケーションの実行結果ファイルなどで、同じ名前のファイルが作成されている場合は
この機能を用いてリネームして集めてください。

gather機能で指定されたなかったファイルは`delete all instances`を
指定しない限り消されることはありませんが、WHEELのGUIからはアクセスできないディレクトリに
置かれるため、実行終了後にアクセスすることはできなくなります。






--------
[リファレンスマニュアルのトップページに戻る](../index.md)
