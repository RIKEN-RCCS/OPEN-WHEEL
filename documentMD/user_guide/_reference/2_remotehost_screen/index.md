# リモートホストの登録
ワークフロー内でWHEELサーバ外の計算環境（以下、リモートホスト）を用いる場合、対象とするリモートホストにSSH接続し処理を実行します。
WHEELでは、ワークフロー画面（Taskコンポーネント）にて使用するリモートホストの情報及びリモートホストに登録されているユーザ情報をリモートホスト登録画面にて設定します。

## リモートホスト登録画面への移動
リモートホスト登録画面は、画面右上のハンバーガーメニューをクリックした時に表示されるリンクを
クリックすると表示されます

![img](./img/hanberger.png "hanberger.png")
![img](./img/drawer.png "drawer.png")


## リモートホスト登録画面
リモートホスト登録画面の構成は以下のようになっています。
![img](./img/remotehost.png "remotehost")

1. タイトル　：ホーム画面遷移ボタン
1. 新規リモートホスト登録ボタン：リモートホストへの接続情報を新しく作成します
1. 新規クラウド設定登録ボタン  ：クラウド上にクラスタを構成する設定を新しく作成します
1. リモートホストリスト：登録済みリモートホスト情報
    1. テストボタン: 設定した接続情報でリモートホストにアクセスできるかどうかを確認します
    1. 編集ボタン  : 入力済の接続情報を編集します
    1. 削除ボタン  : 入力済の接続情報を削除します

### 新規リモートホスト登録画面
新規リモートホスト登録ボタンをクリックすると次の画面が表示されます。

![img](./img/new_remotehost.png "new_remotehost")

フォームの各部には次の情報を設定してください。

|||
|----------|---------------------------------|
|label| 接続情報を区別するための一意な文字列|
|Hostname| 接続先のホスト名(IPアドレスでも可)|
|Port number| 接続先のポート番号|
|User ID| ログインに使用するユーザ名|
|Host work dir| 接続先で、Taskの実行やジョブ投入に使うディレクトリの最上位のパス|
|private key path|秘密鍵のファイルパス |
|job scheduler|リモートホストで使われているジョブサーバの種類|
|max number of jobs|同時に投入するジョブの最大値|
|available queues|リモートホスト上で利用可能なキューの名前。カンマ区切りで記載してください|
|use bulkjob|(富士通TCS使用サイトのみ)バルクジョブを使えるサイトかどうか|
|use stepjob|(富士通TCS使用サイトのみ)ステップジョブを使えるサイトかどうか|
|shared host|ストレージを共用している他のリモートホストのラベル|
|shared path on shared host|shared host上でHost work dirへアクセスするためのパス|

`Advanced settings`の右にある▽をクリックすると、詳細設定の入力フォームが開きます。

![img](./img/new_remotehost_advance.png "new_remotehost_advance")

|||
|----------|---------------------------------|
| connection renewal interval(min.) | ssh接続を切断するまでのアイドル時間 [分]<br> 0の時は切断しない(デフォルト値3)|
| status check interval(sec.) | ジョブ投入後のステータス確認を行う間隔[秒]（デフォルト値 60）|
| max number of status check error allowed | ステータス確認の失敗を何回まで許容するか（デフォルト値 10）|
| interval time between each executions | 1つのジョブ実行が終わった後、次のジョブを実行するまでの待ち時間[秒] （デフォルト値 ジョブでは5、タスクでは1）|
| timeout during handhake phase(msec.) | sshのハンドシェイク時の待ち時間[ミリ秒] （デフォルト値 60000）|

必要な情報を入力し、OKボタンをクリックするとリモートホスト接続設定が保存されます。


--------
[リファレンスマニュアルのトップページに戻る](../index.md)
